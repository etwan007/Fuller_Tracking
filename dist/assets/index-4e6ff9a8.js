var ik=Object.defineProperty;var sk=(t,e,n)=>e in t?ik(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>(sk(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vT={exports:{}},qd={},yT={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),ok=Symbol.for("react.portal"),ak=Symbol.for("react.fragment"),lk=Symbol.for("react.strict_mode"),uk=Symbol.for("react.profiler"),ck=Symbol.for("react.provider"),dk=Symbol.for("react.context"),hk=Symbol.for("react.forward_ref"),fk=Symbol.for("react.suspense"),pk=Symbol.for("react.memo"),mk=Symbol.for("react.lazy"),z_=Symbol.iterator;function gk(t){return t===null||typeof t!="object"?null:(t=z_&&t[z_]||t["@@iterator"],typeof t=="function"?t:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wT=Object.assign,ET={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=ET,this.updater=n||_T}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TT(){}TT.prototype=Oo.prototype;function ig(t,e,n){this.props=t,this.context=e,this.refs=ET,this.updater=n||_T}var sg=ig.prototype=new TT;sg.constructor=ig;wT(sg,Oo.prototype);sg.isPureReactComponent=!0;var B_=Array.isArray,ST=Object.prototype.hasOwnProperty,og={current:null},IT={key:!0,ref:!0,__self:!0,__source:!0};function bT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ST.call(e,r)&&!IT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ql,type:t,key:s,ref:o,props:i,_owner:og.current}}function vk(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function yk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H_=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yk(""+t.key):e.toString(36)}function gc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ql:case ok:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Tf(o,0):r,B_(i)?(n="",t!=null&&(n=t.replace(H_,"$&/")+"/"),gc(i,e,n,"",function(c){return c})):i!=null&&(ag(i)&&(i=vk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(H_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",B_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Tf(s,a);o+=gc(s,e,n,l,i)}else if(l=gk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Tf(s,a++),o+=gc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(t,e,n){if(t==null)return t;var r=[],i=0;return gc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},vc={transition:null},wk={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:vc,ReactCurrentOwner:og};function AT(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Oo;le.Fragment=ak;le.Profiler=uk;le.PureComponent=ig;le.StrictMode=lk;le.Suspense=fk;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk;le.act=AT;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=og.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ST.call(e,l)&&!IT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ql,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:dk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ck,_context:t},t.Consumer=t};le.createElement=bT;le.createFactory=function(t){var e=bT.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:hk,render:t}};le.isValidElement=ag;le.lazy=function(t){return{$$typeof:mk,_payload:{_status:-1,_result:t},_init:_k}};le.memo=function(t,e){return{$$typeof:pk,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};le.unstable_act=AT;le.useCallback=function(t,e){return Vt.current.useCallback(t,e)};le.useContext=function(t){return Vt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Vt.current.useEffect(t,e)};le.useId=function(){return Vt.current.useId()};le.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Vt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};le.useRef=function(t){return Vt.current.useRef(t)};le.useState=function(t){return Vt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Vt.current.useTransition()};le.version="18.3.1";yT.exports=le;var B=yT.exports;const N=Jt(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek=B,Tk=Symbol.for("react.element"),Sk=Symbol.for("react.fragment"),Ik=Object.prototype.hasOwnProperty,bk=Ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ak={key:!0,ref:!0,__self:!0,__source:!0};function CT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ik.call(e,r)&&!Ak.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Tk,type:t,key:s,ref:o,props:i,_owner:bk.current}}qd.Fragment=Sk;qd.jsx=CT;qd.jsxs=CT;vT.exports=qd;var $=vT.exports,wp={},PT={exports:{}},ln={},RT={exports:{}},kT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var X=z.length;z.push(q);e:for(;0<X;){var ue=X-1>>>1,se=z[ue];if(0<i(se,q))z[ue]=q,z[X]=se,X=ue;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],X=z.pop();if(X!==q){z[0]=X;e:for(var ue=0,se=z.length,he=se>>>1;ue<he;){var vt=2*(ue+1)-1,rt=z[vt],Dt=vt+1,Ot=z[Dt];if(0>i(rt,X))Dt<se&&0>i(Ot,rt)?(z[ue]=Ot,z[Dt]=X,ue=Dt):(z[ue]=rt,z[vt]=X,ue=vt);else if(Dt<se&&0>i(Ot,X))z[ue]=Ot,z[Dt]=X,ue=Dt;else break e}}return q}function i(z,q){var X=z.sortIndex-q.sortIndex;return X!==0?X:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,g=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(z){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=z)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function R(z){if(v=!1,I(z),!w)if(n(l)!==null)w=!0,te(O);else{var q=n(c);q!==null&&ie(R,q.startTime-z)}}function O(z,q){w=!1,v&&(v=!1,E(_),_=-1),g=!0;var X=h;try{for(I(q),f=n(l);f!==null&&(!(f.expirationTime>q)||z&&!k());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,h=f.priorityLevel;var se=ue(f.expirationTime<=q);q=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),I(q)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var vt=n(c);vt!==null&&ie(R,vt.startTime-q),he=!1}return he}finally{f=null,h=X,g=!1}}var x=!1,T=null,_=-1,S=5,C=-1;function k(){return!(t.unstable_now()-C<S)}function D(){if(T!==null){var z=t.unstable_now();C=z;var q=!0;try{q=T(!0,z)}finally{q?P():(x=!1,T=null)}}else x=!1}var P;if(typeof y=="function")P=function(){y(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=D,P=function(){oe.postMessage(null)}}else P=function(){b(D,0)};function te(z){T=z,x||(x=!0,P())}function ie(z,q){_=b(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(O))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var X=h;h=q;try{return z()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=h;h=z;try{return q()}finally{h=X}},t.unstable_scheduleCallback=function(z,q,X){var ue=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,z){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,z={id:d++,callback:q,priorityLevel:z,startTime:X,expirationTime:se,sortIndex:-1},X>ue?(z.sortIndex=X,e(c,z),n(l)===null&&z===n(c)&&(v?(E(_),_=-1):v=!0,ie(R,X-ue))):(z.sortIndex=se,e(l,z),w||g||(w=!0,te(O))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var q=h;return function(){var X=h;h=q;try{return z.apply(this,arguments)}finally{h=X}}}})(kT);RT.exports=kT;var Ck=RT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=B,on=Ck;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DT=new Set,ll={};function vs(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(ll[t]=e,t=0;t<e.length;t++)DT.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,Rk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W_={},G_={};function kk(t){return Ep.call(G_,t)?!0:Ep.call(W_,t)?!1:Rk.test(t)?G_[t]=!0:(W_[t]=!0,!1)}function Dk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ok(t,e,n,r){if(e===null||typeof e>"u"||Dk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var lg=/[\-:]([a-z])/g;function ug(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lg,ug);pt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lg,ug);pt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lg,ug);pt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function cg(t,e,n,r){var i=pt.hasOwnProperty(e)?pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ok(e,n,i,r)&&(n=null),r||i===null?kk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Us=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),dg=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),xT=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),Sp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),NT=Symbol.for("react.offscreen"),q_=Symbol.iterator;function wa(t){return t===null||typeof t!="object"?null:(t=q_&&t[q_]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Sf;function Na(t){if(Sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sf=e&&e[1]||""}return`
`+Sf+t}var If=!1;function bf(t,e){if(!t||If)return"";If=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{If=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function xk(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Us:return"Portal";case Tp:return"Profiler";case dg:return"StrictMode";case Sp:return"Suspense";case Ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xT:return(t.displayName||"Context")+".Consumer";case OT:return(t._context.displayName||"Context")+".Provider";case hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fg:return e=t.displayName||null,e!==null?e:bp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return bp(t(e))}catch{}}return null}function Nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bp(e);case 8:return e===dg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mk(t){var e=MT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=Mk(t))}function LT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ap(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function K_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $T(t,e){e=e.checked,e!=null&&cg(t,"checked",e,!1)}function Cp(t,e){$T(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pp(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pp(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ma=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Ma(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function VT(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function X_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,UT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lk=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){Lk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function jT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function zT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $k=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dp(t,e){if(e){if($k[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Op(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Np=null,Zs=null,eo=null;function J_(t){if(t=Zl(t)){if(typeof Np!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Jd(e),Np(t.stateNode,t.type,e))}}function BT(t){Zs?eo?eo.push(t):eo=[t]:Zs=t}function HT(){if(Zs){var t=Zs,e=eo;if(eo=Zs=null,J_(t),e)for(t=0;t<e.length;t++)J_(e[t])}}function WT(t,e){return t(e)}function GT(){}var Af=!1;function qT(t,e,n){if(Af)return t(e,n);Af=!0;try{return WT(t,e,n)}finally{Af=!1,(Zs!==null||eo!==null)&&(GT(),HT())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Mp=!1;if(_r)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Mp=!1}function Vk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ha=!1,Hc=null,Wc=!1,Lp=null,Fk={onError:function(t){Ha=!0,Hc=t}};function Uk(t,e,n,r,i,s,o,a,l){Ha=!1,Hc=null,Vk.apply(Fk,arguments)}function jk(t,e,n,r,i,s,o,a,l){if(Uk.apply(this,arguments),Ha){if(Ha){var c=Hc;Ha=!1,Hc=null}else throw Error(j(198));Wc||(Wc=!0,Lp=c)}}function ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z_(t){if(ys(t)!==t)throw Error(j(188))}function zk(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Z_(i),t;if(s===r)return Z_(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function YT(t){return t=zk(t),t!==null?QT(t):null}function QT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QT(t);if(e!==null)return e;t=t.sibling}return null}var XT=on.unstable_scheduleCallback,ew=on.unstable_cancelCallback,Bk=on.unstable_shouldYield,Hk=on.unstable_requestPaint,ze=on.unstable_now,Wk=on.unstable_getCurrentPriorityLevel,mg=on.unstable_ImmediatePriority,JT=on.unstable_UserBlockingPriority,Gc=on.unstable_NormalPriority,Gk=on.unstable_LowPriority,ZT=on.unstable_IdlePriority,Kd=null,Yn=null;function qk(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Qk,Kk=Math.log,Yk=Math.LN2;function Qk(t){return t>>>=0,t===0?32:31-(Kk(t)/Yk|0)|0}var Wu=64,Gu=4194304;function La(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=La(a):(s&=o,s!==0&&(r=La(s)))}else o=n&~i,o!==0?r=La(o):s!==0&&(r=La(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function Xk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Xk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function $p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eS(){var t=Wu;return Wu<<=1,!(Wu&4194240)&&(Wu=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function Zk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function tS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nS,vg,rS,iS,sS,Vp=!1,qu=[],Yr=null,Qr=null,Xr=null,dl=new Map,hl=new Map,zr=[],eD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tw(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function Ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zl(e),e!==null&&vg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tD(t,e,n,r,i){switch(e){case"focusin":return Yr=Ta(Yr,t,e,n,r,i),!0;case"dragenter":return Qr=Ta(Qr,t,e,n,r,i),!0;case"mouseover":return Xr=Ta(Xr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,Ta(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hl.set(s,Ta(hl.get(s)||null,t,e,n,r,i)),!0}return!1}function oS(t){var e=ji(t.target);if(e!==null){var n=ys(e);if(n!==null){if(e=n.tag,e===13){if(e=KT(n),e!==null){t.blockedOn=e,sS(t.priority,function(){rS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xp=r,n.target.dispatchEvent(r),xp=null}else return e=Zl(n),e!==null&&vg(e),t.blockedOn=n,!1;e.shift()}return!0}function nw(t,e,n){yc(t)&&n.delete(e)}function nD(){Vp=!1,Yr!==null&&yc(Yr)&&(Yr=null),Qr!==null&&yc(Qr)&&(Qr=null),Xr!==null&&yc(Xr)&&(Xr=null),dl.forEach(nw),hl.forEach(nw)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Vp||(Vp=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,nD)))}function fl(t){function e(i){return Sa(i,t)}if(0<qu.length){Sa(qu[0],t);for(var n=1;n<qu.length;n++){var r=qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&Sa(Yr,t),Qr!==null&&Sa(Qr,t),Xr!==null&&Sa(Xr,t),dl.forEach(e),hl.forEach(e),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&zr.shift()}var to=kr.ReactCurrentBatchConfig,Kc=!0;function rD(t,e,n,r){var i=_e,s=to.transition;to.transition=null;try{_e=1,yg(t,e,n,r)}finally{_e=i,to.transition=s}}function iD(t,e,n,r){var i=_e,s=to.transition;to.transition=null;try{_e=4,yg(t,e,n,r)}finally{_e=i,to.transition=s}}function yg(t,e,n,r){if(Kc){var i=Fp(t,e,n,r);if(i===null)$f(t,e,r,Yc,n),tw(t,r);else if(tD(i,t,e,n,r))r.stopPropagation();else if(tw(t,r),e&4&&-1<eD.indexOf(t)){for(;i!==null;){var s=Zl(i);if(s!==null&&nS(s),s=Fp(t,e,n,r),s===null&&$f(t,e,r,Yc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var Yc=null;function Fp(t,e,n,r){if(Yc=null,t=pg(r),t=ji(t),t!==null)if(e=ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function aS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wk()){case mg:return 1;case JT:return 4;case Gc:case Gk:return 16;case ZT:return 536870912;default:return 16}default:return 16}}var Gr=null,_g=null,_c=null;function lS(){if(_c)return _c;var t,e=_g,n=e.length,r,i="value"in Gr?Gr.value:Gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _c=i.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function rw(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ku:rw,this.isPropagationStopped=rw,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=un(xo),Jl=Ne({},xo,{view:0,detail:0}),sD=un(Jl),Pf,Rf,Ia,Yd=Ne({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ia&&(Ia&&t.type==="mousemove"?(Pf=t.screenX-Ia.screenX,Rf=t.screenY-Ia.screenY):Rf=Pf=0,Ia=t),Pf)},movementY:function(t){return"movementY"in t?t.movementY:Rf}}),iw=un(Yd),oD=Ne({},Yd,{dataTransfer:0}),aD=un(oD),lD=Ne({},Jl,{relatedTarget:0}),kf=un(lD),uD=Ne({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),cD=un(uD),dD=Ne({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hD=un(dD),fD=Ne({},xo,{data:0}),sw=un(fD),pD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gD[t])?!!e[t]:!1}function Eg(){return vD}var yD=Ne({},Jl,{key:function(t){if(t.key){var e=pD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_D=un(yD),wD=Ne({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ow=un(wD),ED=Ne({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),TD=un(ED),SD=Ne({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ID=un(SD),bD=Ne({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AD=un(bD),CD=[9,13,27,32],Tg=_r&&"CompositionEvent"in window,Wa=null;_r&&"documentMode"in document&&(Wa=document.documentMode);var PD=_r&&"TextEvent"in window&&!Wa,uS=_r&&(!Tg||Wa&&8<Wa&&11>=Wa),aw=String.fromCharCode(32),lw=!1;function cS(t,e){switch(t){case"keyup":return CD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function RD(t,e){switch(t){case"compositionend":return dS(e);case"keypress":return e.which!==32?null:(lw=!0,aw);case"textInput":return t=e.data,t===aw&&lw?null:t;default:return null}}function kD(t,e){if(zs)return t==="compositionend"||!Tg&&cS(t,e)?(t=lS(),_c=_g=Gr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DD[t.type]:e==="textarea"}function hS(t,e,n,r){BT(r),e=Qc(e,"onChange"),0<e.length&&(n=new wg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,pl=null;function OD(t){SS(t,0)}function Qd(t){var e=Ws(t);if(LT(e))return t}function xD(t,e){if(t==="change")return e}var fS=!1;if(_r){var Df;if(_r){var Of="oninput"in document;if(!Of){var cw=document.createElement("div");cw.setAttribute("oninput","return;"),Of=typeof cw.oninput=="function"}Df=Of}else Df=!1;fS=Df&&(!document.documentMode||9<document.documentMode)}function dw(){Ga&&(Ga.detachEvent("onpropertychange",pS),pl=Ga=null)}function pS(t){if(t.propertyName==="value"&&Qd(pl)){var e=[];hS(e,pl,t,pg(t)),qT(OD,e)}}function ND(t,e,n){t==="focusin"?(dw(),Ga=e,pl=n,Ga.attachEvent("onpropertychange",pS)):t==="focusout"&&dw()}function MD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(pl)}function LD(t,e){if(t==="click")return Qd(e)}function $D(t,e){if(t==="input"||t==="change")return Qd(e)}function VD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:VD;function ml(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ep.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function hw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fw(t,e){var n=hw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hw(n)}}function mS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gS(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function Sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FD(t){var e=gS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mS(n.ownerDocument.documentElement,n)){if(r!==null&&Sg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fw(n,s);var o=fw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UD=_r&&"documentMode"in document&&11>=document.documentMode,Bs=null,Up=null,qa=null,jp=!1;function pw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jp||Bs==null||Bs!==Bc(r)||(r=Bs,"selectionStart"in r&&Sg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&ml(qa,r)||(qa=r,r=Qc(Up,"onSelect"),0<r.length&&(e=new wg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function Yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},xf={},vS={};_r&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Xd(t){if(xf[t])return xf[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return xf[t]=e[n];return t}var yS=Xd("animationend"),_S=Xd("animationiteration"),wS=Xd("animationstart"),ES=Xd("transitionend"),TS=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){TS.set(t,e),vs(e,[t])}for(var Nf=0;Nf<mw.length;Nf++){var Mf=mw[Nf],jD=Mf.toLowerCase(),zD=Mf[0].toUpperCase()+Mf.slice(1);wi(jD,"on"+zD)}wi(yS,"onAnimationEnd");wi(_S,"onAnimationIteration");wi(wS,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(ES,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function gw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jk(r,e,void 0,t),t.currentTarget=null}function SS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;gw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;gw(i,a,c),s=l}}}if(Wc)throw t=Lp,Wc=!1,Lp=null,t}function be(t,e){var n=e[Gp];n===void 0&&(n=e[Gp]=new Set);var r=t+"__bubble";n.has(r)||(IS(e,t,2,!1),n.add(r))}function Lf(t,e,n){var r=0;e&&(r|=4),IS(n,t,r,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[Qu]){t[Qu]=!0,DT.forEach(function(n){n!=="selectionchange"&&(BD.has(n)||Lf(n,!1,t),Lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,Lf("selectionchange",!1,e))}}function IS(t,e,n,r){switch(aS(e)){case 1:var i=rD;break;case 4:i=iD;break;default:i=yg}n=i.bind(null,e,n,t),i=void 0,!Mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qT(function(){var c=s,d=pg(n),f=[];e:{var h=TS.get(t);if(h!==void 0){var g=wg,w=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":g=_D;break;case"focusin":w="focus",g=kf;break;case"focusout":w="blur",g=kf;break;case"beforeblur":case"afterblur":g=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=TD;break;case yS:case _S:case wS:g=cD;break;case ES:g=ID;break;case"scroll":g=sD;break;case"wheel":g=AD;break;case"copy":case"cut":case"paste":g=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ow}var v=(e&4)!==0,b=!v&&t==="scroll",E=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,I;y!==null;){I=y;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,E!==null&&(R=cl(y,E),R!=null&&v.push(vl(y,R,I)))),b)break;y=y.return}0<v.length&&(h=new g(h,w,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==xp&&(w=n.relatedTarget||n.fromElement)&&(ji(w)||w[wr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?ji(w):null,w!==null&&(b=ys(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=iw,R="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=ow,R="onPointerLeave",E="onPointerEnter",y="pointer"),b=g==null?h:Ws(g),I=w==null?h:Ws(w),h=new v(R,y+"leave",g,n,d),h.target=b,h.relatedTarget=I,R=null,ji(d)===c&&(v=new v(E,y+"enter",w,n,d),v.target=I,v.relatedTarget=b,R=v),b=R,g&&w)t:{for(v=g,E=w,y=0,I=v;I;I=Os(I))y++;for(I=0,R=E;R;R=Os(R))I++;for(;0<y-I;)v=Os(v),y--;for(;0<I-y;)E=Os(E),I--;for(;y--;){if(v===E||E!==null&&v===E.alternate)break t;v=Os(v),E=Os(E)}v=null}else v=null;g!==null&&vw(f,h,g,v,!1),w!==null&&b!==null&&vw(f,b,w,v,!0)}}e:{if(h=c?Ws(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var O=xD;else if(uw(h))if(fS)O=$D;else{O=MD;var x=ND}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=LD);if(O&&(O=O(t,c))){hS(f,O,n,d);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Pp(h,"number",h.value)}switch(x=c?Ws(c):window,t){case"focusin":(uw(x)||x.contentEditable==="true")&&(Bs=x,Up=c,qa=null);break;case"focusout":qa=Up=Bs=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,pw(f,n,d);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":pw(f,n,d)}var T;if(Tg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zs?cS(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(uS&&n.locale!=="ko"&&(zs||_!=="onCompositionStart"?_==="onCompositionEnd"&&zs&&(T=lS()):(Gr=d,_g="value"in Gr?Gr.value:Gr.textContent,zs=!0)),x=Qc(c,_),0<x.length&&(_=new sw(_,t,null,n,d),f.push({event:_,listeners:x}),T?_.data=T:(T=dS(n),T!==null&&(_.data=T)))),(T=PD?RD(t,n):kD(t,n))&&(c=Qc(c,"onBeforeInput"),0<c.length&&(d=new sw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}SS(f,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cl(t,n),s!=null&&r.unshift(vl(t,s,i)),s=cl(t,e),s!=null&&r.push(vl(t,s,i))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=cl(n,s),l!=null&&o.unshift(vl(n,l,a))):i||(l=cl(n,s),l!=null&&o.push(vl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function yw(t){return(typeof t=="string"?t:""+t).replace(HD,`
`).replace(WD,"")}function Xu(t,e,n){if(e=yw(e),yw(t)!==e&&n)throw Error(j(425))}function Xc(){}var zp=null,Bp=null;function Hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,qD=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(t){return _w.resolve(null).then(t).catch(KD)}:Wp;function KD(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fl(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ww(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),Wn="__reactFiber$"+No,yl="__reactProps$"+No,wr="__reactContainer$"+No,Gp="__reactEvents$"+No,YD="__reactListeners$"+No,QD="__reactHandles$"+No;function ji(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ww(t);t!==null;){if(n=t[Wn])return n;t=ww(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Wn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Jd(t){return t[yl]||null}var qp=[],Gs=-1;function Ei(t){return{current:t}}function Re(t){0>Gs||(t.current=qp[Gs],qp[Gs]=null,Gs--)}function Se(t,e){Gs++,qp[Gs]=t.current,t.current=e}var ui={},Ct=Ei(ui),Wt=Ei(!1),Ji=ui;function co(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function Jc(){Re(Wt),Re(Ct)}function Ew(t,e,n){if(Ct.current!==ui)throw Error(j(168));Se(Ct,e),Se(Wt,n)}function bS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,Nk(t)||"Unknown",i));return Ne({},n,r)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,Ji=Ct.current,Se(Ct,t),Se(Wt,Wt.current),!0}function Tw(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=bS(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,Re(Wt),Re(Ct),Se(Ct,t)):Re(Wt),Se(Wt,n)}var fr=null,Zd=!1,Ff=!1;function AS(t){fr===null?fr=[t]:fr.push(t)}function XD(t){Zd=!0,AS(t)}function Ti(){if(!Ff&&fr!==null){Ff=!0;var t=0,e=_e;try{var n=fr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Zd=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),XT(mg,Ti),i}finally{_e=e,Ff=!1}}return null}var qs=[],Ks=0,ed=null,td=0,cn=[],dn=0,Zi=null,pr=1,mr="";function Mi(t,e){qs[Ks++]=td,qs[Ks++]=ed,ed=t,td=e}function CS(t,e,n){cn[dn++]=pr,cn[dn++]=mr,cn[dn++]=Zi,Zi=t;var r=pr;t=mr;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-On(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function Ig(t){t.return!==null&&(Mi(t,1),CS(t,1,0))}function bg(t){for(;t===ed;)ed=qs[--Ks],qs[Ks]=null,td=qs[--Ks],qs[Ks]=null;for(;t===Zi;)Zi=cn[--dn],cn[dn]=null,mr=cn[--dn],cn[dn]=null,pr=cn[--dn],cn[dn]=null}var rn=null,tn=null,ke=!1,Pn=null;function PS(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,tn=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,tn=null,!0):!1;default:return!1}}function Kp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yp(t){if(ke){var e=tn;if(e){var n=e;if(!Sw(t,e)){if(Kp(t))throw Error(j(418));e=Jr(n.nextSibling);var r=rn;e&&Sw(t,e)?PS(r,n):(t.flags=t.flags&-4097|2,ke=!1,rn=t)}}else{if(Kp(t))throw Error(j(418));t.flags=t.flags&-4097|2,ke=!1,rn=t}}}function Iw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Ju(t){if(t!==rn)return!1;if(!ke)return Iw(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hp(t.type,t.memoizedProps)),e&&(e=tn)){if(Kp(t))throw RS(),Error(j(418));for(;e;)PS(t,e),e=Jr(e.nextSibling)}if(Iw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=rn?Jr(t.stateNode.nextSibling):null;return!0}function RS(){for(var t=tn;t;)t=Jr(t.nextSibling)}function ho(){tn=rn=null,ke=!1}function Ag(t){Pn===null?Pn=[t]:Pn.push(t)}var JD=kr.ReactCurrentBatchConfig;function ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bw(t){var e=t._init;return e(t._payload)}function kS(t){function e(E,y){if(t){var I=E.deletions;I===null?(E.deletions=[y],E.flags|=16):I.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function i(E,y){return E=ni(E,y),E.index=0,E.sibling=null,E}function s(E,y,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<y?(E.flags|=2,y):I):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,I,R){return y===null||y.tag!==6?(y=Gf(I,E.mode,R),y.return=E,y):(y=i(y,I),y.return=E,y)}function l(E,y,I,R){var O=I.type;return O===js?d(E,y,I.props.children,R,I.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ur&&bw(O)===y.type)?(R=i(y,I.props),R.ref=ba(E,y,I),R.return=E,R):(R=Cc(I.type,I.key,I.props,null,E.mode,R),R.ref=ba(E,y,I),R.return=E,R)}function c(E,y,I,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=qf(I,E.mode,R),y.return=E,y):(y=i(y,I.children||[]),y.return=E,y)}function d(E,y,I,R,O){return y===null||y.tag!==7?(y=Ki(I,E.mode,R,O),y.return=E,y):(y=i(y,I),y.return=E,y)}function f(E,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gf(""+y,E.mode,I),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return I=Cc(y.type,y.key,y.props,null,E.mode,I),I.ref=ba(E,null,y),I.return=E,I;case Us:return y=qf(y,E.mode,I),y.return=E,y;case Ur:var R=y._init;return f(E,R(y._payload),I)}if(Ma(y)||wa(y))return y=Ki(y,E.mode,I,null),y.return=E,y;Zu(E,y)}return null}function h(E,y,I,R){var O=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:a(E,y,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case zu:return I.key===O?l(E,y,I,R):null;case Us:return I.key===O?c(E,y,I,R):null;case Ur:return O=I._init,h(E,y,O(I._payload),R)}if(Ma(I)||wa(I))return O!==null?null:d(E,y,I,R,null);Zu(E,I)}return null}function g(E,y,I,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return E=E.get(I)||null,a(y,E,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case zu:return E=E.get(R.key===null?I:R.key)||null,l(y,E,R,O);case Us:return E=E.get(R.key===null?I:R.key)||null,c(y,E,R,O);case Ur:var x=R._init;return g(E,y,I,x(R._payload),O)}if(Ma(R)||wa(R))return E=E.get(I)||null,d(y,E,R,O,null);Zu(y,R)}return null}function w(E,y,I,R){for(var O=null,x=null,T=y,_=y=0,S=null;T!==null&&_<I.length;_++){T.index>_?(S=T,T=null):S=T.sibling;var C=h(E,T,I[_],R);if(C===null){T===null&&(T=S);break}t&&T&&C.alternate===null&&e(E,T),y=s(C,y,_),x===null?O=C:x.sibling=C,x=C,T=S}if(_===I.length)return n(E,T),ke&&Mi(E,_),O;if(T===null){for(;_<I.length;_++)T=f(E,I[_],R),T!==null&&(y=s(T,y,_),x===null?O=T:x.sibling=T,x=T);return ke&&Mi(E,_),O}for(T=r(E,T);_<I.length;_++)S=g(T,E,_,I[_],R),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?_:S.key),y=s(S,y,_),x===null?O=S:x.sibling=S,x=S);return t&&T.forEach(function(k){return e(E,k)}),ke&&Mi(E,_),O}function v(E,y,I,R){var O=wa(I);if(typeof O!="function")throw Error(j(150));if(I=O.call(I),I==null)throw Error(j(151));for(var x=O=null,T=y,_=y=0,S=null,C=I.next();T!==null&&!C.done;_++,C=I.next()){T.index>_?(S=T,T=null):S=T.sibling;var k=h(E,T,C.value,R);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(E,T),y=s(k,y,_),x===null?O=k:x.sibling=k,x=k,T=S}if(C.done)return n(E,T),ke&&Mi(E,_),O;if(T===null){for(;!C.done;_++,C=I.next())C=f(E,C.value,R),C!==null&&(y=s(C,y,_),x===null?O=C:x.sibling=C,x=C);return ke&&Mi(E,_),O}for(T=r(E,T);!C.done;_++,C=I.next())C=g(T,E,_,C.value,R),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?_:C.key),y=s(C,y,_),x===null?O=C:x.sibling=C,x=C);return t&&T.forEach(function(D){return e(E,D)}),ke&&Mi(E,_),O}function b(E,y,I,R){if(typeof I=="object"&&I!==null&&I.type===js&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case zu:e:{for(var O=I.key,x=y;x!==null;){if(x.key===O){if(O=I.type,O===js){if(x.tag===7){n(E,x.sibling),y=i(x,I.props.children),y.return=E,E=y;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ur&&bw(O)===x.type){n(E,x.sibling),y=i(x,I.props),y.ref=ba(E,x,I),y.return=E,E=y;break e}n(E,x);break}else e(E,x);x=x.sibling}I.type===js?(y=Ki(I.props.children,E.mode,R,I.key),y.return=E,E=y):(R=Cc(I.type,I.key,I.props,null,E.mode,R),R.ref=ba(E,y,I),R.return=E,E=R)}return o(E);case Us:e:{for(x=I.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(E,y.sibling),y=i(y,I.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=qf(I,E.mode,R),y.return=E,E=y}return o(E);case Ur:return x=I._init,b(E,y,x(I._payload),R)}if(Ma(I))return w(E,y,I,R);if(wa(I))return v(E,y,I,R);Zu(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(E,y.sibling),y=i(y,I),y.return=E,E=y):(n(E,y),y=Gf(I,E.mode,R),y.return=E,E=y),o(E)):n(E,y)}return b}var fo=kS(!0),DS=kS(!1),nd=Ei(null),rd=null,Ys=null,Cg=null;function Pg(){Cg=Ys=rd=null}function Rg(t){var e=nd.current;Re(nd),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){rd=t,Cg=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Cg!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(rd===null)throw Error(j(308));Ys=t,rd.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var zi=null;function kg(t){zi===null?zi=[t]:zi.push(t)}function OS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function Dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Er(t,n)}return i=r.interleaved,i===null?(e.next=e,kg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Er(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gg(t,n)}}function Aw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(h=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=Ne({},f,h);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=f}}function Cw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var eu={},Qn=Ei(eu),_l=Ei(eu),wl=Ei(eu);function Bi(t){if(t===eu)throw Error(j(174));return t}function Og(t,e){switch(Se(wl,e),Se(_l,t),Se(Qn,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kp(e,t)}Re(Qn),Se(Qn,e)}function po(){Re(Qn),Re(_l),Re(wl)}function NS(t){Bi(wl.current);var e=Bi(Qn.current),n=kp(e,t.type);e!==n&&(Se(_l,t),Se(Qn,n))}function xg(t){_l.current===t&&(Re(Qn),Re(_l))}var De=Ei(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function Ng(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var Tc=kr.ReactCurrentDispatcher,jf=kr.ReactCurrentBatchConfig,es=0,xe=null,Qe=null,ot=null,od=!1,Ka=!1,El=0,ZD=0;function wt(){throw Error(j(321))}function Mg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Lg(t,e,n,r,i,s){if(es=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?rO:iO,t=n(r,i),Ka){s=0;do{if(Ka=!1,El=0,25<=s)throw Error(j(301));s+=1,ot=Qe=null,e.updateQueue=null,Tc.current=sO,t=n(r,i)}while(Ka)}if(Tc.current=ad,e=Qe!==null&&Qe.next!==null,es=0,ot=Qe=xe=null,od=!1,e)throw Error(j(300));return t}function $g(){var t=El!==0;return El=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?xe.memoizedState=ot=t:ot=ot.next=t,ot}function wn(){if(Qe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=ot===null?xe.memoizedState:ot.next;if(e!==null)ot=e,Qe=t;else{if(t===null)throw Error(j(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},ot===null?xe.memoizedState=ot=t:ot=ot.next=t}return ot}function Tl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=wn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((es&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,xe.lanes|=d,ts|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Mn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=wn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MS(){}function LS(t,e){var n=xe,r=wn(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,Vg(FS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Sl(9,VS.bind(null,n,r,i,e),void 0,null),at===null)throw Error(j(349));es&30||$S(n,e,i)}return i}function $S(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VS(t,e,n,r){e.value=n,e.getSnapshot=r,US(e)&&jS(t)}function FS(t,e,n){return n(function(){US(e)&&jS(t)})}function US(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function jS(t){var e=Er(t,1);e!==null&&xn(e,t,1,-1)}function Pw(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=nO.bind(null,xe,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zS(){return wn().memoizedState}function Sc(t,e,n,r){var i=zn();xe.flags|=t,i.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function eh(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&Mg(r,o.deps)){i.memoizedState=Sl(e,n,s,r);return}}xe.flags|=t,i.memoizedState=Sl(1|e,n,s,r)}function Rw(t,e){return Sc(8390656,8,t,e)}function Vg(t,e){return eh(2048,8,t,e)}function BS(t,e){return eh(4,2,t,e)}function HS(t,e){return eh(4,4,t,e)}function WS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GS(t,e,n){return n=n!=null?n.concat([t]):null,eh(4,4,WS.bind(null,e,t),n)}function Fg(){}function qS(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KS(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YS(t,e,n){return es&21?(Mn(n,e)||(n=eS(),xe.lanes|=n,ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function eO(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=jf.transition;jf.transition={};try{t(!1),e()}finally{_e=n,jf.transition=r}}function QS(){return wn().memoizedState}function tO(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XS(t))JS(e,n);else if(n=OS(t,e,n,r),n!==null){var i=Lt();xn(n,t,r,i),ZS(n,e,r)}}function nO(t,e,n){var r=ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XS(t))JS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var l=e.interleaved;l===null?(i.next=i,kg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OS(t,e,i,r),n!==null&&(i=Lt(),xn(n,t,r,i),ZS(n,e,r))}}function XS(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function JS(t,e){Ka=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gg(t,n)}}var ad={readContext:_n,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},rO={readContext:_n,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4194308,4,WS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sc(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tO.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:Pw,useDebugValue:Fg,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Pw(!1),e=t[0];return t=eO.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=zn();if(ke){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),at===null)throw Error(j(349));es&30||$S(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rw(FS.bind(null,r,s,t),[t]),r.flags|=2048,Sl(9,VS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zn(),e=at.identifierPrefix;if(ke){var n=mr,r=pr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iO={readContext:_n,useCallback:qS,useContext:_n,useEffect:Vg,useImperativeHandle:GS,useInsertionEffect:BS,useLayoutEffect:HS,useMemo:KS,useReducer:zf,useRef:zS,useState:function(){return zf(Tl)},useDebugValue:Fg,useDeferredValue:function(t){var e=wn();return YS(e,Qe.memoizedState,t)},useTransition:function(){var t=zf(Tl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:MS,useSyncExternalStore:LS,useId:QS,unstable_isNewReconciler:!1},sO={readContext:_n,useCallback:qS,useContext:_n,useEffect:Vg,useImperativeHandle:GS,useInsertionEffect:BS,useLayoutEffect:HS,useMemo:KS,useReducer:Bf,useRef:zS,useState:function(){return Bf(Tl)},useDebugValue:Fg,useDeferredValue:function(t){var e=wn();return Qe===null?e.memoizedState=t:YS(e,Qe.memoizedState,t)},useTransition:function(){var t=Bf(Tl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:MS,useSyncExternalStore:LS,useId:QS,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var th={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=ti(t),s=yr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,i),e!==null&&(xn(e,t,i,r),Ec(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=ti(t),s=yr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,i),e!==null&&(xn(e,t,i,r),Ec(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=ti(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zr(t,i,r),e!==null&&(xn(e,t,r,n),Ec(e,t,r))}};function kw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,s):!0}function eI(t,e,n){var r=!1,i=ui,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Gt(e)?Ji:Ct.current,r=e.contextTypes,s=(r=r!=null)?co(t,i):ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=th,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&th.enqueueReplaceState(e,e.state,null)}function Jp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Gt(e)?Ji:Ct.current,i.context=co(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&th.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",r=e;do n+=xk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oO=typeof WeakMap=="function"?WeakMap:Map;function tI(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,um=r),Zp(t,e)},n}function nI(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zp(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ow(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wO.bind(null,t,e,n),e.then(t,t))}function xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var aO=kr.ReactCurrentOwner,Ht=!1;function Nt(t,e,n,r){e.child=t===null?DS(e,null,n,r):fo(e,t.child,n,r)}function Mw(t,e,n,r,i){n=n.render;var s=e.ref;return no(e,i),r=Lg(t,e,n,r,s,i),n=$g(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(ke&&n&&Ig(e),e.flags|=1,Nt(t,e,r,i),e.child)}function Lw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rI(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(o,r)&&t.ref===e.ref)return Tr(t,e,i)}return e.flags|=1,t=ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function rI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ml(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Tr(t,e,i)}return em(t,e,n,r,i)}function iI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Xs,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Xs,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Xs,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Xs,en),en|=r;return Nt(t,e,i,n),e.child}function sI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function em(t,e,n,r,i){var s=Gt(n)?Ji:Ct.current;return s=co(e,s),no(e,i),n=Lg(t,e,n,r,s,i),r=$g(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(ke&&r&&Ig(e),e.flags|=1,Nt(t,e,n,i),e.child)}function $w(t,e,n,r,i){if(Gt(n)){var s=!0;Zc(e)}else s=!1;if(no(e,i),e.stateNode===null)Ic(t,e),eI(e,n,r),Jp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Gt(n)?Ji:Ct.current,c=co(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Dw(e,o,r,c),jr=!1;var h=e.memoizedState;o.state=h,id(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Wt.current||jr?(typeof d=="function"&&(Xp(e,n,d,r),l=e.memoizedState),(a=jr||kw(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:An(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Gt(n)?Ji:Ct.current,l=co(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Dw(e,o,r,l),jr=!1,h=e.memoizedState,o.state=h,id(e,r,o,i);var w=e.memoizedState;a!==f||h!==w||Wt.current||jr?(typeof g=="function"&&(Xp(e,n,g,r),w=e.memoizedState),(c=jr||kw(e,n,c,r,h,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return tm(t,e,n,r,s,i)}function tm(t,e,n,r,i,s){sI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Tw(e,n,!1),Tr(t,e,s);r=e.stateNode,aO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fo(e,t.child,null,s),e.child=fo(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&Tw(e,n,!0),e.child}function oI(t){var e=t.stateNode;e.pendingContext?Ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ew(t,e.context,!1),Og(t,e.containerInfo)}function Vw(t,e,n,r,i){return ho(),Ag(i),e.flags|=256,Nt(t,e,n,r),e.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function aI(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(De,i&1),t===null)return Yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ih(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rm(n),e.memoizedState=nm,t):Ug(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ni(a,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=nm,r}return s=t.child,t=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ug(t,e){return e=ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&Ag(r),fo(e,t.child,null,n),t=Ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(j(422))),ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ih({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fo(e,t.child,null,o),e.child.memoizedState=rm(o),e.memoizedState=nm,s);if(!(e.mode&1))return ec(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Hf(s,r,void 0),ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Er(t,i),xn(r,t,i,-1))}return Gg(),r=Hf(Error(j(421))),ec(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=EO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tn=Jr(i.nextSibling),rn=e,ke=!0,Pn=null,t!==null&&(cn[dn++]=pr,cn[dn++]=mr,cn[dn++]=Zi,pr=t.id,mr=t.overflow,Zi=e),e=Ug(e,r.children),e.flags|=4096,e)}function Fw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fw(t,n,e);else if(t.tag===19)Fw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uO(t,e,n){switch(e.tag){case 3:oI(e),ho();break;case 5:NS(e);break;case 1:Gt(e.type)&&Zc(e);break;case 4:Og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?aI(t,e,n):(Se(De,De.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);Se(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,iI(t,e,n)}return Tr(t,e,n)}var uI,im,cI,dI;uI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};im=function(){};cI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(Qn.current);var s=null;switch(n){case"input":i=Ap(t,i),r=Ap(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=Rp(t,i),r=Rp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xc)}Dp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ll.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ll.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Aa(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cO(t,e,n){var r=e.pendingProps;switch(bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Gt(e.type)&&Jc(),Et(e),null;case 3:return r=e.stateNode,po(),Re(Wt),Re(Ct),Ng(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(hm(Pn),Pn=null))),im(t,e),Et(e),null;case 5:xg(e);var i=Bi(wl.current);if(n=e.type,t!==null&&e.stateNode!=null)cI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Et(e),null}if(t=Bi(Qn.current),Ju(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wn]=e,r[yl]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<$a.length;i++)be($a[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":K_(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":Q_(r,s),be("invalid",r)}Dp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Bu(r),Y_(r,s,!0);break;case"textarea":Bu(r),X_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wn]=e,t[yl]=r,uI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Op(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<$a.length;i++)be($a[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":K_(t,r),i=Ap(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),be("invalid",t);break;case"textarea":Q_(t,r),i=Rp(t,r),be("invalid",t);break;default:i=r}Dp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ll.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&cg(t,s,l,o))}switch(n){case"input":Bu(t),Y_(t,r,!1);break;case"textarea":Bu(t),X_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Js(t,!!r.multiple,s,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)dI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Bi(wl.current),Bi(Qn.current),Ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return Et(e),null;case 13:if(Re(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&tn!==null&&e.mode&1&&!(e.flags&128))RS(),ho(),e.flags|=98560,s=!1;else if(s=Ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Wn]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else Pn!==null&&(hm(Pn),Pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Xe===0&&(Xe=3):Gg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return po(),im(t,e),t===null&&gl(e.stateNode.containerInfo),Et(e),null;case 10:return Rg(e.type._context),Et(e),null;case 17:return Gt(e.type)&&Jc(),Et(e),null;case 19:if(Re(De),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Aa(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,Aa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>go&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return Et(e),null}else 2*ze()-s.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=De.current,Se(De,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Wg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function dO(t,e){switch(bg(e),e.tag){case 1:return Gt(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),Re(Wt),Re(Ct),Ng(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xg(e),null;case 13:if(Re(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(De),null;case 4:return po(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Wg(),null;case 24:return null;default:return null}}var tc=!1,bt=!1,hO=typeof WeakSet=="function"?WeakSet:Set,K=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function sm(t,e,n){try{n()}catch(r){$e(t,e,r)}}var Uw=!1;function fO(t,e){if(zp=Kc,t=gS(),Sg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},Kc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:An(e.type,v),b);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(R){$e(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=Uw,Uw=!1,w}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sm(e,n,s)}i=i.next}while(i!==r)}}function nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function om(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hI(t){var e=t.alternate;e!==null&&(t.alternate=null,hI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[yl],delete e[Gp],delete e[YD],delete e[QD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fI(t){return t.tag===5||t.tag===3||t.tag===4}function jw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xc));else if(r!==4&&(t=t.child,t!==null))for(am(t,e,n),t=t.sibling;t!==null;)am(t,e,n),t=t.sibling}function lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}var ct=null,Cn=!1;function $r(t,e,n){for(n=n.child;n!==null;)pI(t,e,n),n=n.sibling}function pI(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:bt||Qs(n,e);case 6:var r=ct,i=Cn;ct=null,$r(t,e,n),ct=r,Cn=i,ct!==null&&(Cn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(Cn?(t=ct,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),fl(t)):Vf(ct,n.stateNode));break;case 4:r=ct,i=Cn,ct=n.stateNode.containerInfo,Cn=!0,$r(t,e,n),ct=r,Cn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sm(n,e,o),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!bt&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,$r(t,e,n),bt=r):$r(t,e,n);break;default:$r(t,e,n)}}function zw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hO),e.forEach(function(r){var i=TO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,Cn=!1;break e;case 3:ct=a.stateNode.containerInfo,Cn=!0;break e;case 4:ct=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(ct===null)throw Error(j(160));pI(s,o,i),ct=null,Cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mI(e,t),e=e.sibling}function mI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),jn(t),r&4){try{Ya(3,t,t.return),nh(3,t)}catch(v){$e(t,t.return,v)}try{Ya(5,t,t.return)}catch(v){$e(t,t.return,v)}}break;case 1:bn(e,t),jn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(bn(e,t),jn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(v){$e(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$T(i,s),Op(a,o);var c=Op(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?zT(i,f):d==="dangerouslySetInnerHTML"?UT(i,f):d==="children"?ul(i,f):cg(i,d,f,c)}switch(a){case"input":Cp(i,s);break;case"textarea":VT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Js(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Js(i,!!s.multiple,s.defaultValue,!0):Js(i,!!s.multiple,s.multiple?[]:"",!1))}i[yl]=s}catch(v){$e(t,t.return,v)}}break;case 6:if(bn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){$e(t,t.return,v)}}break;case 3:if(bn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(v){$e(t,t.return,v)}break;case 4:bn(e,t),jn(t);break;case 13:bn(e,t),jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bg=ze())),r&4&&zw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||d,bn(e,t),bt=c):bn(e,t),jn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(h=K,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ya(4,h,h.return);break;case 1:Qs(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){$e(r,n,v)}}break;case 5:Qs(h,h.return);break;case 22:if(h.memoizedState!==null){Hw(f);continue}}g!==null?(g.return=h,K=g):Hw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jT("display",o))}catch(v){$e(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){$e(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(e,t),jn(t),r&4&&zw(t);break;case 21:break;default:bn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fI(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var s=jw(t);lm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jw(t);am(t,a,o);break;default:throw Error(j(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pO(t,e,n){K=t,gI(t)}function gI(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=tc;var c=bt;if(tc=o,(bt=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?Ww(i):l!==null?(l.return=o,K=l):Ww(i);for(;s!==null;)K=s,gI(s),s=s.sibling;K=i,tc=a,bt=c}Bw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Bw(t)}}function Bw(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:An(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Cw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}bt||e.flags&512&&om(e)}catch(h){$e(e,e.return,h)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Hw(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Ww(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nh(4,e)}catch(l){$e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var s=e.return;try{om(e)}catch(l){$e(e,s,l)}break;case 5:var o=e.return;try{om(e)}catch(l){$e(e,o,l)}}}catch(l){$e(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var mO=Math.ceil,ld=kr.ReactCurrentDispatcher,jg=kr.ReactCurrentOwner,mn=kr.ReactCurrentBatchConfig,pe=0,at=null,qe=null,ft=0,en=0,Xs=Ei(0),Xe=0,Il=null,ts=0,rh=0,zg=0,Qa=null,jt=null,Bg=0,go=1/0,dr=null,ud=!1,um=null,ei=null,nc=!1,qr=null,cd=0,Xa=0,cm=null,bc=-1,Ac=0;function Lt(){return pe&6?ze():bc!==-1?bc:bc=ze()}function ti(t){return t.mode&1?pe&2&&ft!==0?ft&-ft:JD.transition!==null?(Ac===0&&(Ac=eS()),Ac):(t=_e,t!==0||(t=window.event,t=t===void 0?16:aS(t.type)),t):1}function xn(t,e,n,r){if(50<Xa)throw Xa=0,cm=null,Error(j(185));Xl(t,n,r),(!(pe&2)||t!==at)&&(t===at&&(!(pe&2)&&(rh|=n),Xe===4&&Br(t,ft)),qt(t,r),n===1&&pe===0&&!(e.mode&1)&&(go=ze()+500,Zd&&Ti()))}function qt(t,e){var n=t.callbackNode;Jk(t,e);var r=qc(t,t===at?ft:0);if(r===0)n!==null&&ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ew(n),e===1)t.tag===0?XD(Gw.bind(null,t)):AS(Gw.bind(null,t)),qD(function(){!(pe&6)&&Ti()}),n=null;else{switch(tS(r)){case 1:n=mg;break;case 4:n=JT;break;case 16:n=Gc;break;case 536870912:n=ZT;break;default:n=Gc}n=II(n,vI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vI(t,e){if(bc=-1,Ac=0,pe&6)throw Error(j(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=qc(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=pe;pe|=2;var s=_I();(at!==t||ft!==e)&&(dr=null,go=ze()+500,qi(t,e));do try{yO();break}catch(a){yI(t,a)}while(1);Pg(),ld.current=s,pe=i,qe!==null?e=0:(at=null,ft=0,e=Xe)}if(e!==0){if(e===2&&(i=$p(t),i!==0&&(r=i,e=dm(t,i))),e===1)throw n=Il,qi(t,0),Br(t,r),qt(t,ze()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!gO(i)&&(e=dd(t,r),e===2&&(s=$p(t),s!==0&&(r=s,e=dm(t,s))),e===1))throw n=Il,qi(t,0),Br(t,r),qt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Li(t,jt,dr);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=Bg+500-ze(),10<e)){if(qc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wp(Li.bind(null,t,jt,dr),e);break}Li(t,jt,dr);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mO(r/1960))-r,10<r){t.timeoutHandle=Wp(Li.bind(null,t,jt,dr),r);break}Li(t,jt,dr);break;case 5:Li(t,jt,dr);break;default:throw Error(j(329))}}}return qt(t,ze()),t.callbackNode===n?vI.bind(null,t):null}function dm(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=dd(t,e),t!==2&&(e=jt,jt=n,e!==null&&hm(e)),t}function hm(t){jt===null?jt=t:jt.push.apply(jt,t)}function gO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~zg,e&=~rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function Gw(t){if(pe&6)throw Error(j(327));ro();var e=qc(t,0);if(!(e&1))return qt(t,ze()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=$p(t);r!==0&&(e=r,n=dm(t,r))}if(n===1)throw n=Il,qi(t,0),Br(t,e),qt(t,ze()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,jt,dr),qt(t,ze()),null}function Hg(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(go=ze()+500,Zd&&Ti())}}function ns(t){qr!==null&&qr.tag===0&&!(pe&6)&&ro();var e=pe;pe|=1;var n=mn.transition,r=_e;try{if(mn.transition=null,_e=1,t)return t()}finally{_e=r,mn.transition=n,pe=e,!(pe&6)&&Ti()}}function Wg(){en=Xs.current,Re(Xs)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GD(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(bg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:po(),Re(Wt),Re(Ct),Ng();break;case 5:xg(r);break;case 4:po();break;case 13:Re(De);break;case 19:Re(De);break;case 10:Rg(r.type._context);break;case 22:case 23:Wg()}n=n.return}if(at=t,qe=t=ni(t.current,null),ft=en=e,Xe=0,Il=null,zg=rh=ts=0,jt=Qa=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zi=null}return t}function yI(t,e){do{var n=qe;try{if(Pg(),Tc.current=ad,od){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}if(es=0,ot=Qe=xe=null,Ka=!1,El=0,jg.current=null,n===null||n.return===null){Xe=1,Il=e,qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=xw(o);if(g!==null){g.flags&=-257,Nw(g,o,a,s,e),g.mode&1&&Ow(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Ow(s,c,e),Gg();break e}l=Error(j(426))}}else if(ke&&a.mode&1){var b=xw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Nw(b,o,a,s,e),Ag(mo(l,a));break e}}s=l=mo(l,a),Xe!==4&&(Xe=2),Qa===null?Qa=[s]:Qa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=tI(s,l,e);Aw(s,E);break e;case 1:a=l;var y=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ei===null||!ei.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=nI(s,a,e);Aw(s,R);break e}}s=s.return}while(s!==null)}EI(n)}catch(O){e=O,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function _I(){var t=ld.current;return ld.current=ad,t===null?ad:t}function Gg(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),at===null||!(ts&268435455)&&!(rh&268435455)||Br(at,ft)}function dd(t,e){var n=pe;pe|=2;var r=_I();(at!==t||ft!==e)&&(dr=null,qi(t,e));do try{vO();break}catch(i){yI(t,i)}while(1);if(Pg(),pe=n,ld.current=r,qe!==null)throw Error(j(261));return at=null,ft=0,Xe}function vO(){for(;qe!==null;)wI(qe)}function yO(){for(;qe!==null&&!Bk();)wI(qe)}function wI(t){var e=SI(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?EI(t):qe=e,jg.current=null}function EI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dO(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,qe=null;return}}else if(n=cO(n,e,en),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Xe===0&&(Xe=5)}function Li(t,e,n){var r=_e,i=mn.transition;try{mn.transition=null,_e=1,_O(t,e,n,r)}finally{mn.transition=i,_e=r}return null}function _O(t,e,n,r){do ro();while(qr!==null);if(pe&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Zk(t,s),t===at&&(qe=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,II(Gc,function(){return ro(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mn.transition,mn.transition=null;var o=_e;_e=1;var a=pe;pe|=4,jg.current=null,fO(t,n),mI(n,t),FD(Bp),Kc=!!zp,Bp=zp=null,t.current=n,pO(n),Hk(),pe=a,_e=o,mn.transition=s}else t.current=n;if(nc&&(nc=!1,qr=t,cd=i),s=t.pendingLanes,s===0&&(ei=null),qk(n.stateNode),qt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=um,um=null,t;return cd&1&&t.tag!==0&&ro(),s=t.pendingLanes,s&1?t===cm?Xa++:(Xa=0,cm=t):Xa=0,Ti(),null}function ro(){if(qr!==null){var t=tS(cd),e=mn.transition,n=_e;try{if(mn.transition=null,_e=16>t?16:t,qr===null)var r=!1;else{if(t=qr,qr=null,cd=0,pe&6)throw Error(j(331));var i=pe;for(pe|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Ya(8,d,s)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var h=d.sibling,g=d.return;if(hI(d),d===c){K=null;break}if(h!==null){h.return=g,K=h;break}K=g}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ya(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,K=I;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nh(9,a)}}catch(O){$e(a,a.return,O)}if(a===o){K=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,K=R;break e}K=a.return}}if(pe=i,Ti(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Kd,t)}catch{}r=!0}return r}finally{_e=n,mn.transition=e}}return!1}function qw(t,e,n){e=mo(n,e),e=tI(t,e,1),t=Zr(t,e,1),e=Lt(),t!==null&&(Xl(t,1,e),qt(t,e))}function $e(t,e,n){if(t.tag===3)qw(t,t,n);else for(;e!==null;){if(e.tag===3){qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=mo(n,t),t=nI(e,t,1),e=Zr(e,t,1),t=Lt(),e!==null&&(Xl(e,1,t),qt(e,t));break}}e=e.return}}function wO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(Xe===4||Xe===3&&(ft&130023424)===ft&&500>ze()-Bg?qi(t,0):zg|=n),qt(t,e)}function TI(t,e){e===0&&(t.mode&1?(e=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):e=1);var n=Lt();t=Er(t,e),t!==null&&(Xl(t,e,n),qt(t,n))}function EO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TI(t,n)}function TO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),TI(t,n)}var SI;SI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,uO(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,ke&&e.flags&1048576&&CS(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=co(e,Ct.current);no(e,n),i=Lg(null,e,r,t,i,n);var s=$g();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,Zc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dg(e),i.updater=th,e.stateNode=i,i._reactInternals=e,Jp(e,r,t,n),e=tm(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&Ig(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IO(r),t=An(r,t),i){case 0:e=em(null,e,r,t,n);break e;case 1:e=$w(null,e,r,t,n);break e;case 11:e=Mw(null,e,r,t,n);break e;case 14:e=Lw(null,e,r,An(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),em(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),$w(t,e,r,i,n);case 3:e:{if(oI(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xS(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mo(Error(j(423)),e),e=Vw(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(j(424)),e),e=Vw(t,e,r,n,i);break e}else for(tn=Jr(e.stateNode.containerInfo.firstChild),rn=e,ke=!0,Pn=null,n=DS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===i){e=Tr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return NS(e),t===null&&Yp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hp(r,i)?o=null:s!==null&&Hp(r,s)&&(e.flags|=32),sI(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&Yp(e),null;case 13:return aI(t,e,n);case 4:return Og(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),Mw(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(nd,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Wt.current){e=Tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,no(e,n),i=_n(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=An(r,e.pendingProps),i=An(r.type,i),Lw(t,e,r,i,n);case 15:return rI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),Ic(t,e),e.tag=1,Gt(r)?(t=!0,Zc(e)):t=!1,no(e,n),eI(e,r,i),Jp(e,r,i,n),tm(null,e,r,!0,t,n);case 19:return lI(t,e,n);case 22:return iI(t,e,n)}throw Error(j(156,e.tag))};function II(t,e){return XT(t,e)}function SO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new SO(t,e,n,r)}function qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IO(t){if(typeof t=="function")return qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hg)return 11;if(t===fg)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case js:return Ki(n.children,i,s,e);case dg:o=8,i|=8;break;case Tp:return t=pn(12,n,e,i|2),t.elementType=Tp,t.lanes=s,t;case Sp:return t=pn(13,n,e,i),t.elementType=Sp,t.lanes=s,t;case Ip:return t=pn(19,n,e,i),t.elementType=Ip,t.lanes=s,t;case NT:return ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OT:o=10;break e;case xT:o=9;break e;case hg:o=11;break e;case fg:o=14;break e;case Ur:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function ih(t,e,n,r){return t=pn(22,t,r,e),t.elementType=NT,t.lanes=n,t.stateNode={isHidden:!1},t}function Gf(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function qf(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kg(t,e,n,r,i,s,o,a,l){return t=new bO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(s),t}function AO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bI(t){if(!t)return ui;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Gt(n))return bS(t,n,e)}return e}function AI(t,e,n,r,i,s,o,a,l){return t=Kg(n,r,!0,t,i,s,o,a,l),t.context=bI(null),n=t.current,r=Lt(),i=ti(n),s=yr(r,i),s.callback=e??null,Zr(n,s,i),t.current.lanes=i,Xl(t,i,r),qt(t,r),t}function sh(t,e,n,r){var i=e.current,s=Lt(),o=ti(i);return n=bI(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zr(i,e,o),t!==null&&(xn(t,i,o,s),Ec(t,i,o)),o}function hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yg(t,e){Kw(t,e),(t=t.alternate)&&Kw(t,e)}function CO(){return null}var CI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qg(t){this._internalRoot=t}oh.prototype.render=Qg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));sh(t,e,null,null)};oh.prototype.unmount=Qg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ns(function(){sh(null,t,null,null)}),e[wr]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=iS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zr.length&&e!==0&&e<zr[n].priority;n++);zr.splice(n,0,t),n===0&&oS(t)}};function Xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function PO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hd(o);s.call(c)}}var o=AI(e,r,t,0,null,!1,!1,"",Yw);return t._reactRootContainer=o,t[wr]=o.current,gl(t.nodeType===8?t.parentNode:t),ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=hd(l);a.call(c)}}var l=Kg(t,0,!1,null,null,!1,!1,"",Yw);return t._reactRootContainer=l,t[wr]=l.current,gl(t.nodeType===8?t.parentNode:t),ns(function(){sh(e,l,n,r)}),l}function lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hd(o);a.call(l)}}sh(e,o,t,i)}else o=PO(n,e,t,i,r);return hd(o)}nS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=La(e.pendingLanes);n!==0&&(gg(e,n|1),qt(e,ze()),!(pe&6)&&(go=ze()+500,Ti()))}break;case 13:ns(function(){var r=Er(t,1);if(r!==null){var i=Lt();xn(r,t,1,i)}}),Yg(t,1)}};vg=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Lt();xn(e,t,134217728,n)}Yg(t,134217728)}};rS=function(t){if(t.tag===13){var e=ti(t),n=Er(t,e);if(n!==null){var r=Lt();xn(n,t,e,r)}Yg(t,e)}};iS=function(){return _e};sS=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Np=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jd(r);if(!i)throw Error(j(90));LT(r),Cp(r,i)}}}break;case"textarea":VT(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};WT=Hg;GT=ns;var RO={usingClientEntryPoint:!1,Events:[Zl,Ws,Jd,BT,HT,Hg]},Ca={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||CO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Kd=rc.inject(kO),Yn=rc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RO;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(e))throw Error(j(200));return AO(t,e,null,n)};ln.createRoot=function(t,e){if(!Xg(t))throw Error(j(299));var n=!1,r="",i=CI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kg(t,1,!1,null,null,n,!1,r,i),t[wr]=e.current,gl(t.nodeType===8?t.parentNode:t),new Qg(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=YT(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return ns(t)};ln.hydrate=function(t,e,n){if(!ah(e))throw Error(j(200));return lh(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Xg(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AI(e,null,t,1,n??null,i,!1,s,o),t[wr]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oh(e)};ln.render=function(t,e,n){if(!ah(e))throw Error(j(200));return lh(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!ah(t))throw Error(j(40));return t._reactRootContainer?(ns(function(){lh(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};ln.unstable_batchedUpdates=Hg;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ah(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return lh(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function PI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PI)}catch(t){console.error(t)}}PI(),PT.exports=ln;var RI=PT.exports;const kI=Jt(RI);var Qw=RI;wp.createRoot=Qw.createRoot,wp.hydrateRoot=Qw.hydrateRoot;const DO=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new xO;const h=s<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NO=function(t){const e=DI(t);return OI.encodeByteArray(e,!0)},fd=function(t){return NO(t).replace(/\./g,"")},xI=function(t){try{return OI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=()=>MO().__FIREBASE_DEFAULTS__,$O=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xI(t[1]);return e&&JSON.parse(e)},uh=()=>{try{return DO()||LO()||$O()||VO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NI=t=>{var e,n;return(n=(e=uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FO=t=>{const e=NI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MI=()=>{var t;return(t=uh())===null||t===void 0?void 0:t.config},LI=t=>{var e;return(e=uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return t.endsWith(".cloudworkstations.dev")}async function $I(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fd(JSON.stringify(n)),fd(JSON.stringify(o)),a].join(".")}const Ja={};function zO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?t.emulator.push(e):t.prod.push(e);return t}function BO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function VI(t,e){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||Ja[t]===e||Ja[t]||Xw)return;Ja[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=zO().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Xw=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=BO(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),y=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const I=h.element;a(I),d(b,v);const R=c();l(y,E),I.append(y,w,b,R),document.body.appendChild(I)}s?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function WO(){var t;const e=(t=uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jg(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KO(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YO(){return!WO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zg(){try{return typeof indexedDB=="object"}catch{return!1}}function ev(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function FI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="FirebaseError";class Fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_s.prototype.create)}}class _s{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Fn(i,a,r)}}function XO(t,e){return t.replace(JO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JO=/\{\$([^}]+)}/g;function ZO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Jw(s)&&Jw(o)){if(!ci(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ex(t,e){const n=new tx(t,e);return n.subscribe.bind(n)}class tx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kf),i.error===void 0&&(i.error=Kf),i.complete===void 0&&(i.complete=Kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=1e3,ix=2,sx=4*60*60*1e3,ox=.5;function Zw(t,e=rx,n=ix){const r=e*Math.pow(n,t),i=Math.round(ox*r*(Math.random()-.5)*2);return Math.min(sx,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ux(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lx(t){return t===$i?void 0:t}function ux(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ax(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const dx={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},hx=ce.INFO,fx={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},px=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ch{constructor(e){this.name=e,this._logLevel=hx,this._logHandler=px,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const mx=(t,e)=>e.some(n=>t instanceof n);let e0,t0;function gx(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vx(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,fm=new WeakMap,jI=new WeakMap,Yf=new WeakMap,tv=new WeakMap;function yx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ri(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UI.set(n,t)}).catch(()=>{}),tv.set(e,t),e}function _x(t){if(fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fm.set(t,e)}let pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wx(t){pm=t(pm)}function Ex(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qf(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),ri(r)}:vx().includes(t)?function(...e){return t.apply(Qf(this),e),ri(UI.get(this))}:function(...e){return ri(t.apply(Qf(this),e))}}function Tx(t){return typeof t=="function"?Ex(t):(t instanceof IDBTransaction&&_x(t),mx(t,gx())?new Proxy(t,pm):t)}function ri(t){if(t instanceof IDBRequest)return yx(t);if(Yf.has(t))return Yf.get(t);const e=Tx(t);return e!==t&&(Yf.set(t,e),tv.set(e,t)),e}const Qf=t=>tv.get(t);function zI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ri(o.result),l.oldVersion,l.newVersion,ri(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Sx=["get","getKey","getAll","getAllKeys","count"],Ix=["put","add","delete","clear"],Xf=new Map;function n0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ix.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sx.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Xf.set(e,s),s}wx(t=>({...t,get:(e,n,r)=>n0(e,n)||t.get(e,n,r),has:(e,n)=>!!n0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ax(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ax(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mm="@firebase/app",r0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new ch("@firebase/app"),Cx="@firebase/app-compat",Px="@firebase/analytics-compat",Rx="@firebase/analytics",kx="@firebase/app-check-compat",Dx="@firebase/app-check",Ox="@firebase/auth",xx="@firebase/auth-compat",Nx="@firebase/database",Mx="@firebase/data-connect",Lx="@firebase/database-compat",$x="@firebase/functions",Vx="@firebase/functions-compat",Fx="@firebase/installations",Ux="@firebase/installations-compat",jx="@firebase/messaging",zx="@firebase/messaging-compat",Bx="@firebase/performance",Hx="@firebase/performance-compat",Wx="@firebase/remote-config",Gx="@firebase/remote-config-compat",qx="@firebase/storage",Kx="@firebase/storage-compat",Yx="@firebase/firestore",Qx="@firebase/ai",Xx="@firebase/firestore-compat",Jx="firebase",Zx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",eN={[mm]:"fire-core",[Cx]:"fire-core-compat",[Rx]:"fire-analytics",[Px]:"fire-analytics-compat",[Dx]:"fire-app-check",[kx]:"fire-app-check-compat",[Ox]:"fire-auth",[xx]:"fire-auth-compat",[Nx]:"fire-rtdb",[Mx]:"fire-data-connect",[Lx]:"fire-rtdb-compat",[$x]:"fire-fn",[Vx]:"fire-fn-compat",[Fx]:"fire-iid",[Ux]:"fire-iid-compat",[jx]:"fire-fcm",[zx]:"fire-fcm-compat",[Bx]:"fire-perf",[Hx]:"fire-perf-compat",[Wx]:"fire-rc",[Gx]:"fire-rc-compat",[qx]:"fire-gcs",[Kx]:"fire-gcs-compat",[Yx]:"fire-fst",[Xx]:"fire-fst-compat",[Qx]:"fire-vertex","fire-js":"fire-js",[Jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,tN=new Map,vm=new Map;function i0(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(vm.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,t);for(const n of bl.values())i0(n,t);for(const n of tN.values())i0(n,t);return!0}function ws(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new _s("app","Firebase",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=Zx;function BI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=MI()),!n)throw ii.create("no-options");const s=bl.get(i);if(s){if(ci(n,s.options)&&ci(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new cx(i);for(const l of vm.values())o.addComponent(l);const a=new rN(n,r,o);return bl.set(i,a),a}function dh(t=gm){const e=bl.get(t);if(!e&&t===gm&&MI())return BI();if(!e)throw ii.create("no-app",{appName:t});return e}function iN(){return Array.from(bl.values())}function gn(t,e,n){var r;let i=(r=eN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}nr(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebase-heartbeat-database",oN=1,Al="firebase-heartbeat-store";let Jf=null;function HI(){return Jf||(Jf=zI(sN,oN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),Jf}async function aN(t){try{const n=(await HI()).transaction(Al),r=await n.objectStore(Al).get(WI(t));return await n.done,r}catch(e){if(e instanceof Fn)Sr.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function s0(t,e){try{const r=(await HI()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,WI(t)),await r.done}catch(n){if(n instanceof Fn)Sr.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function WI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1024,uN=30;class cN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>uN){const o=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o0(),{heartbeatsToSend:r,unsentEntries:i}=dN(this._heartbeatsCache.heartbeats),s=fd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sr.warn(n),""}}}function o0(){return new Date().toISOString().substring(0,10)}function dN(t,e=lN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),a0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zg()?ev().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a0(t){return fd(JSON.stringify({version:2,heartbeats:t})).length}function fN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){nr(new Ln("platform-logger",e=>new bx(e),"PRIVATE")),nr(new Ln("heartbeat",e=>new cN(e),"PRIVATE")),gn(mm,r0,t),gn(mm,r0,"esm2017"),gn("fire-js","")}pN("");function nv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mN=GI,qI=new _s("auth","Firebase",GI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new ch("@firebase/auth");function gN(t,...e){pd.logLevel<=ce.WARN&&pd.warn(`Auth (${Mo}): ${t}`,...e)}function Pc(t,...e){pd.logLevel<=ce.ERROR&&pd.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw iv(t,...e)}function Nn(t,...e){return iv(t,...e)}function rv(t,e,n){const r=Object.assign(Object.assign({},mN()),{[e]:n});return new _s("auth","Firebase",r).create(e,{appName:t.name})}function Yi(t){return rv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rr(t,"argument-error"),rv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qI.create(t,...e)}function ee(t,e,...n){if(!t)throw iv(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pc(e),new Error(e)}function Ir(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yN(){return l0()==="http:"||l0()==="https:"}function l0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yN()||Jg()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=HO()||qO()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){Ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new ru(3e4,6e4);function ov(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lo(t,e,n,r,i={}){return YI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return GO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&tu(t.emulatorConfig.host)&&(c.credentials="include"),KI.fetch()(await QI(t,t.config.apiHost,n,a),c)})}async function YI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},EN),e);try{const i=new bN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ic(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ic(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rv(t,d,c);rr(t,d)}}catch(i){if(i instanceof Fn)throw i;rr(t,"network-request-failed",{message:String(i)})}}async function IN(t,e,n,r,i={}){const s=await Lo(t,e,n,r,i);return"mfaPendingCredential"in s&&rr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function QI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?sv(t.config,i):`${t.config.apiScheme}://${i}`;return TN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class bN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),SN.get())})}}function ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return Lo(t,"POST","/v1/accounts:delete",e)}async function md(t,e){return Lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CN(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=av(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Za(Zf(i.auth_time)),issuedAtTime:Za(Zf(i.iat)),expirationTime:Za(Zf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zf(t){return Number(t)*1e3}function av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const i=xI(n);return i?JSON.parse(i):(Pc("Failed to decode base64 JWT payload"),null)}catch(i){return Pc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function u0(t){const e=av(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fn&&PN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Cl(t,md(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XI(s.providerUserInfo):[],a=DN(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _m(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function kN(t){const e=et(t);await Pl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XI(t){return t.map(e=>{var{providerId:n}=e,r=nv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){const n=await YI(t,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await QI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xN(t,e){return Lo(t,"POST","/v2/accounts:revokeToken",ov(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=u0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ON(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new io;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _m(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CN(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Cl(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:R,isAnonymous:O,providerData:x,stsTokenManager:T}=n;ee(I&&T,e,"internal-error");const _=io.fromJSON(this.name,T);ee(typeof I=="string",e,"internal-error"),Vr(f,e.name),Vr(h,e.name),ee(typeof R=="boolean",e,"internal-error"),ee(typeof O=="boolean",e,"internal-error"),Vr(g,e.name),Vr(w,e.name),Vr(v,e.name),Vr(b,e.name),Vr(E,e.name),Vr(y,e.name);const S=new Dn({uid:I,auth:e,email:h,emailVerified:R,displayName:f,isAnonymous:O,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:_,createdAt:E,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map(C=>Object.assign({},C))),b&&(S._redirectEventId=b),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new io;i.updateFromServerResponse(n);const s=new Dn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pl(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?XI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new io;a.updateFromIdToken(r);const l=new Dn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _m(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function vr(t){Ir(t instanceof Function,"Expected a class definition");let e=c0.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JI.type="NONE";const d0=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await md(this.auth,{idToken:e}).catch(()=>{});return n?Dn._fromGetAccountInfoResponse(this.auth,n,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(vr(d0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||vr(d0);const o=Rc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await md(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Dn._fromGetAccountInfoResponse(e,h,d)}else f=Dn._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new so(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new so(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ib(e))return"Blackberry";if(sb(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZI(t=Pt()){return/firefox\//i.test(t)}function eb(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(t=Pt()){return/crios\//i.test(t)}function nb(t=Pt()){return/iemobile/i.test(t)}function rb(t=Pt()){return/android/i.test(t)}function ib(t=Pt()){return/blackberry/i.test(t)}function sb(t=Pt()){return/webos/i.test(t)}function lv(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NN(t=Pt()){var e;return lv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MN(){return KO()&&document.documentMode===10}function ob(t=Pt()){return lv(t)||rb(t)||sb(t)||ib(t)||/windows phone/i.test(t)||nb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e=[]){let n;switch(t){case"Browser":n=h0(Pt());break;case"Worker":n=`${h0(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return Lo(t,"GET","/v2/passwordPolicy",ov(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class FN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new LN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await md(this,{idToken:e}),r=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Yi(this));const n=e?et(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $N(this),n=new FN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _s("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function iu(t){return et(t)}class f0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ex(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jN(t){uv=t}function zN(t){return uv.loadJS(t)}function BN(){return uv.gapiScript}function HN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e){const n=ws(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ci(s,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function GN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qN(t,e,n){const r=iu(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=lb(e),{host:o,port:a}=KN(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(ci(c,r.config.emulator)&&ci(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,tu(o)?($I(`${s}//${o}${l}`),VI("Auth",!0)):i||YN()}function lb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KN(t){const e=lb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:p0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:p0(o)}}}function p0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e){return IN(t,"POST","/v1/accounts:signInWithIdp",ov(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="http://localhost";class rs extends ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=nv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:QN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends cv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends su{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:hn.PROVIDER_ID,signInMethod:hn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hn.credentialFromTaggedObject(e)}static credentialFromError(e){return hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hn.credential(n,r)}catch{return null}}}hn.GOOGLE_SIGN_IN_METHOD="google.com";hn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends su{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fn.credential(e.oauthAccessToken)}catch{return null}}}fn.GITHUB_SIGN_IN_METHOD="github.com";fn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends su{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dn._fromIdTokenResponse(e,r,i),o=m0(r);return new vo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=m0(r);return new vo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function m0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Fn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gd(e,n,r,i)}}function cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function db(t,e,n=!1){const r=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",r)}async function JN(t,e,n){await Pl(e);const r=XN(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ee(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(Yi(r));const i="reauthenticate";try{const s=await Cl(t,cb(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=av(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),vo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e,n=!1){if(Rn(t.app))return Promise.reject(Yi(t));const r="signIn",i=await cb(t,r,e),s=await vo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function eM(t,e){return hb(iu(t),e)}async function tM(t,e){const n=et(t);return await JN(!1,n,e.providerId),db(n,e)}function nM(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function rM(t,e,n){return et(t).beforeAuthStateChanged(e,n)}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1e3,sM=10;class pb extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);MN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pb.type="LOCAL";const oM=pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mb.type="SESSION";const gb=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await aM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=dv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function uM(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function cM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hM(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebaseLocalStorageDb",fM=1,yd="firebaseLocalStorage",_b="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function pM(){const t=indexedDB.deleteDatabase(yb);return new ou(t).toPromise()}function wm(){const t=indexedDB.open(yb,fM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:_b})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await pM(),e(await wm()))})})}async function g0(t,e,n){const r=fh(t,!0).put({[_b]:e,value:n});return new ou(r).toPromise()}async function mM(t,e){const n=fh(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function v0(t,e){const n=fh(t,!0).delete(e);return new ou(n).toPromise()}const gM=800,vM=3;class wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(hM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cM(),!this.activeServiceWorker)return;this.sender=new lM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await g0(e,vd,"1"),await v0(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fh(i,!1).getAll();return new ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wb.type="LOCAL";const yM=wb;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e){return e?vr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends ub{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _M(t){return hb(t.auth,new hv(t),t.bypassAuthState)}function wM(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),ZN(n,new hv(t),t.bypassAuthState)}async function EM(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),db(n,new hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _M;case"linkViaPopup":case"linkViaRedirect":return EM;case"reauthViaPopup":case"reauthViaRedirect":return wM;default:rr(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new ru(2e3,1e4);async function Sb(t,e,n){if(Rn(t.app))return Promise.reject(Nn(t,"operation-not-supported-in-this-environment"));const r=iu(t);vN(t,e,cv);const i=Eb(r,n);return new Hi(r,"signInViaPopup",e,i).executeNotNull()}class Hi extends Tb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TM.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="pendingRedirect",kc=new Map;class IM extends Tb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await bM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bM(t,e){const n=PM(e),r=CM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AM(t,e){kc.set(t._key(),e)}function CM(t){return vr(t._redirectPersistence)}function PM(t){return Rc(SM,t.config.apiKey,t.name)}async function RM(t,e,n=!1){if(Rn(t.app))return Promise.reject(Yi(t));const r=iu(t),i=Eb(r,e),o=await new IM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=10*60*1e3;class DM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ib(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kM&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ib({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return Lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MM=/^https?/;async function LM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if($M(n))return}catch{}rr(t,"unauthorized-domain")}function $M(t){const e=ym(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MM.test(n))return!1;if(NM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new ru(3e4,6e4);function _0(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FM(t){return new Promise((e,n)=>{var r,i,s;function o(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),n(Nn(t,"network-request-failed"))},timeout:VM.get()})}if(!((i=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xn().gapi)===null||s===void 0)&&s.load)o();else{const a=HN("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},zN(`${BN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function UM(t){return Dc=Dc||FM(t),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new ru(5e3,15e3),zM="__/auth/iframe",BM="emulator/auth/iframe",HM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GM(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sv(e,BM):`https://${t.config.authDomain}/${zM}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},i=WM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nu(r).slice(1)}`}async function qM(t){const e=await UM(t),n=Xn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:GM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Xn().setTimeout(()=>{s(o)},jM.get());function l(){Xn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YM=500,QM=600,XM="_blank",JM="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZM(t,e,n,r=YM,i=QM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(a=tb(c)?XM:n),ZI(c)&&(e=e||JM,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,w])=>`${h}${g}=${w},`,"");if(NN(c)&&a!=="_self")return e2(e||"",a),new w0(null);const f=window.open(e||"",a,d);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new w0(f)}function e2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="__/auth/handler",n2="emulator/auth/handler",r2=encodeURIComponent("fac");async function E0(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof cv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof su){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${r2}=${encodeURIComponent(l)}`:"";return`${i2(t)}?${nu(a).slice(1)}${c}`}function i2({config:t}){return t.emulator?sv(t,n2):`https://${t.authDomain}/${t2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class s2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=RM,this._overrideRedirectResult=AM}async _openPopup(e,n,r,i){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await E0(e,n,r,ym(),i);return ZM(e,o,dv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await E0(e,n,r,ym(),i);return uM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qM(e),r=new DM(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ep,{type:ep},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ep];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ob()||eb()||lv()}}const o2=s2;var T0="@firebase/auth",S0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(t){nr(new Ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(t)},c=new UN(r,i,s,l);return GN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nr(new Ln("auth-internal",e=>{const n=iu(e.getProvider("auth").getImmediate());return(r=>new a2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(T0,S0,l2(t)),gn(T0,S0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=5*60,d2=LI("authIdTokenMaxAge")||c2;let I0=null;const h2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d2)return;const i=n==null?void 0:n.token;I0!==i&&(I0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function f2(t=dh()){const e=ws(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WN(t,{popupRedirectResolver:o2,persistence:[yM,oM,gb]}),r=LI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=h2(s.toString());rM(n,o,()=>o(n.currentUser)),nM(n,a=>o(a))}}const i=NI("auth");return i&&qN(n,`http://${i}`),n}function p2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",p2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");var m2="firebase",g2="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(m2,g2,"app");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,bb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,_){function S(){}S.prototype=_.prototype,T.D=_.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(C,k,D){for(var P=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)P[Q-2]=arguments[Q];return _.prototype[k].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,S){S||(S=0);var C=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)C[k]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(k=0;16>k;++k)C[k]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=T.g[0],S=T.g[1],k=T.g[2];var D=T.g[3],P=_+(D^S&(k^D))+C[0]+3614090360&4294967295;_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+C[1]+3905402710&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+C[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+C[3]+3250441966&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(D^S&(k^D))+C[4]+4118548399&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+C[5]+1200080426&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+C[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+C[7]+4249261313&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(D^S&(k^D))+C[8]+1770035416&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+C[9]+2336552879&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+C[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+C[11]+2304563134&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(D^S&(k^D))+C[12]+1804603682&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+C[13]+4254626195&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+C[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+C[15]+1236535329&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(k^D&(S^k))+C[1]+4129170786&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+C[6]+3225465664&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+C[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+C[0]+3921069994&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^D&(S^k))+C[5]+3593408605&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+C[10]+38016083&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+C[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+C[4]+3889429448&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^D&(S^k))+C[9]+568446438&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+C[14]+3275163606&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+C[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+C[8]+1163531501&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^D&(S^k))+C[13]+2850285829&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+C[2]+4243563512&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+C[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+C[12]+2368359562&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(S^k^D)+C[5]+4294588738&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+C[8]+2272392833&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+C[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+C[14]+4259657740&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^D)+C[1]+2763975236&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+C[4]+1272893353&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+C[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+C[10]+3200236656&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^D)+C[13]+681279174&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+C[0]+3936430074&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+C[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+C[6]+76029189&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^D)+C[9]+3654602809&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+C[12]+3873151461&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+C[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+C[2]+3299628645&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(k^(S|~D))+C[0]+4096336452&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+C[7]+1126891415&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+C[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+C[5]+4237533241&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~D))+C[12]+1700485571&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+C[3]+2399980690&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+C[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+C[1]+2240044497&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~D))+C[8]+1873313359&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+C[15]+4264355552&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+C[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+C[13]+1309151649&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~D))+C[4]+4149444226&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+C[11]+3174756917&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+C[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var S=_-this.blockSize,C=this.B,k=this.h,D=0;D<_;){if(k==0)for(;D<=S;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<_;)if(C[k++]=T.charCodeAt(D++),k==this.blockSize){i(this,C),k=0;break}}else for(;D<_;)if(C[k++]=T[D++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var S=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=S&255,S/=256;for(this.u(T),T=Array(16),_=S=0;4>_;++_)for(var C=0;32>C;C+=8)T[S++]=this.g[_]>>>C&255;return T};function s(T,_){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=_(T)}function o(T,_){this.h=_;for(var S=[],C=!0,k=T.length-1;0<=k;k--){var D=T[k]|0;C&&D==_||(S[k]=D,C=!1)}this.g=S}var a={};function l(T){return-128<=T&&128>T?s(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(c(-T));for(var _=[],S=1,C=0;T>=S;C++)_[C]=T/S|0,S*=4294967296;return new o(_,0)}function d(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return b(d(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),C=f,k=0;k<T.length;k+=8){var D=Math.min(8,T.length-k),P=parseInt(T.substring(k,k+D),_);8>D?(D=c(Math.pow(_,D)),C=C.j(D).add(c(P))):(C=C.j(S),C=C.add(c(P)))}return C}var f=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var T=0,_=1,S=0;S<this.g.length;S++){var C=this.i(S);T+=(0<=C?C:4294967296+C)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(v(this))return"-"+b(this).toString(T);for(var _=c(Math.pow(T,6)),S=this,C="";;){var k=R(S,_).g;S=E(S,k.j(_));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=k,w(S))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=E(this,T),v(T)?-1:w(T)?0:1};function b(T){for(var _=T.g.length,S=[],C=0;C<_;C++)S[C]=~T.g[C];return new o(S,~T.h).add(h)}t.abs=function(){return v(this)?b(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],C=0,k=0;k<=_;k++){var D=C+(this.i(k)&65535)+(T.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);C=P>>>16,D&=65535,P&=65535,S[k]=P<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(T,_){return T.add(b(_))}t.j=function(T){if(w(this)||w(T))return f;if(v(this))return v(T)?b(this).j(b(T)):b(b(this).j(T));if(v(T))return b(this.j(b(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,S=[],C=0;C<2*_;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<T.g.length;k++){var D=this.i(C)>>>16,P=this.i(C)&65535,Q=T.i(k)>>>16,oe=T.i(k)&65535;S[2*C+2*k]+=P*oe,y(S,2*C+2*k),S[2*C+2*k+1]+=D*oe,y(S,2*C+2*k+1),S[2*C+2*k+1]+=P*Q,y(S,2*C+2*k+1),S[2*C+2*k+2]+=D*Q,y(S,2*C+2*k+2)}for(C=0;C<_;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=_;C<2*_;C++)S[C]=0;return new o(S,0)};function y(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function I(T,_){this.g=T,this.h=_}function R(T,_){if(w(_))throw Error("division by zero");if(w(T))return new I(f,f);if(v(T))return _=R(b(T),_),new I(b(_.g),b(_.h));if(v(_))return _=R(T,b(_)),new I(b(_.g),_.h);if(30<T.g.length){if(v(T)||v(_))throw Error("slowDivide_ only works with positive integers.");for(var S=h,C=_;0>=C.l(T);)S=O(S),C=O(C);var k=x(S,1),D=x(C,1);for(C=x(C,2),S=x(S,2);!w(C);){var P=D.add(C);0>=P.l(T)&&(k=k.add(S),D=P),C=x(C,1),S=x(S,1)}return _=E(T,k.j(_)),new I(k,_)}for(k=f;0<=T.l(_);){for(S=Math.max(1,Math.floor(T.m()/_.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=c(S),P=D.j(_);v(P)||0<P.l(T);)S-=C,D=c(S),P=D.j(_);w(D)&&(D=h),k=k.add(D),T=E(T,P)}return new I(k,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],C=0;C<_;C++)S[C]=this.i(C)&T.i(C);return new o(S,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],C=0;C<_;C++)S[C]=this.i(C)|T.i(C);return new o(S,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],C=0;C<_;C++)S[C]=this.i(C)^T.i(C);return new o(S,this.h^T.h)};function O(T){for(var _=T.g.length+1,S=[],C=0;C<_;C++)S[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(S,T.h)}function x(T,_){var S=_>>5;_%=32;for(var C=T.g.length-S,k=[],D=0;D<C;D++)k[D]=0<_?T.i(D+S)>>>_|T.i(D+S+1)<<32-_:T.i(D+S);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,si=o}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,Va,Cb,Oc,Em,Pb,Rb,kb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var M=u[A];if(!(M in m))break e;m=m[M]}u=u[u.length-1],A=m[u],p=p(A),p!=A&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,A=!1,M={next:function(){if(!A&&m<u.length){var L=m++;return{value:p(L,u[L]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function f(u,p,m){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function h(u,p,m){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(A,M,L){for(var H=Array(arguments.length-2),we=2;we<arguments.length;we++)H[we-2]=arguments[we];return p.prototype[M].apply(A,H)}}function v(u){const p=u.length;if(0<p){const m=Array(p);for(let A=0;A<p;A++)m[A]=u[A];return m}return[]}function b(u,p){for(let m=1;m<arguments.length;m++){const A=arguments[m];if(l(A)){const M=u.length||0,L=A.length||0;u.length=M+L;for(let H=0;H<L;H++)u[M+H]=A[H]}else u.push(A)}}class E{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var O=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function x(u,p,m){for(const A in u)p.call(m,u[A],A,u)}function T(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function _(u){const p={};for(const m in u)p[m]=u[m];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let m,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(m in A)u[m]=A[m];for(let L=0;L<S.length;L++)m=S[L],Object.prototype.hasOwnProperty.call(A,m)&&(u[m]=A[m])}}function k(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function P(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Q{constructor(){this.h=this.g=null}add(p,m){const A=oe.get();A.set(p,m),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new E(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,z=!1,q=new Q,X=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(ue)}};var ue=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(m){D(m)}var p=oe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}z=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function rt(u,p){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{R(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Dt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}w(rt,he);var Dt={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),ar=0;function ea(u,p,m,A,M){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!A,this.ha=M,this.key=++ar,this.da=this.fa=!1}function Is(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Or(u){this.src=u,this.g={},this.h=0}Or.prototype.add=function(u,p,m,A,M){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var H=bs(u,p,A,M);return-1<H?(p=u[H],m||(p.fa=!1)):(p=new ea(p,this.src,L,!!A,M),p.fa=m,u.push(p)),p};function ta(u,p){var m=p.type;if(m in u.g){var A=u.g[m],M=Array.prototype.indexOf.call(A,p,void 0),L;(L=0<=M)&&Array.prototype.splice.call(A,M,1),L&&(Is(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function bs(u,p,m,A){for(var M=0;M<u.length;++M){var L=u[M];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==A)return M}return-1}var na="closure_lm_"+(1e6*Math.random()|0),ra={};function ia(u,p,m,A,M){if(A&&A.once)return Su(u,p,m,A,M);if(Array.isArray(p)){for(var L=0;L<p.length;L++)ia(u,p[L],m,A,M);return null}return m=Cs(m),u&&u[Ot]?u.K(p,m,c(A)?!!A.capture:!!A,M):sa(u,p,m,!1,A,M)}function sa(u,p,m,A,M,L){if(!p)throw Error("Invalid event type");var H=c(M)?!!M.capture:!!M,we=ki(u);if(we||(u[na]=we=new Or(u)),m=we.add(p,m,A,H,L),m.proxy)return m;if(A=sf(),m.proxy=A,A.src=u,A.listener=m,u.addEventListener)vt||(M=H),M===void 0&&(M=!1),u.addEventListener(p.toString(),A,M);else if(u.attachEvent)u.attachEvent(oa(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function sf(){function u(m){return p.call(u.src,u.listener,m)}const p=Iu;return u}function Su(u,p,m,A,M){if(Array.isArray(p)){for(var L=0;L<p.length;L++)Su(u,p[L],m,A,M);return null}return m=Cs(m),u&&u[Ot]?u.L(p,m,c(A)?!!A.capture:!!A,M):sa(u,p,m,!0,A,M)}function Un(u,p,m,A,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)Un(u,p[L],m,A,M);else A=c(A)?!!A.capture:!!A,m=Cs(m),u&&u[Ot]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],m=bs(L,m,A,M),-1<m&&(Is(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=ki(u))&&(p=u.g[p.toString()],u=-1,p&&(u=bs(p,m,A,M)),(m=-1<u?p[u]:null)&&xr(m))}function xr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ot])ta(p.i,u);else{var m=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(m,A,u.capture):p.detachEvent?p.detachEvent(oa(m),A):p.addListener&&p.removeListener&&p.removeListener(A),(m=ki(p))?(ta(m,u),m.h==0&&(m.src=null,p[na]=null)):Is(u)}}}function oa(u){return u in ra?ra[u]:ra[u]="on"+u}function Iu(u,p){if(u.da)u=!0;else{p=new rt(p,this);var m=u.listener,A=u.ha||u.src;u.fa&&xr(u),u=m.call(A,p)}return u}function ki(u){return u=u[na],u instanceof Or?u:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(u){return typeof u=="function"?u:(u[As]||(u[As]=function(p){return u.handleEvent(p)}),u[As])}function Ye(){se.call(this),this.i=new Or(this),this.M=this,this.F=null}w(Ye,se),Ye.prototype[Ot]=!0,Ye.prototype.removeEventListener=function(u,p,m,A){Un(this,u,p,m,A)};function it(u,p){var m,A=u.F;if(A)for(m=[];A;A=A.F)m.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new he(p,u);else if(p instanceof he)p.target=p.target||u;else{var M=p;p=new he(A,u),C(p,M)}if(M=!0,m)for(var L=m.length-1;0<=L;L--){var H=p.g=m[L];M=bu(H,A,!0,p)&&M}if(H=p.g=u,M=bu(H,A,!0,p)&&M,M=bu(H,A,!1,p)&&M,m)for(L=0;L<m.length;L++)H=p.g=m[L],M=bu(H,A,!1,p)&&M}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],A=0;A<m.length;A++)Is(m[A]);delete u.g[p],u.h--}}this.F=null},Ye.prototype.K=function(u,p,m,A){return this.i.add(String(u),p,!1,m,A)},Ye.prototype.L=function(u,p,m,A){return this.i.add(String(u),p,!0,m,A)};function bu(u,p,m,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,L=0;L<p.length;++L){var H=p[L];if(H&&!H.da&&H.capture==m){var we=H.listener,ut=H.ha||H.src;H.fa&&ta(u.i,H),M=we.call(ut,A)!==!1&&M}}return M&&!A.defaultPrevented}function qy(u,p,m){if(typeof u=="function")m&&(u=h(u,m));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Ky(u){u.g=qy(()=>{u.g=null,u.i&&(u.i=!1,Ky(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class OR extends se{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ky(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(u){se.call(this),this.h=u,this.g={}}w(aa,se);var Yy=[];function Qy(u){x(u.g,function(p,m){this.g.hasOwnProperty(m)&&xr(p)},u),u.g={}}aa.prototype.N=function(){aa.aa.N.call(this),Qy(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var of=a.JSON.stringify,xR=a.JSON.parse,NR=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function af(){}af.prototype.h=null;function Xy(u){return u.h||(u.h=u.i())}function Jy(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){he.call(this,"d")}w(lf,he);function uf(){he.call(this,"c")}w(uf,he);var Di={},Zy=null;function Au(){return Zy=Zy||new Ye}Di.La="serverreachability";function e_(u){he.call(this,Di.La,u)}w(e_,he);function ua(u){const p=Au();it(p,new e_(p))}Di.STAT_EVENT="statevent";function t_(u,p){he.call(this,Di.STAT_EVENT,u),this.stat=p}w(t_,he);function xt(u){const p=Au();it(p,new t_(p,u))}Di.Ma="timingevent";function n_(u,p){he.call(this,Di.Ma,u),this.size=p}w(n_,he);function ca(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function MR(u,p,m,A,M,L){u.info(function(){if(u.g)if(L)for(var H="",we=L.split("&"),ut=0;ut<we.length;ut++){var me=we[ut].split("=");if(1<me.length){var yt=me[0];me=me[1];var _t=yt.split("_");H=2<=_t.length&&_t[1]=="type"?H+(yt+"="+me+"&"):H+(yt+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+m+`
`+H})}function LR(u,p,m,A,M,L,H){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+m+`
`+L+" "+H})}function Ps(u,p,m,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+VR(u,m)+(A?" "+A:"")})}function $R(u,p){u.info(function(){return"TIMEOUT: "+p})}da.prototype.info=function(){};function VR(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var A=m[u];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return of(m)}catch{return p}}var Cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},r_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cf;function Pu(){}w(Pu,af),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},cf=new Pu;function Nr(u,p,m,A){this.j=u,this.i=p,this.l=m,this.R=A||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new i_}function i_(){this.i=null,this.g="",this.h=!1}var s_={},df={};function hf(u,p,m){u.L=1,u.v=Ou(lr(p)),u.m=m,u.P=!0,o_(u,null)}function o_(u,p){u.F=Date.now(),Ru(u),u.A=lr(u.v);var m=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),w_(m.i,"t",A),u.C=0,m=u.j.J,u.h=new i_,u.g=V_(u.j,m?p:null,!u.m),0<u.O&&(u.M=new OR(h(u.Y,u,u.g),u.O)),p=u.U,m=u.g,A=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Yy[0]=M.toString()),M=Yy);for(var L=0;L<M.length;L++){var H=ia(m,M[L],A||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ua(),MR(u.i,u.u,u.A,u.l,u.R,u.m)}Nr.prototype.ca=function(u){u=u.target;const p=this.M;p&&ur(u)==3?p.j():this.Y(u)},Nr.prototype.Y=function(u){try{if(u==this.g)e:{const _t=ur(this.g);var p=this.g.Ba();const Ds=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||C_(this.g)))){this.J||_t!=4||p==7||(p==8||0>=Ds?ua(3):ua(2)),ff(this);var m=this.g.Z();this.X=m;t:if(a_(this)){var A=C_(this.g);u="";var M=A.length,L=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),ha(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(L&&p==M-1)});A.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=m==200,LR(this.i,this.u,this.A,this.l,this.R,_t,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ut=this.g;if((we=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(we)){var me=we;break t}}me=null}if(m=me)Ps(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,m);else{this.o=!1,this.s=3,xt(12),Oi(this),ha(this);break e}}if(this.P){m=!0;let In;for(;!this.J&&this.C<H.length;)if(In=FR(this,H),In==df){_t==4&&(this.s=4,xt(14),m=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(In==s_){this.s=4,xt(15),Ps(this.i,this.l,H,"[Invalid Chunk]"),m=!1;break}else Ps(this.i,this.l,In,null),pf(this,In);if(a_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||H.length!=0||this.h.h||(this.s=1,xt(16),m=!1),this.o=this.o&&m,!m)Ps(this.i,this.l,H,"[Invalid Chunked Response]"),Oi(this),ha(this);else if(0<H.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),wf(yt),yt.M=!0,xt(11))}}else Ps(this.i,this.l,H,null),pf(this,H);_t==4&&Oi(this),this.o&&!this.J&&(_t==4?N_(this.j,this):(this.o=!1,Ru(this)))}else nk(this.g),m==400&&0<H.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Oi(this),ha(this)}}}catch{}finally{}};function a_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function FR(u,p){var m=u.C,A=p.indexOf(`
`,m);return A==-1?df:(m=Number(p.substring(m,A)),isNaN(m)?s_:(A+=1,A+m>p.length?df:(p=p.slice(A,A+m),u.C=A+m,p)))}Nr.prototype.cancel=function(){this.J=!0,Oi(this)};function Ru(u){u.S=Date.now()+u.I,l_(u,u.I)}function l_(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ca(h(u.ba,u),p)}function ff(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Nr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($R(this.i,this.A),this.L!=2&&(ua(),xt(17)),Oi(this),this.s=2,ha(this)):l_(this,this.S-u)};function ha(u){u.j.G==0||u.J||N_(u.j,u)}function Oi(u){ff(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Qy(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function pf(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||mf(m.h,u))){if(!u.K&&mf(m.h,u)&&m.G==3){try{var A=m.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Vu(m),Lu(m);else break e;_f(m),xt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=ca(h(m.Za,m),6e3));if(1>=d_(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ni(m,11)}else if((u.K||m.g==u)&&Vu(m),!y(p))for(M=m.Da.g.parse(p),p=0;p<M.length;p++){let me=M[p];if(m.T=me[0],me=me[1],m.G==2)if(me[0]=="c"){m.K=me[1],m.ia=me[2];const yt=me[3];yt!=null&&(m.la=yt,m.j.info("VER="+m.la));const _t=me[4];_t!=null&&(m.Aa=_t,m.j.info("SVER="+m.Aa));const Ds=me[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(A=1.5*Ds,m.L=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const In=u.g;if(In){const Uu=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var L=A.h;L.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(gf(L,L.h),L.h=null))}if(A.D){const Ef=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(A.ya=Ef,Ie(A.I,A.D,Ef))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),A=m;var H=u;if(A.qa=$_(A,A.J?A.ia:null,A.W),H.K){h_(A.h,H);var we=H,ut=A.L;ut&&(we.I=ut),we.B&&(ff(we),Ru(we)),A.g=H}else O_(A);0<m.i.length&&$u(m)}else me[0]!="stop"&&me[0]!="close"||Ni(m,7);else m.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Ni(m,7):yf(m):me[0]!="noop"&&m.l&&m.l.ta(me),m.v=0)}}ua(4)}catch{}}var UR=class{constructor(u,p){this.g=u,this.map=p}};function u_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function d_(u){return u.h?1:u.g?u.g.size:0}function mf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function gf(u,p){u.g?u.g.add(p):u.h=p}function h_(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}u_.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function f_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return v(u.i)}function jR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,A=0;A<m;A++)p.push(u[A]);return p}p=[],m=0;for(A in u)p[m++]=u[A];return p}function zR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const A in u)p[m++]=A;return p}}}function p_(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=zR(u),A=jR(u),M=A.length,L=0;L<M;L++)p.call(void 0,A[L],m&&m[L],u)}var m_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BR(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var A=u[m].indexOf("="),M=null;if(0<=A){var L=u[m].substring(0,A);M=u[m].substring(A+1)}else L=u[m];p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function xi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xi){this.h=u.h,ku(this,u.j),this.o=u.o,this.g=u.g,Du(this,u.s),this.l=u.l;var p=u.i,m=new ma;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),g_(this,m),this.m=u.m}else u&&(p=String(u).match(m_))?(this.h=!1,ku(this,p[1]||"",!0),this.o=fa(p[2]||""),this.g=fa(p[3]||"",!0),Du(this,p[4]),this.l=fa(p[5]||"",!0),g_(this,p[6]||"",!0),this.m=fa(p[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}xi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(pa(p,v_,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(pa(p,v_,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(pa(m,m.charAt(0)=="/"?GR:WR,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",pa(m,KR)),u.join("")};function lr(u){return new xi(u)}function ku(u,p,m){u.j=m?fa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Du(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function g_(u,p,m){p instanceof ma?(u.i=p,YR(u.i,u.h)):(m||(p=pa(p,qR)),u.i=new ma(p,u.h))}function Ie(u,p,m){u.i.set(p,m)}function Ou(u){return Ie(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pa(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,HR),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function HR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var v_=/[#\/\?@]/g,WR=/[#\?:]/g,GR=/[#\?]/g,qR=/[#\?@]/g,KR=/#/g;function ma(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&BR(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=ma.prototype,t.add=function(u,p){Mr(this),this.i=null,u=Rs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function y_(u,p){Mr(u),p=Rs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function __(u,p){return Mr(u),p=Rs(u,p),u.g.has(p)}t.forEach=function(u,p){Mr(this),this.g.forEach(function(m,A){m.forEach(function(M){u.call(p,M,A,this)},this)},this)},t.na=function(){Mr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let A=0;A<p.length;A++){const M=u[A];for(let L=0;L<M.length;L++)m.push(p[A])}return m},t.V=function(u){Mr(this);let p=[];if(typeof u=="string")__(this,u)&&(p=p.concat(this.g.get(Rs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Mr(this),this.i=null,u=Rs(this,u),__(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function w_(u,p,m){y_(u,p),0<m.length&&(u.i=null,u.g.set(Rs(u,p),v(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var A=p[m];const L=encodeURIComponent(String(A)),H=this.V(A);for(A=0;A<H.length;A++){var M=L;H[A]!==""&&(M+="="+encodeURIComponent(String(H[A]))),u.push(M)}}return this.i=u.join("&")};function Rs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function YR(u,p){p&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(m,A){var M=A.toLowerCase();A!=M&&(y_(this,A),w_(this,M,m))},u)),u.j=p}function QR(u,p){const m=new da;if(a.Image){const A=new Image;A.onload=g(Lr,m,"TestLoadImage: loaded",!0,p,A),A.onerror=g(Lr,m,"TestLoadImage: error",!1,p,A),A.onabort=g(Lr,m,"TestLoadImage: abort",!1,p,A),A.ontimeout=g(Lr,m,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function XR(u,p){const m=new da,A=new AbortController,M=setTimeout(()=>{A.abort(),Lr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(L=>{clearTimeout(M),L.ok?Lr(m,"TestPingServer: ok",!0,p):Lr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Lr(m,"TestPingServer: error",!1,p)})}function Lr(u,p,m,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(m)}catch{}}function JR(){this.g=new NR}function ZR(u,p,m){const A=m||"";try{p_(u,function(M,L){let H=M;c(M)&&(H=of(M)),p.push(A+L+"="+encodeURIComponent(H))})}catch(M){throw p.push(A+"type="+encodeURIComponent("_badmap")),M}}function xu(u){this.l=u.Ub||null,this.j=u.eb||!1}w(xu,af),xu.prototype.g=function(){return new Nu(this.l,this.j)},xu.prototype.i=function(u){return function(){return u}}({});function Nu(u,p){Ye.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Nu,Ye),t=Nu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,va(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;E_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function E_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ga(this):va(this),this.readyState==3&&E_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ga(this))},t.Qa=function(u){this.g&&(this.response=u,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(u){u.readyState=4,u.l=null,u.j=null,u.v=null,va(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function va(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function T_(u){let p="";return x(u,function(m,A){p+=A,p+=":",p+=m,p+=`\r
`}),p}function vf(u,p,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=T_(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Ie(u,p,m))}function Le(u){Ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Le,Ye);var ek=/^https?$/i,tk=["POST","PUT"];t=Le.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cf.g(),this.v=this.o?Xy(this.o):Xy(cf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){S_(this,L);return}if(u=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)m.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())m.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tk,p,void 0))||A||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of m)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{A_(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){S_(this,L)}};function S_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,I_(u),Mu(u)}function I_(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),Mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mu(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?b_(this):this.bb())},t.bb=function(){b_(this)};function b_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ur(u)!=4||u.Z()!=2)){if(u.u&&ur(u)==4)qy(u.Ea,0,u);else if(it(u,"readystatechange"),ur(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var A;if(A=H===0){var M=String(u.D).match(m_)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!ek.test(M?M.toLowerCase():"")}m=A}if(m)it(u,"complete"),it(u,"success");else{u.m=6;try{var L=2<ur(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",I_(u)}}finally{Mu(u)}}}}function Mu(u,p){if(u.g){A_(u);const m=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||it(u,"ready");try{m.onreadystatechange=A}catch{}}}function A_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),xR(p)}};function C_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nk(u){const p={};u=(u.g&&2<=ur(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(y(u[A]))continue;var m=k(u[A]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[M]||[];p[M]=L,L.push(m)}T(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function P_(u){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,u),this.cb=ya("retryDelaySeedMs",1e4,u),this.Wa=ya("forwardChannelMaxRetries",2,u),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new u_(u&&u.concurrentRequestLimit),this.Da=new JR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=P_.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,A){xt(0),this.W=u,this.H=p||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.I=$_(this,null,this.W),$u(this)};function yf(u){if(R_(u),u.G==3){var p=u.U++,m=lr(u.I);if(Ie(m,"SID",u.K),Ie(m,"RID",p),Ie(m,"TYPE","terminate"),_a(u,m),p=new Nr(u,u.j,p),p.L=2,p.v=Ou(lr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=V_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ru(p)}L_(u)}function Lu(u){u.g&&(wf(u),u.g.cancel(),u.g=null)}function R_(u){Lu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function $u(u){if(!c_(u.h)&&!u.s){u.s=!0;var p=u.Ga;ie||X(),z||(ie(),z=!0),q.add(p,u),u.B=0}}function rk(u,p){return d_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ca(h(u.Ga,u,p),M_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Nr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=_(L),C(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=D_(this,M,p),m=lr(this.I),Ie(m,"RID",u),Ie(m,"CVER",22),this.D&&Ie(m,"X-HTTP-Session-Id",this.D),_a(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(T_(L)))+"&"+p:this.m&&vf(m,this.m,L)),gf(this.h,M),this.Ua&&Ie(m,"TYPE","init"),this.P?(Ie(m,"$req",p),Ie(m,"SID","null"),M.T=!0,hf(M,m,null)):hf(M,m,p),this.G=2}}else this.G==3&&(u?k_(this,u):this.i.length==0||c_(this.h)||k_(this))};function k_(u,p){var m;p?m=p.l:m=u.U++;const A=lr(u.I);Ie(A,"SID",u.K),Ie(A,"RID",m),Ie(A,"AID",u.T),_a(u,A),u.m&&u.o&&vf(A,u.m,u.o),m=new Nr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=D_(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),gf(u.h,m),hf(m,A,p)}function _a(u,p){u.H&&x(u.H,function(m,A){Ie(p,A,m)}),u.l&&p_({},function(m,A){Ie(p,A,m)})}function D_(u,p,m){m=Math.min(u.i.length,m);var A=u.l?h(u.l.Na,u.l,u):null;e:{var M=u.i;let L=-1;for(;;){const H=["count="+m];L==-1?0<m?(L=M[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let we=!0;for(let ut=0;ut<m;ut++){let me=M[ut].g;const yt=M[ut].map;if(me-=L,0>me)L=Math.max(0,M[ut].g-100),we=!1;else try{ZR(yt,H,"req"+me+"_")}catch{A&&A(yt)}}if(we){A=H.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,A}function O_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ie||X(),z||(ie(),z=!0),q.add(p,u),u.v=0}}function _f(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ca(h(u.Fa,u),M_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,x_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ca(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Lu(this),x_(this))};function wf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function x_(u){u.g=new Nr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=lr(u.qa);Ie(p,"RID","rpc"),Ie(p,"SID",u.K),Ie(p,"AID",u.T),Ie(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ie(p,"TO",u.ja),Ie(p,"TYPE","xmlhttp"),_a(u,p),u.m&&u.o&&vf(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Ou(lr(p)),m.m=null,m.P=!0,o_(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Lu(this),_f(this),xt(19))};function Vu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function N_(u,p){var m=null;if(u.g==p){Vu(u),wf(u),u.g=null;var A=2}else if(mf(u.h,p))m=p.D,h_(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;A=Au(),it(A,new n_(A,m)),$u(u)}else O_(u);else if(M=p.s,M==3||M==0&&0<p.X||!(A==1&&rk(u,p)||A==2&&_f(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),M){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function M_(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Ni(u,p){if(u.j.info("Error code "+p),p==2){var m=h(u.fb,u),A=u.Xa;const M=!A;A=new xi(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ku(A,"https"),Ou(A),M?QR(A.toString(),m):XR(A.toString(),m)}else xt(2);u.G=0,u.l&&u.l.sa(p),L_(u),R_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function L_(u){if(u.G=0,u.ka=[],u.l){const p=f_(u.h);(p.length!=0||u.i.length!=0)&&(b(u.ka,p),b(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function $_(u,p,m){var A=m instanceof xi?lr(m):new xi(m);if(A.g!="")p&&(A.g=p+"."+A.g),Du(A,A.s);else{var M=a.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var L=new xi(null);A&&ku(L,A),p&&(L.g=p),M&&Du(L,M),m&&(L.l=m),A=L}return m=u.D,p=u.ya,m&&p&&Ie(A,m,p),Ie(A,"VER",u.la),_a(u,A),A}function V_(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Le(new xu({eb:m})):new Le(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function F_(){}t=F_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fu(){}Fu.prototype.g=function(u,p){return new Zt(u,p)};function Zt(u,p){Ye.call(this),this.g=new P_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ks(this)}w(Zt,Ye),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){yf(this.g)},Zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=of(u),u=m);p.i.push(new UR(p.Ya++,u)),p.G==3&&$u(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,yf(this.g),delete this.g,Zt.aa.N.call(this)};function U_(u){lf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(U_,lf);function j_(){uf.call(this),this.status=1}w(j_,uf);function ks(u){this.g=u}w(ks,F_),ks.prototype.ua=function(){it(this.g,"a")},ks.prototype.ta=function(u){it(this.g,new U_(u))},ks.prototype.sa=function(u){it(this.g,new j_)},ks.prototype.ra=function(){it(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,kb=function(){return new Fu},Rb=function(){return Au()},Pb=Di,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,Oc=Cu,r_.COMPLETE="complete",Cb=r_,Jy.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Va=Jy,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,Ab=Le}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",C0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new ch("@firebase/firestore");function Ns(){return is.logLevel}function G(t,...e){if(is.logLevel<=ce.DEBUG){const n=e.map(fv);is.debug(`Firestore (${$o}): ${t}`,...n)}}function br(t,...e){if(is.logLevel<=ce.ERROR){const n=e.map(fv);is.error(`Firestore (${$o}): ${t}`,...n)}}function yo(t,...e){if(is.logLevel<=ce.WARN){const n=e.map(fv);is.warn(`Firestore (${$o}): ${t}`,...n)}}function fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Db(t,r,n)}function Db(t,e,n){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw br(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Db(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _2{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Ob(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class w2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=S2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Tm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{const s=xb(),o=I2(s.encode(R0(t,n)),s.encode(R0(e,n)));return o!==0?o:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function R0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function I2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function _o(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,D0=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D0);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k0)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Je(0,0))}static max(){return new ne(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__name__";class Bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const r=Bn.isNumericId(e),i=Bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bn.extractNumericId(e).compare(Bn.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return si.fromString(e.substring(4,e.length-2))}}class Pe extends Bn{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Bn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return b2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new ht([O0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Pe.fromString(e))}static fromName(e){return new J(Pe.fromString(e).popFirst(5))}static empty(){return new J(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function A2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new di(i,J.empty(),e)}function C2(t){return new di(t.readTime,t.key,Rl)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(ne.min(),J.empty(),Rl)}static max(){return new di(ne.max(),J.empty(),Rl)}}function P2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==R2)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function D2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-1;function mh(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function O2(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function x2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x0(e)),e=N2(t.get(n),e);return x0(e)}function N2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Mb:n+="";break;default:n+=s}}return n}function x0(t){return t+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new nn([])}unionWith(e){let n=new Ze(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $b("Invalid base64 string: "+s):s}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=M2.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fi(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="server_timestamp",Fb="__type__",Ub="__previous_value__",jb="__local_write_time__";function mv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fb])===null||n===void 0?void 0:n.stringValue)===Vb}function gh(t){const e=t.mapValue.fields[Ub];return mv(e)?gh(e):e}function kl(t){const e=hi(t.mapValue.fields[jb].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const wd="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||wd}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="__type__",Bb="__max__",ac={mapValue:{fields:{__type__:{stringValue:Bb}}}},Hb="__vector__",Ed="value";function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mv(t)?4:V2(t)?9007199254740991:$2(t)?10:11:Z(28295,{value:t})}function ir(t,e){if(t===e)return!0;const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hi(i.timestampValue),a=hi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fi(i.bytesValue).isEqual(fi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),a=je(s.doubleValue);return o===a?_d(o)===_d(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _o(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(N0(o)!==N0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ir(o[l],a[l])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Ol(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function wo(t,e){if(t===e)return 0;const n=pi(t),r=pi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=je(s.integerValue||s.doubleValue),l=je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return L0(t.timestampValue,e.timestampValue);case 4:return L0(kl(t),kl(e));case 5:return Tm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fi(s),l=fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ae(a[c],l[c]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(je(s.latitude),je(o.latitude));return a!==0?a:ae(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},h=o.fields||{},g=(a=f[Ed])===null||a===void 0?void 0:a.arrayValue,w=(l=h[Ed])===null||l===void 0?void 0:l.arrayValue,v=ae(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:$0(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ac.mapValue&&o===ac.mapValue)return 0;if(s===ac.mapValue)return 1;if(o===ac.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Tm(l[f],d[f]);if(h!==0)return h;const g=wo(a[l[f]],c[d[f]]);if(g!==0)return g}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{Pe:n})}}function L0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=hi(t),r=hi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function $0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=wo(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Eo(t){return Sm(t)}function Sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sm(n.fields[o])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function xc(t){switch(pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(t);return e?16+xc(e):16;case 5:return 2*t.stringValue.length;case 6:return fi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+xc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Si(r.fields,(s,o)=>{i+=s.length+xc(o)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function V0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Im(t){return!!t&&"integerValue"in t}function gv(t){return!!t&&"arrayValue"in t}function F0(t){return!!t&&"nullValue"in t}function U0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function $2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||n===void 0?void 0:n.stringValue)===Hb}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Bb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=el(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Bt(el(this.value))}}function Wb(t){const e=[];return Si(t.fields,(n,r)=>{const i=new ht([n]);if(Nc(r)){const s=Wb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ne.min(),ne.min(),ne.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,ne.min(),ne.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ne.min(),ne.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.position=e,this.inclusive=n}}function j0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=wo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function F2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class Ke extends Gb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j2(e,n,r):n==="array-contains"?new H2(e,r):n==="in"?new W2(e,r):n==="not-in"?new G2(e,r):n==="array-contains-any"?new q2(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z2(e,r):new B2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends Gb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $n(e,n)}matches(e){return qb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qb(t){return t.op==="and"}function Kb(t){return U2(t)&&qb(t)}function U2(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function bm(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(Kb(t))return t.filters.map(e=>bm(e)).join(",");{const e=t.filters.map(n=>bm(n)).join(",");return`${t.op}(${e})`}}function Yb(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(t,e):t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Yb(o,i.filters[a]),!0):!1}(t,e):void Z(19439)}function Qb(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(Qb).join(" ,")+"}"}(t):"Filter"}class j2 extends Ke{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class z2 extends Ke{constructor(e,n){super(e,"in",n),this.keys=Xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B2 extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=Xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class H2 extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gv(n)&&Ol(n.arrayValue,this.value)}}class W2 extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class G2 extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class q2 extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function B0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new K2(t,e,n,r,i,s,o)}function vv(t){const e=re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eo(r)).join(",")),e.Ie=n}return e.Ie}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function Am(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Y2(t,e,n,r,i,s,o,a){return new Uo(t,e,n,r,i,s,o,a)}function _v(t){return new Uo(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jb(t){return t.collectionGroup!==null}function tl(t){const e=re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ze(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new xl(s,r))}),n.has(ht.keyField().canonicalString())||e.Ee.push(new xl(ht.keyField(),r))}return e.Ee}function Jn(t){const e=re(t);return e.de||(e.de=Q2(e,tl(t))),e.de}function Q2(t,e){if(t.limitType==="F")return B0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xl(i.field,s)});const n=t.endAt?new Td(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Td(t.startAt.position,t.startAt.inclusive):null;return B0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cm(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return yv(Jn(t),Jn(e))&&t.limitType===e.limitType}function Zb(t){return`${vv(Jn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Qb(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Eo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Eo(i)).join(",")),`Target(${r})`}(Jn(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=j0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,tl(r),i)||r.endAt&&!function(o,a,l){const c=j0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,tl(r),i))}(t,e)}function X2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eA(t){return(e,n)=>{let r=!1;for(const i of tl(t)){const s=J2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J2(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?wo(l,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Me(J.comparator);function Ar(){return Z2}const tA=new Me(J.comparator);function Fa(...t){let e=tA;for(const n of t)e=e.insert(n.key,n);return e}function nA(t){let e=tA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return nl()}function rA(){return nl()}function nl(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const eL=new Me(J.comparator),tL=new Ze(J.comparator);function de(...t){let e=tL;for(const n of t)e=e.add(n);return e}const nL=new Ze(ae);function rL(){return nL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function iA(t){return{integerValue:""+t}}function iL(t,e){return O2(e)?iA(e):wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function sL(t,e,n){return t instanceof Sd?function(i,s){const o={fields:{[Fb]:{stringValue:Vb},[jb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mv(s)&&(s=gh(s)),s&&(o.fields[Ub]=s),{mapValue:o}}(n,e):t instanceof Nl?oA(t,e):t instanceof Ml?aA(t,e):function(i,s){const o=sA(i,s),a=W0(o)+W0(i.Re);return Im(o)&&Im(i.Re)?iA(a):wv(i.serializer,a)}(t,e)}function oL(t,e,n){return t instanceof Nl?oA(t,e):t instanceof Ml?aA(t,e):n}function sA(t,e){return t instanceof Id?function(r){return Im(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sd extends _h{}class Nl extends _h{constructor(e){super(),this.elements=e}}function oA(t,e){const n=lA(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends _h{constructor(e){super(),this.elements=e}}function aA(t,e){let n=lA(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class Id extends _h{constructor(e,n){super(),this.serializer=e,this.Re=n}}function W0(t){return je(t.integerValue||t.doubleValue)}function lA(t){return gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nl&&i instanceof Nl||r instanceof Ml&&i instanceof Ml?_o(r.elements,i.elements,ir):r instanceof Id&&i instanceof Id?ir(r.Re,i.Re):r instanceof Sd&&i instanceof Sd}(t.transform,e.transform)}class lL{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wh{}function uA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ev(t.key,vn.none()):new au(t.key,t.data,vn.none());{const n=t.data,r=Bt.empty();let i=new Ze(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ii(t.key,r,new nn(i.toArray()),vn.none())}}function uL(t,e,n){t instanceof au?function(i,s,o){const a=i.value.clone(),l=q0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ii?function(i,s,o){if(!Mc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=q0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(cA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof au?function(s,o,a,l){if(!Mc(s.precondition,o))return a;const c=s.value.clone(),d=K0(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ii?function(s,o,a,l){if(!Mc(s.precondition,o))return a;const c=K0(s.fieldTransforms,l,o),d=o.data;return d.setAll(cA(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Mc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function cL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sA(r.transform,i||null);s!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,s))}return n||null}function G0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_o(r,i,(s,o)=>aL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class au extends wh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends wh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q0(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oL(o,a,n[i]))}return r}function K0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sL(s,o,e))}return r}class Ev extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dL extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=uA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,r)=>G0(n,r))&&_o(this.baseMutations,e.baseMutations,(n,r)=>G0(n,r))}}class Tv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return eL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Tv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fL=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,fe;function mL(t){switch(t){case F.OK:return Z(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function dA(t){if(t===void 0)return br("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ge.OK:return F.OK;case Ge.CANCELLED:return F.CANCELLED;case Ge.UNKNOWN:return F.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return F.INTERNAL;case Ge.UNAVAILABLE:return F.UNAVAILABLE;case Ge.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ge.NOT_FOUND:return F.NOT_FOUND;case Ge.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ge.ABORTED:return F.ABORTED;case Ge.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ge.DATA_LOSS:return F.DATA_LOSS;default:return Z(39323,{code:t})}}(fe=Ge||(Ge={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new si([4294967295,4294967295],0);function Y0(t){const e=xb().encode(t),n=new bb;return n.update(e),new Uint8Array(n.digest())}function Q0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new si([n,r],0),new si([i,s],0)]}class Sv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(r<0)throw new Ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=si.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(si.fromNumber(r)));return i.compare(gL)===1&&(i=new si([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Y0(e),[r,i]=Q0(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Sv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Y0(e),[r,i]=Q0(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(ne.min(),i,new Me(ae),Ar(),de())}}class lu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class hA{constructor(e,n){this.targetId=e,this.Ce=n}}class fA{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X0{constructor(){this.Fe=0,this.Me=J0(),this.xe=mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=de(),n=de(),r=de();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new lu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=J0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vL{constructor(e){this.ze=e,this.je=new Map,this.He=Ar(),this.Je=lc(),this.Ye=lc(),this.Ze=new Me(ae)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Am(s))if(r===0){const o=new J(s.path);this.tt(n,o,At.newNoDocument(o,ne.min()))}else ve(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fi(r).toUint8Array()}catch(l){if(l instanceof $b)return yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Sv(o,i,s)}catch(l){return yo(l instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Am(a.target)){const l=new J(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,At.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=de();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Eh(e,n,this.Ze,this.He,r);return this.He=Ar(),this.Je=lc(),this.Ye=lc(),this.Ze=new Me(ae),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new X0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ze(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ze(ae),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new X0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function lc(){return new Me(J.comparator)}function J0(){return new Me(J.comparator)}const yL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_L=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wL=(()=>({and:"AND",or:"OR"}))();class EL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TL(t,e){return bd(t,e.toTimestamp())}function Zn(t){return ve(!!t,49232),ne.fromTimestamp(function(n){const r=hi(n);return new Je(r.seconds,r.nanos)}(t))}function Iv(t,e){return km(t,e).canonicalString()}function km(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mA(t){const e=Pe.fromString(t);return ve(wA(e),10190,{key:e.toString()}),e}function Dm(t,e){return Iv(t.databaseId,e.path)}function tp(t,e){const n=mA(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(vA(n))}function gA(t,e){return Iv(t.databaseId,e)}function SL(t){const e=mA(t);return e.length===4?Pe.emptyPath():vA(e)}function Om(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vA(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Z0(t,e,n){return{name:Dm(t,e),fields:n.value.mapValue.fields}}function IL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ve(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:dA(c.code);return new Y(d,c.message||"")}(o);n=new fA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tp(t,r.document.name),s=Zn(r.document.updateTime),o=r.document.createTime?Zn(r.document.createTime):ne.min(),a=new Bt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Lc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tp(t,r.document),s=r.readTime?Zn(r.readTime):ne.min(),o=At.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tp(t,r.document),s=r.removedTargetIds||[];n=new Lc([],s,i,null)}else{if(!("filter"in e))return Z(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pL(i,s),a=r.targetId;n=new hA(a,o)}}return n}function bL(t,e){let n;if(e instanceof au)n={update:Z0(t,e.key,e.value)};else if(e instanceof Ev)n={delete:Dm(t,e.key)};else if(e instanceof Ii)n={update:Z0(t,e.key,e.data),updateMask:NL(e.fieldMask)};else{if(!(e instanceof dL))return Z(16599,{ft:e.type});n={verify:Dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Sd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Id)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(t,e.precondition)),n}function AL(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Zn(i.updateTime):Zn(s);return o.isEqual(ne.min())&&(o=Zn(s)),new lL(o,i.transformResults||[])}(n,e))):[]}function CL(t,e){return{documents:[gA(t,e.path)]}}function PL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gA(t,i);const s=function(c){if(c.length!==0)return _A($n.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Ls(h.field),direction:DL(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function RL(t){let e=SL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=yA(f);return h instanceof $n&&Kb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(w){return new xl($s(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,mh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Td(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new Td(g,h)}(n.endAt)),Y2(e,i,o,s,a,"F",l,c)}function kL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$s(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$s(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$s(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create($s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>yA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function DL(t){return yL[t]}function OL(t){return _L[t]}function xL(t){return wL[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function $s(t){return ht.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof Ke?function(n){if(n.op==="=="){if(U0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:OL(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(i=>_A(i));return r.length===1?r[0]:{compositeFilter:{op:xL(n.op),filters:r}}}(t):Z(54877,{filter:t})}function NL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.wt=e}}function LL(t){const e=RL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.Cn=new VL}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(di.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class VL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(EA,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new To(0)}static lr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",FL=1048576;function nE([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class UL{constructor(e){this.Er=e,this.buffer=new Ze(nE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(tE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?G(tE,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.mr(3e5)})}}class zL{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(ph.le);const r=new UL(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(eE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ns()<=ce.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function BL(t,e){return new zL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rl(r.mutation,i,nn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=nl(),a=function(){return nl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ii)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),rl(d.mutation,c,d.mutation.getFieldMask(),Je.now())):o.set(c.key,nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new WL(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nl();let i=new Me((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||nn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=rA();d.forEach(h=>{if(!s.has(h)){const g=uA(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Wi());let a=Rl,l=s;return o.next(c=>V.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(d=>({batchId:a,changes:nA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Fa();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const c=function(f,h){return new Uo(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=Fa();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&rl(d.mutation,c,nn.empty(),Je.now()),yh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return V.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:LL(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.overlays=new Me(J.comparator),this.Qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Wi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Wi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return V.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fL(n,r));let s=this.Qr.get(n);s===void 0&&(s=de(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.$r=new Ze(st.Ur),this.Kr=new Ze(st.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new st(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new st(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new J(new Pe([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new J(new Pe([])),r=new st(n,e),i=new st(n,e+1);let s=de();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new st(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return J.comparator(e.key,n.key)||ae(e.Zr,n.Zr)}static Wr(e,n){return ae(e.Zr,n.Zr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ze(st.Ur)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?pv:this.nr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ae);return n.forEach(i=>{const s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),V.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new st(new J(s),0);let a=new Ze(ae);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Zr)),!0)},o),V.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return V.forEach(n.mutations,i=>{const s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new st(n,0),i=this.Xr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.ii=e,this.docs=function(){return new Me(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():At.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||P2(C2(d),r)<=0||(i.has(d.key)||yh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}si(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JL(this)}getSize(e){return V.resolve(this.size)}}class JL extends HL{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.persistence=e,this.oi=new Es(n=>vv(n),yv),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this._i=0,this.ai=new bv,this.targetCount=0,this.ui=To.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),V.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new To(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Tr(n),V.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.ci={},this.overlays={},this.li=new ph(0),this.hi=!1,this.hi=!0,this.Pi=new YL,this.referenceDelegate=e(this),this.Ti=new ZL(this),this.indexManager=new $L,this.remoteDocumentCache=function(i){return new XL(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ML(n),this.Ei=new qL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new QL(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new e$(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return V.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class e$ extends k2{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.Vi=new bv,this.mi=null}static fi(e){return new Av(e)}get gi(){if(this.mi)return this.mi;throw Z(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.gi,r=>{const i=J.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return V.or([()=>V.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.yi=new Es(r=>x2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BL(this,n)}static fi(e,n){return new Ad(e,n)}di(){}Ai(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return V.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ne.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),V.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xc(e.data.value)),n}Dr(e,n,r){return V.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Cv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return YO()?8:D2(Pt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new t$;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Ns()<=ce.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),V.resolve()):(Ns()<=ce.DEBUG&&G("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ns()<=ce.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):V.resolve())}ws(e,n){if(H0(n))return V.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pm(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Pm(n,null,"F")):this.Fs(e,c,n,l)}))})))}bs(e,n,r,i){return H0(n)||i.isEqual(ne.min())?V.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?V.resolve(null):(Ns()<=ce.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(n)),this.Fs(e,o,n,A2(i,Rl)).next(a=>a))})}vs(e,n){let r=new Ze(eA(e));return n.forEach((i,s)=>{yh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ns()<=ce.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.ys.getDocumentsMatchingQuery(e,n,di.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LocalStore",r$=3e8;class i${constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Me(ae),this.Os=new Es(s=>vv(s),yv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function s$(t,e,n,r){return new i$(t,e,n,r)}async function SA(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function o$(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let g=V.resolve();return h.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(v=>{const b=c.docVersions.get(w);ve(b!==null,48541),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IA(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function a$(t,e){const n=re(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(mt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(v,b,E){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=r$?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,g,d)&&a.push(n.Ti.updateTargetData(s,g))});let l=Ar(),c=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(l$(s,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(ne.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(f=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.xs=i,s))}function l$(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(Pv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function u$(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c$(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function xm(t,e,n){const r=re(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fo(o))throw o;G(Pv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function rE(t,e,n){const r=re(t);let i=ne.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=re(l),h=f.Os.get(d);return h!==void 0?V.resolve(f.xs.get(h)):f.Ti.getTargetData(c,d)}(r,o,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:de())).next(a=>(d$(r,X2(e),a),{documents:a,$s:s})))}function d$(t,e,n){let r=t.Ns.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class iE{constructor(){this.activeTargetIds=rL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h${constructor(){this.xo=new iE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new iE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class oE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(sE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Nm(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",p$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m${get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===wd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=Nm(),a=this.jo(e,n.toUriEncodedString());G(np,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:c}=new URL(a),d=tu(c);return this.Jo(e,a,l,r,d).then(f=>(G(np,`Received RPC '${e}' ${o}: `,f),f),f=>{throw yo(np,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=p$[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class v$ extends m${constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Nm();return new Promise((a,l)=>{const c=new Ab;c.setWithCredentials(!0),c.listenOnce(Cb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Oc.NO_ERROR:const f=c.getResponseJson();G(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Oc.TIMEOUT:G(Tt,`RPC '${e}' ${o} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const h=c.getStatus();if(G(Tt,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const v=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(w.status);l(new Y(v,w.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{h_:e,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{G(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);G(Tt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}I_(e,n,r){const i=Nm(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kb(),a=Rb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(Tt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.E_(f);let h=!1,g=!1;const w=new g$({Zo:b=>{g?G(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(G(Tt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),G(Tt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Xo:()=>f.close()}),v=(b,E,y)=>{b.listen(E,I=>{try{y(I)}catch(R){setTimeout(()=>{throw R},0)}})};return v(f,Va.EventType.OPEN,()=>{g||(G(Tt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),v(f,Va.EventType.CLOSE,()=>{g||(g=!0,G(Tt,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(f))}),v(f,Va.EventType.ERROR,b=>{g||(g=!0,yo(Tt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),w.u_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),v(f,Va.EventType.MESSAGE,b=>{var E;if(!g){const y=b.data[0];ve(!!y,16349);const I=y,R=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(R){G(Tt,`RPC '${e}' stream ${i} received error:`,R);const O=R.status;let x=function(S){const C=Ge[S];if(C!==void 0)return dA(C)}(O),T=R.message;x===void 0&&(x=F.INTERNAL,T="Unknown error status: "+O+" with message "+R.message),g=!0,w.u_(new Y(x,T)),f.close()}else G(Tt,`RPC '${e}' stream ${i} received:`,y),w.c_(y)}}),v(a,Pb.STAT_EVENT,b=>{b.stat===Em.PROXY?G(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Em.NOPROXY&&G(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new EL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class AA{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return G(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(G(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y$ extends AA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=IL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Zn(o.readTime):ne.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Om(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Am(l)?{documents:CL(s,l)}:{query:PL(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pA(s,o.resumeToken);const c=Rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=bd(s,o.snapshotVersion.toTimestamp());const c=Rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kL(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.Q_(n)}}class _$ extends AA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=AL(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Om(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bL(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${}class E$ extends w${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,km(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,km(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class T${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(br(n),this.ua=!1):G("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="RemoteStore";class S${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(G(ss,"Restarting streams for network reachability change."),await async function(l){const c=re(l);c.da.add(4),await uu(c),c.Va.set("Unknown"),c.da.delete(4),await Sh(c)}(this))})}),this.Va=new T$(r,i)}}async function Sh(t){if(Ts(t))for(const e of t.Aa)await e(!0)}async function uu(t){for(const e of t.Aa)await e(!1)}function CA(t,e){const n=re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Ov(n)?Dv(n):jo(n).N_()&&kv(n,e))}function Rv(t,e){const n=re(t),r=jo(n);n.Ea.delete(e),r.N_()&&PA(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ts(n)&&n.Va.set("Unknown"))}function kv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(t).Z_(e)}function PA(t,e){t.ma.Ke(e),jo(t).X_(e)}function Dv(t){t.ma=new vL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),jo(t).start(),t.Va.ca()}function Ov(t){return Ts(t)&&!jo(t).O_()&&t.Ea.size>0}function Ts(t){return re(t).da.size===0}function RA(t){t.ma=void 0}async function I$(t){t.Va.set("Online")}async function b$(t){t.Ea.forEach((e,n)=>{kv(t,e)})}async function A$(t,e){RA(t),Ov(t)?(t.Va.Pa(e),Dv(t)):t.Va.set("Unknown")}async function C$(t,e,n){if(t.Va.set("Online"),e instanceof fA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){G(ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(t,r)}else if(e instanceof Lc?t.ma.Xe(e):e instanceof hA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ne.min()))try{const r=await IA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ea.get(c);d&&s.Ea.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ea.get(l);if(!d)return;s.Ea.set(l,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),PA(s,l);const f=new Kr(d.target,l,c,d.sequenceNumber);kv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ss,"Failed to raise snapshot:",r),await Cd(t,r)}}async function Cd(t,e,n){if(!Fo(e))throw e;t.da.add(1),await uu(t),t.Va.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ss,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Sh(t)})}function kA(t,e){return e().catch(n=>Cd(t,n,e))}async function Ih(t){const e=re(t),n=mi(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:pv;for(;P$(e);)try{const i=await u$(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,R$(e,i)}catch(i){await Cd(e,i)}DA(e)&&OA(e)}function P$(t){return Ts(t)&&t.Ia.length<10}function R$(t,e){t.Ia.push(e);const n=mi(t);n.N_()&&n.ea&&n.ta(e.mutations)}function DA(t){return Ts(t)&&!mi(t).O_()&&t.Ia.length>0}function OA(t){mi(t).start()}async function k$(t){mi(t).ia()}async function D$(t){const e=mi(t);for(const n of t.Ia)e.ta(n.mutations)}async function O$(t,e,n){const r=t.Ia.shift(),i=Tv.from(r,e,n);await kA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ih(t)}async function x$(t,e){e&&mi(t).ea&&await async function(r,i){if(function(o){return mL(o)&&o!==F.ABORTED}(i.code)){const s=r.Ia.shift();mi(r).L_(),await kA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ih(r)}}(t,e),DA(t)&&OA(t)}async function lE(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G(ss,"RemoteStore received new credentials");const r=Ts(n);n.da.add(3),await uu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Sh(n)}async function N$(t,e){const n=re(t);e?(n.da.delete(2),await Sh(n)):e||(n.da.add(2),await uu(n),n.Va.set("Unknown"))}function jo(t){return t.fa||(t.fa=function(n,r,i){const s=re(n);return s.oa(),new y$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:I$.bind(null,t),n_:b$.bind(null,t),i_:A$.bind(null,t),Y_:C$.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Ov(t)?Dv(t):t.Va.set("Unknown")):(await t.fa.stop(),RA(t))})),t.fa}function mi(t){return t.ga||(t.ga=function(n,r,i){const s=re(n);return s.oa(),new _$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:k$.bind(null,t),i_:x$.bind(null,t),na:D$.bind(null,t),ra:O$.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Ih(t)):(await t.ga.stop(),t.Ia.length>0&&(G(ss,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(t,e){if(br("AsyncQueue",`${e}: ${t}`),Fo(t))return new Y(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.pa=new Me(J.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Z(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class So{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new So(e,n,ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class L${constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=cE(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function cE(){return new Es(t=>Zb(t),vh)}async function xA(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new M$,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Nv(o,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&Mv(n)}async function NA(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $$(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&Mv(n)}function V$(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Mv(t){t.Ca.forEach(e=>{e.next()})}var Mm,dE;(dE=Mm||(Mm={})).xa="default",dE.Cache="cache";class MA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.key=e}}class $A{constructor(e){this.key=e}}class F${constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=de(),this.mutatedKeys=de(),this.Za=eA(e),this.Xa=new ao(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new uE,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=yh(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;h&&g?h.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),b=!0):this.ru(h,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Za(g,l)>0||c&&this.Za(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),b=!0):h&&!g&&(r.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,f)=>function(g,w){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Vt:b})}};return v(g)-v(w)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Ja;return this.Ja=l,o.length!==0||c?{snapshot:new So(this.query,e.Xa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new uE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=de(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new $A(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new LA(r))}),n}au(e){this.Ha=e.$s,this.Ya=de();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return So.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Lv="SyncEngine";class U${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j${constructor(e){this.key=e,this.cu=!1}}class z${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Es(a=>Zb(a),vh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Me(J.comparator),this.Eu=new Map,this.du=new bv,this.Au={},this.Ru=new Map,this.Vu=To.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function B$(t,e,n=!0){const r=BA(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await VA(r,e,n,!0),i}async function H$(t,e){const n=BA(t);await VA(n,e,!0,!1)}async function VA(t,e,n,r){const i=await c$(t.localStore,Jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await W$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&CA(t.remoteStore,i),a}async function W$(t,e,n,r,i){t.fu=(f,h,g)=>async function(v,b,E,y){let I=b.view.tu(E);I.Cs&&(I=await rE(v.localStore,b.query,!1).then(({documents:T})=>b.view.tu(T,I)));const R=y&&y.targetChanges.get(b.targetId),O=y&&y.targetMismatches.get(b.targetId)!=null,x=b.view.applyChanges(I,v.isPrimaryClient,R,O);return fE(v,b.targetId,x.ou),x.snapshot}(t,f,h,g);const s=await rE(t.localStore,e,!0),o=new F$(e,s.$s),a=o.tu(s.documents),l=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);fE(t,n,c.ou);const d=new U$(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function G$(t,e,n){const r=re(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!vh(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rv(r.remoteStore,i.targetId),Lm(r,i.targetId)}).catch(Vo)):(Lm(r,i.targetId),await xm(r.localStore,i.targetId,!0))}async function q$(t,e){const n=re(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rv(n.remoteStore,r.targetId))}async function K$(t,e,n){const r=tV(t);try{const i=await function(o,a){const l=re(o),c=Je.now(),d=a.reduce((g,w)=>g.add(w.key),de());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ar(),v=de();return l.Bs.getEntries(g,d).next(b=>{w=b,w.forEach((E,y)=>{y.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(b=>{f=b;const E=[];for(const y of a){const I=cL(y,f.get(y.key).overlayedDocument);I!=null&&E.push(new Ii(y.key,I,Wb(I.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(b=>{h=b;const E=b.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,b.batchId,E)})}).then(()=>({batchId:h.batchId,changes:nA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Au[o.currentUser.toKey()];c||(c=new Me(ae)),c=c.insert(a,l),o.Au[o.currentUser.toKey()]=c}(r,i.batchId,n),await cu(r,i.changes),await Ih(r.remoteStore)}catch(i){const s=Nv(i,"Failed to persist write");n.reject(s)}}async function FA(t,e){const n=re(t);try{const r=await a$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ve(o.cu,14607):i.removedDocuments.size>0&&(ve(o.cu,42227),o.cu=!1))}),await cu(n,r,e)}catch(r){await Vo(r)}}function hE(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.Fa(a)&&(c=!0)}),c&&Mv(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y$(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Me(J.comparator);o=o.insert(s,At.newNoDocument(s,ne.min()));const a=de().add(s),l=new Eh(ne.min(),new Map,new Me(ae),o,a);await FA(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),$v(r)}else await xm(r.localStore,e,!1).then(()=>Lm(r,e,n)).catch(Vo)}async function Q$(t,e){const n=re(t),r=e.batch.batchId;try{const i=await o$(n.localStore,e);jA(n,r,null),UA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,i)}catch(i){await Vo(i)}}async function X$(t,e,n){const r=re(t);try{const i=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ve(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);jA(r,e,n),UA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,i)}catch(i){await Vo(i)}}function UA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function jA(t,e,n){const r=re(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||zA(t,r)})}function zA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Rv(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),$v(t))}function fE(t,e,n){for(const r of n)r instanceof LA?(t.du.addReference(r.key,e),J$(t,r)):r instanceof $A?(G(Lv,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||zA(t,r.key)):Z(19791,{pu:r})}function J$(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(G(Lv,"New document in limbo: "+n),t.Tu.add(r),$v(t))}function $v(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new J(Pe.fromString(e)),r=t.Vu.next();t.Eu.set(r,new j$(n)),t.Iu=t.Iu.insert(n,r),CA(t.remoteStore,new Kr(Jn(_v(n.path)),r,"TargetPurposeLimboResolution",ph.le))}}async function cu(t,e,n){const r=re(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Cv.Rs(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,c){const d=re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(c,h=>V.forEach(h.ds,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>V.forEach(h.As,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!Fo(f))throw f;G(Pv,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=d.xs.get(h),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(h,v)}}}(r.localStore,s))}async function Z$(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G(Lv,"User change. New user:",e.toKey());const r=await SA(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(l=>{l.reject(new Y(F.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.ks)}}function eV(t,e){const n=re(t),r=n.Eu.get(e);if(r&&r.cu)return de().add(r.key);{let i=de();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function BA(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y$.bind(null,e),e.lu.Y_=$$.bind(null,e.eventManager),e.lu.gu=V$.bind(null,e.eventManager),e}function tV(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X$.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return s$(this.persistence,new n$,e.initialUser,this.serializer)}Su(e){return new TA(Av.fi,this.serializer)}bu(e){return new h$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class nV extends Pd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ve(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jL(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new TA(r=>Ad.fi(r,n),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z$.bind(null,this.syncEngine),await N$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L$}()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),r=function(s){return new v$(s)}(e.databaseInfo);return function(s,o,a,l){return new E$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new S$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return oE.C()?new oE:new f$}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new z$(i,s,o,a,l,c);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);G(ss,"RemoteStore shutting down."),s.da.add(5),await uu(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="FirestoreClient";class rV{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=Nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(gi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(gi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(t,e){t.asyncQueue.verifyOperationInProgress(),G(gi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iV(t);G(gi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lE(e.remoteStore,i)),t._onlineComponents=e}async function iV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(gi,"Using user provided OfflineComponentProvider");try{await ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await ip(t,new Pd)}}else G(gi,"Using default OfflineComponentProvider"),await ip(t,new nV(void 0));return t._offlineComponents}async function WA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(gi,"Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(G(gi,"Using default OnlineComponentProvider"),await pE(t,new $m))),t._onlineComponents}function sV(t){return WA(t).then(e=>e.syncEngine)}async function Vm(t){const e=await WA(t),n=e.eventManager;return n.onListen=B$.bind(null,e.syncEngine),n.onUnlisten=G$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q$.bind(null,e.syncEngine),n}function oV(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new HA({next:h=>{d.xu(),o.enqueueAndForget(()=>NA(s,f)),h.fromCache&&l.source==="server"?c.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new MA(a,d,{includeMetadataChanges:!0,Qa:!0});return xA(s,f)}(await Vm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e,n){if(!n)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aV(t,e,n,r){if(e===!0&&r===!0)throw new Y(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gE(t){if(!J.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vE(t){if(J.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(t);throw new Y(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firestore.googleapis.com",yE=!0;class _E{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KA,this.ssl=yE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FL)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new v2;switch(r.type){case"firstParty":return new E2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mE.get(n);r&&(G("ComponentProvider","Removing Datastore"),mE.delete(n),r.terminate())}(this),Promise.resolve()}}function lV(t,e,n,r={}){var i;t=yn(t,Ah);const s=tu(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&($I(`https://${l}`),VI("Firestore",!0)),o.host!==KA&&o.host!==l&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ci(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=It.MOCK_USER;else{d=jO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new It(h)}t._authCredentials=new y2(new Ob(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class ai extends bi{constructor(e,n,r){super(e,n,_v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new J(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function il(t,e,...n){if(t=et(t),qA("collection","path",e),t instanceof Ah){const r=Pe.fromString(e,...n);return vE(r),new ai(t,null,r)}{if(!(t instanceof $t||t instanceof ai))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return vE(r),new ai(t.firestore,null,r)}}function Vs(t,e,...n){if(t=et(t),arguments.length===1&&(e=Nb.newId()),qA("doc","path",e),t instanceof Ah){const r=Pe.fromString(e,...n);return gE(r),new $t(t,null,new J(r))}{if(!(t instanceof $t||t instanceof ai))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return gE(r),new $t(t.firestore,t instanceof ai?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bA(this,"async_queue_retry"),this.rc=()=>{const r=rp();r&&G(wE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new oi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fo(e))throw e;G(wE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,br("INTERNAL UNHANDLED ERROR: ",TE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=xv.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Z(47125,{cc:TE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function TE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class vi extends Ah{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function uV(t,e){const n=typeof t=="object"?t:dh(),r=typeof t=="string"?t:e||wd,i=ws(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FO("firestore");s&&lV(i,...s)}return i}function Vv(t){if(t._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cV(t),t._firestoreClient}function cV(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new L2(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new rV(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(mt.fromBase64String(e))}catch(n){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=/^__.*__$/;class hV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class YA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ic:t})}}class zv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(QA(this.Ic)&&dV.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class fV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Th(e)}bc(e,n,r,i=!1){return new zv({Ic:e,methodName:n,wc:r,path:ht.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new fV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XA(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);Bv("Data must be an object, but it was:",o,r);const a=JA(r,o);let l,c;if(s.merge)l=new nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Fm(e,f,n);if(!o.contains(h))throw new Y(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eC(d,h)||d.push(h)}l=new nn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new hV(new Bt(a),l,c)}class Rh extends Fv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function pV(t,e,n,r){const i=t.bc(1,e,n);Bv("Data must be an object, but it was:",i,r);const s=[],o=Bt.empty();Si(r,(l,c)=>{const d=Hv(e,l,n);c=et(c);const f=i.mc(d);if(c instanceof Rh)s.push(d);else{const h=du(c,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new nn(s);return new YA(o,a,i.fieldTransforms)}function mV(t,e,n,r,i,s){const o=t.bc(1,e,n),a=[Fm(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Fm(e,s[h])),l.push(s[h+1]);const c=[],d=Bt.empty();for(let h=a.length-1;h>=0;--h)if(!eC(c,a[h])){const g=a[h];let w=l[h];w=et(w);const v=o.mc(g);if(w instanceof Rh)c.push(g);else{const b=du(w,v);b!=null&&(c.push(g),d.set(g,b))}}const f=new nn(c);return new YA(d,f,o.fieldTransforms)}function gV(t,e,n,r=!1){return du(n,t.bc(r?4:3,e))}function du(t,e){if(ZA(t=et(t)))return Bv("Unsupported field value:",e,t),JA(t,e);if(t instanceof Fv)return function(r,i){if(!QA(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=du(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:bd(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bd(i.serializer,s)}}if(r instanceof Uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:pA(i.serializer,r._byteString)};if(r instanceof $t){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Iv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jv)return function(o,a){return{mapValue:{fields:{[zb]:{stringValue:Hb},[Ed]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.gc("VectorValues must only contain numeric values.");return wv(a.serializer,c)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${bh(r)}`)}(t,e)}function JA(t,e){const n={};return Lb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{const s=du(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Uv||t instanceof Io||t instanceof $t||t instanceof Fv||t instanceof jv)}function Bv(t,e,n){if(!ZA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bh(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Fm(t,e,n){if((e=et(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return Hv(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const vV=new RegExp("[~\\*/\\[\\]]");function Hv(t,e,n){if(e.search(vV)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,a+t+l)}function eC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yV extends tC{data(){return super.data()}}function kh(t,e){return typeof e=="string"?Hv(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class rC extends Wv{}function kd(t,e,...n){let r=[];e instanceof Wv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Gv).length,a=s.filter(l=>l instanceof Dh).length;if(o>1||o>0&&a>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Dh extends rC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dh(e,n,r)}_apply(e){const n=this._parse(e);return iC(e._query,n),new bi(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=Ph(e.firestore);return function(s,o,a,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bE(f,d);const w=[];for(const v of f)w.push(IE(l,s,v));h={arrayValue:{values:w}}}else h=IE(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bE(f,d),h=gV(a,o,f,d==="in"||d==="not-in");return Ke.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dd(t,e,n){const r=e,i=kh("where",t);return Dh._create(i,r,n)}class Gv extends Wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)iC(o,l),o=Cm(o,l)}(e._query,n),new bi(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qv extends rC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(s,o)}(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Uo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function cc(t,e="asc"){const n=e,r=kh("orderBy",t);return qv._create(r,n)}function IE(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jb(e)&&n.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!J.isDocumentKey(r))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return V0(t,new J(r))}if(n instanceof $t)return V0(t,n._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _V{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ed].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new jv(s)}convertGeoPoint(e){return new Uv(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=hi(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);ve(wA(r),9688,{name:e});const i=new Dl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oC extends tC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $c extends oC{data(e={}){return super.data(e)}}class aC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $c(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new $c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new $c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:wV(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}class Kv extends _V{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function EV(t){t=yn(t,bi);const e=yn(t.firestore,vi),n=Vv(e),r=new Kv(e);return nC(t._query),oV(n,t._query).then(i=>new aC(e,r,t,i))}function TV(t,e,n){t=yn(t,$t);const r=yn(t.firestore,vi),i=sC(t.converter,e,n);return Oh(r,[XA(Ph(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vn.none())])}function AE(t,e,n,...r){t=yn(t,$t);const i=yn(t.firestore,vi),s=Ph(i);let o;return o=typeof(e=et(e))=="string"||e instanceof Ch?mV(s,"updateDoc",t._key,e,n,r):pV(s,"updateDoc",t._key,e),Oh(i,[o.toMutation(t._key,vn.exists(!0))])}function CE(t){return Oh(yn(t.firestore,vi),[new Ev(t._key,vn.none())])}function SV(t,e){const n=yn(t.firestore,vi),r=Vs(t),i=sC(t.converter,e);return Oh(n,[XA(Ph(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}function lC(t,...e){var n,r,i;t=et(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||SE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(SE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof $t)c=yn(t.firestore,vi),d=_v(t._key.path),l={next:f=>{e[o]&&e[o](IV(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=yn(t,bi);c=yn(f.firestore,vi),d=f._query;const h=new Kv(c);l={next:g=>{e[o]&&e[o](new aC(c,h,f,g))},error:e[o+1],complete:e[o+2]},nC(t._query)}return function(h,g,w,v){const b=new HA(v),E=new MA(g,b,w);return h.asyncQueue.enqueueAndForget(async()=>xA(await Vm(h),E)),()=>{b.xu(),h.asyncQueue.enqueueAndForget(async()=>NA(await Vm(h),E))}}(Vv(c),d,a,l)}function Oh(t,e){return function(r,i){const s=new oi;return r.asyncQueue.enqueueAndForget(async()=>K$(await sV(r),i,s)),s.promise}(Vv(t),e)}function IV(t,e,n){const r=n.docs.get(e._key),i=new Kv(t);return new oC(t,i,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$o=i})(Mo),nr(new Ln("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new vi(new _2(r.getProvider("auth-internal")),new T2(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gn(A0,C0,e),gn(A0,C0,"esm2017")})();const uC="@firebase/installations",Yv="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=1e4,dC=`w:${Yv}`,hC="FIS_v2",bV="https://firebaseinstallations.googleapis.com/v1",AV=60*60*1e3,CV="installations",PV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},os=new _s(CV,PV,RV);function fC(t){return t instanceof Fn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC({projectId:t}){return`${bV}/projects/${t}/installations`}function mC(t){return{token:t.token,requestStatus:2,expiresIn:DV(t.expiresIn),creationTime:Date.now()}}async function gC(t,e){const r=(await e.json()).error;return os.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kV(t,{refreshToken:e}){const n=vC(t);return n.append("Authorization",OV(e)),n}async function yC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DV(t){return Number(t.replace("s","000"))}function OV(t){return`${hC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pC(t),i=vC(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:hC,appId:t.appId,sdkVersion:dC},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await yC(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:mC(c.authToken)}}else throw await gC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^[cdef][\w-]{21}$/,Um="";function LV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$V(t);return MV.test(n)?n:Um}catch{return Um}}function $V(t){return NV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Map;function EC(t,e){const n=xh(t);TC(n,e),VV(n,e)}function TC(t,e){const n=wC.get(t);if(n)for(const r of n)r(e)}function VV(t,e){const n=FV();n&&n.postMessage({key:t,fid:e}),UV()}let Gi=null;function FV(){return!Gi&&"BroadcastChannel"in self&&(Gi=new BroadcastChannel("[Firebase] FID Change"),Gi.onmessage=t=>{TC(t.data.key,t.data.fid)}),Gi}function UV(){wC.size===0&&Gi&&(Gi.close(),Gi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="firebase-installations-database",zV=1,as="firebase-installations-store";let sp=null;function Qv(){return sp||(sp=zI(jV,zV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(as)}}})),sp}async function Od(t,e){const n=xh(t),i=(await Qv()).transaction(as,"readwrite"),s=i.objectStore(as),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&EC(t,e.fid),e}async function SC(t){const e=xh(t),r=(await Qv()).transaction(as,"readwrite");await r.objectStore(as).delete(e),await r.done}async function Nh(t,e){const n=xh(t),i=(await Qv()).transaction(as,"readwrite"),s=i.objectStore(as),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&EC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(t){let e;const n=await Nh(t.appConfig,r=>{const i=BV(r),s=HV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Um?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function BV(t){const e=t||{fid:LV(),registrationStatus:0};return IC(e)}function HV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(os.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=WV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GV(t)}:{installationEntry:e}}async function WV(t,e){try{const n=await xV(t,e);return Od(t.appConfig,n)}catch(n){throw fC(n)&&n.customData.serverCode===409?await SC(t.appConfig):await Od(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function GV(t){let e=await PE(t.appConfig);for(;e.registrationStatus===1;)await _C(100),e=await PE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Xv(t);return r||n}return e}function PE(t){return Nh(t,e=>{if(!e)throw os.create("installation-not-found");return IC(e)})}function IC(t){return qV(t)?{fid:t.fid,registrationStatus:0}:t}function qV(t){return t.registrationStatus===1&&t.registrationTime+cC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV({appConfig:t,heartbeatServiceProvider:e},n){const r=YV(t,n),i=kV(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:dC,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await yC(()=>fetch(r,a));if(l.ok){const c=await l.json();return mC(c)}else throw await gC("Generate Auth Token",l)}function YV(t,{fid:e}){return`${pC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(t,e=!1){let n;const r=await Nh(t.appConfig,s=>{if(!bC(s))throw os.create("not-registered");const o=s.authToken;if(!e&&JV(o))return s;if(o.requestStatus===1)return n=QV(t,e),s;{if(!navigator.onLine)throw os.create("app-offline");const a=eF(s);return n=XV(t,a),a}});return n?await n:r.authToken}async function QV(t,e){let n=await RE(t.appConfig);for(;n.authToken.requestStatus===1;)await _C(100),n=await RE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Jv(t,e):r}function RE(t){return Nh(t,e=>{if(!bC(e))throw os.create("not-registered");const n=e.authToken;return tF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function XV(t,e){try{const n=await KV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Od(t.appConfig,r),n}catch(n){if(fC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SC(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Od(t.appConfig,r)}throw n}}function bC(t){return t!==void 0&&t.registrationStatus===2}function JV(t){return t.requestStatus===2&&!ZV(t)}function ZV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AV}function eF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function tF(t){return t.requestStatus===1&&t.requestTime+cC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Xv(e);return r?r.catch(console.error):Jv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e=!1){const n=t;return await iF(n),(await Jv(n,e)).token}async function iF(t){const{registrationPromise:e}=await Xv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){if(!t||!t.options)throw op("App Configuration");if(!t.name)throw op("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw op(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function op(t){return os.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="installations",oF="installations-internal",aF=t=>{const e=t.getProvider("app").getImmediate(),n=sF(e),r=ws(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},lF=t=>{const e=t.getProvider("app").getImmediate(),n=ws(e,AC).getImmediate();return{getId:()=>nF(n),getToken:i=>rF(n,i)}};function uF(){nr(new Ln(AC,aF,"PUBLIC")),nr(new Ln(oF,lF,"PRIVATE"))}uF();gn(uC,Yv);gn(uC,Yv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="analytics",cF="firebase_id",dF="origin",hF=60*1e3,fF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new ch("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new _s("analytics","Analytics",pF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){if(!t.startsWith(Zv)){const e=sn.create("invalid-gtag-resource",{gtagURL:t});return Kt.warn(e.message),""}return t}function CC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function gF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function vF(t,e){const n=gF("firebase-js-sdk-policy",{createScriptURL:mF}),r=document.createElement("script"),i=`${Zv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _F(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await CC(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Kt.error(a)}t("config",i,s)}async function wF(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await CC(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Kt.error(s)}}function EF(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await wF(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await _F(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Kt.error(a)}}return i}function TF(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=EF(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function SF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=30,bF=1e3;class AF{constructor(e={},n=bF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PC=new AF;function CF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PF(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:CF(r)},s=fF.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function RF(t,e=PC,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw sn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new OF;return setTimeout(async()=>{a.abort()},n!==void 0?n:hF),RC({appId:r,apiKey:i,measurementId:s},o,a,e)}async function RC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PC){var s;const{appId:o,measurementId:a}=t;try{await kF(r,e)}catch(l){if(a)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await PF(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!DF(c)){if(i.deleteThrottleMetadata(o),a)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Zw(n,i.intervalMillis,IF):Zw(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),Kt.debug(`Calling attemptFetch again in ${d} millis`),RC(t,f,r,i)}}function kF(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function DF(t){if(!(t instanceof Fn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class OF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xF(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(){if(Zg())try{await ev()}catch(t){return Kt.warn(sn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MF(t,e,n,r,i,s,o){var a;const l=RF(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Kt.error(g)),e.push(l);const c=NF().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);SF(s)||vF(s,d.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[dF]="firebase",h.update=!0,f!=null&&(h[cF]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.app=e}_delete(){return delete sl[this.app.options.appId],Promise.resolve()}}let sl={},kE=[];const DE={};let ap="dataLayer",$F="gtag",OE,kC,xE=!1;function VF(){const t=[];if(Jg()&&t.push("This is a browser extension environment."),FI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});Kt.warn(n.message)}}function FF(t,e,n){VF();const r=t.options.appId;if(!r)throw sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(sl[r]!=null)throw sn.create("already-exists",{id:r});if(!xE){yF(ap);const{wrappedGtag:s,gtagCore:o}=TF(sl,kE,DE,ap,$F);kC=s,OE=o,xE=!0}return sl[r]=MF(t,kE,DE,e,OE,ap,n),new LF(t)}function UF(t=dh()){t=et(t);const e=ws(t,xd);return e.isInitialized()?e.getImmediate():jF(t)}function jF(t,e={}){const n=ws(t,xd);if(n.isInitialized()){const i=n.getImmediate();if(ci(e,n.getOptions()))return i;throw sn.create("already-initialized")}return n.initialize({options:e})}async function zF(){if(Jg()||!FI()||!Zg())return!1;try{return await ev()}catch{return!1}}function BF(t,e,n,r){t=et(t),xF(kC,sl[t.app.options.appId],e,n,r).catch(i=>Kt.error(i))}const NE="@firebase/analytics",ME="0.10.16";function HF(){nr(new Ln(xd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return FF(r,i,n)},"PUBLIC")),nr(new Ln("analytics-internal",t,"PRIVATE")),gn(NE,ME),gn(NE,ME,"esm2017");function t(e){try{const n=e.getProvider(xd).getImmediate();return{logEvent:(r,i,s)=>BF(n,r,i,s)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}HF();const WF={apiKey:"AIzaSyBXS4aaWPgHCG9n0VuwukQLFdu2FbepyPw",authDomain:"fuller-tracker.firebaseapp.com",projectId:"fuller-tracker",storageBucket:"fuller-tracker.appspot.com",messagingSenderId:"275403964917",appId:"1:275403964917:web:5303fd11ce23f7fc8f60bc",measurementId:"G-XC05X7GTKL"},ey=iN().length?dh():BI(WF);zF().then(t=>{t?UF(ey):console.warn("Firebase Analytics is not supported in this environment.")});const Ai=f2(ey),GF=new hn;new fn;GF.addScope("https://www.googleapis.com/auth/calendar.readonly");const Hn=uV(ey),DC={FORM_RESPONSES:6e4,GITHUB_SYNC:6e4},ls={AI:"/api/ai",GOOGLE_CALENDAR:"/api/google-calendar",GOOGLE_FORM_RESPONSES:"/api/google-form-responses",GITHUB_SYNC:"/api/github-sync",GITHUB_CREATE_REPO:"/api/github-create-repo"},zt={GOOGLE_ACCESS_TOKEN:"google_access_token",GITHUB_ACCESS_TOKEN:"github_access_token",PENDING_GITHUB_LINK:"pendingGithubLink",PENDING_GITHUB_CREDENTIAL:"pendingGithubCredential"},Pa={MAX_NAME_LENGTH:100,DEFAULT_NAME:"new_repository",NAME_REGEX:/[^a-zA-Z0-9._-]/g,CLEANUP_REGEX:/^[._-]+|[._-]+$/g},LE={PROJECT_IDEAS:t=>`Give me 5 unique and creative project ideas based on this concept. Each idea should be presented as a single bullet point and must begin with a unique, descriptive project name that relates to the concept. Each bullet should contain exactly two sentences describing the idea. The ideas should focus on what can be built using hobby-grade tools and components, unless otherwise specified. Do not split ideas into multiple bullets. Separate each idea with a line break.: ${t}`,CLARIFICATION:(t,e,n)=>`Given the original project idea: ${t}, and the previous breakdown: ${e}, here is a new clarification or modification: ${n}. Based on this updated input, generate 5 revised or entirely new project ideas. Each idea must be presented as a single bullet point starting with a unique, relevant project name. Each bullet should contain exactly two sentences describing the idea. The ideas should focus on what can be built using hobby-grade tools (including 3D printing, CNC router, soldering iron, welding, etc.) and components, unless otherwise specified. Do not reuse the original ideas with minor wording changes. Separate each idea with a line break.`},Mh=new fn;Mh.addScope("repo");Mh.addScope("user:email");Mh.addScope("read:user");function qF({onLoginSuccess:t}){async function e(){try{const n=await Sb(Ai,Mh),r=n.user,s=fn.credentialFromResult(n).accessToken;if(!s)throw new Error("Failed to retrieve GitHub access token");console.log("GitHub Access Token:",s),localStorage.setItem(zt.GITHUB_ACCESS_TOKEN,s),console.log("GitHub access token stored in localStorage"),t&&t(s,r)}catch(n){if(console.error("GitHub login failed:",n),n.code==="auth/popup-blocked"||n.code==="auth/popup-closed-by-user"){console.log("Popup blocked, redirecting to OAuth flow...");try{const i=await(await fetch("/api/github-login")).json();i.url&&(window.location.href=i.url)}catch(r){console.error("OAuth redirect failed:",r),alert("GitHub login failed. Please try again.")}}else alert("GitHub login failed. Please try again.")}}return $.jsx("button",{onClick:e,style:{backgroundColor:"transparent",border:"none",padding:0},children:$.jsx("img",{src:"/img/github-logo.png",alt:"GitHub Login",className:"button login"})})}async function KF(){const t=localStorage.getItem(zt.PENDING_GITHUB_LINK),e=localStorage.getItem(zt.PENDING_GITHUB_CREDENTIAL);if(!(!t||!e))try{const n=JSON.parse(e),r=fn.credential(n.accessToken),i=Ai.currentUser;i&&r&&(await tM(i,r),alert("Your GitHub account has been linked successfully!"),console.log("GitHub User Info:",i),localStorage.removeItem(zt.PENDING_GITHUB_CREDENTIAL),localStorage.removeItem(zt.PENDING_GITHUB_LINK))}catch(n){console.error("Error linking GitHub credential:",n),alert("Failed to link your GitHub account. Please try again."),localStorage.removeItem(zt.PENDING_GITHUB_CREDENTIAL),localStorage.removeItem(zt.PENDING_GITHUB_LINK)}}const OC=new hn;OC.addScope("https://www.googleapis.com/auth/calendar.readonly");function YF(){async function t(){try{const e=await Sb(Ai,OC),n=e.user,r=hn.credentialFromResult(e),i=r.idToken,s=r.accessToken;KF(),console.log("User signed in successfully!",n),console.log("Google Calendar Access Token:",s)}catch(e){alert("Login failed: "+e.message)}}return $.jsx("button",{onClick:t,children:$.jsx("img",{src:"/img/Google-Logo.png",alt:"Google Login",className:"button login"})})}function QF(){const[t,e]=B.useState(!1),n=B.useRef(null),r=()=>{e(i=>!i)};return B.useEffect(()=>{const i=s=>{n.current&&!n.current.contains(s.target)&&e(!1)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]),$.jsxs($.Fragment,{children:[t&&$.jsx("div",{className:"blur-overlay"}),$.jsxs("div",{ref:n,children:[$.jsx("div",{className:"login-menu",children:$.jsx("div",{className:`menu-icon${t?" open":""}`,tabIndex:0,onClick:r,children:$.jsx("img",{src:"/img/Menu-Bar.png",alt:"Login Menu",className:"icon"})})}),$.jsxs("div",{className:`menu-dropdown${t?" open":""}`,children:[$.jsx(YF,{}),$.jsx(qF,{})]})]})]})}function XF(){const[t,e]=B.useState([]),[n,r]=B.useState(null),[i,s]=B.useState(!1);return B.useEffect(()=>{const o=Ai.onAuthStateChanged(a=>{console.log("Auth state changed:",a),r(a)});return()=>o()},[]),B.useEffect(()=>{if(!n){console.warn("User is not authenticated");return}const o=localStorage.getItem(zt.GITHUB_ACCESS_TOKEN);if(!o){console.error("No GitHub access token found");return}const a=async()=>{try{s(!0),console.log("Syncing repositories from GitHub...");const c=await fetch(ls.GITHUB_SYNC,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({uid:n.uid})});if(!c.ok){if(c.status===401){console.error("GitHub authentication failed during sync");return}throw new Error(`GitHub sync failed: ${c.status} ${c.statusText}`)}const d=await c.json();console.log("GitHub sync completed:",d),s(!1)}catch(c){console.error("Failed to sync repositories:",c),s(!1)}};a();const l=setInterval(a,DC.GITHUB_SYNC);return()=>clearInterval(l)},[n]),B.useEffect(()=>{if(!n){console.warn("No user for real-time listener");return}const o=kd(il(Hn,"repos"),Dd("uid","==",n.uid)),a=lC(o,l=>{const c=l.docs.map(d=>d.data());e(c)});return()=>a()},[n]),$.jsxs("div",{className:"container",children:[$.jsx("h2",{children:"GitHub Repositories"}),i&&$.jsx("div",{children:"🔄 Syncing repositories..."}),$.jsx("ul",{className:"repo-list",children:t.map((o,a)=>$.jsx("li",{style:{marginBottom:"0.5rem"},children:$.jsx("a",{href:o.html_url,target:"_blank",rel:"noreferrer",className:"button",children:o.name})},o.id||a))})]})}var xC={exports:{}},JF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZF=JF,e4=ZF;function NC(){}function MC(){}MC.resetWarningCache=NC;var t4=function(){function t(r,i,s,o,a,l){if(l!==e4){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MC,resetWarningCache:NC};return n.PropTypes=n,n};xC.exports=t4();var n4=xC.exports;const U=Jt(n4);function LC({formResponses:t}){const e=(t==null?void 0:t[0])||["Time Submitted","Description","Due Date"],n=(t==null?void 0:t.slice(1))||[],r=i=>Array.from({length:e.length},(s,o)=>(i==null?void 0:i[o])??"");return $.jsxs("div",{className:"container submissions",children:[$.jsx("h2",{children:"Form Submissions"}),$.jsx("div",{className:"submissions-body",children:n.length>0?n.map((i,s)=>$.jsx("div",{className:"submission-row-container task-container",children:r(i).map((o,a)=>$.jsx("div",{className:"submission-cell task-cell",children:o},a))},s)):$.jsx("div",{className:"no-submissions-message",children:"No submissions yet."})})]})}LC.propTypes={formResponses:U.arrayOf(U.array)};function r4({open:t,onClose:e,onEventAdded:n}){const[r,i]=B.useState({summary:"",description:"",start:"",end:""}),[s,o]=B.useState(""),a=async l=>{l.preventDefault(),o("");const c=localStorage.getItem("google_access_token");if(!c){o("Not logged in to Google");return}const d=await fetch("/api/google-add-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(r)});if(d.ok)i({summary:"",description:"",start:"",end:""}),e(),n&&n();else{const f=await d.json();o(f.error||"Failed to add event")}};return t?$.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:$.jsxs("form",{className:"bg-white p-4 rounded shadow w-80",onSubmit:a,children:[$.jsx("h2",{className:"font-bold mb-2",children:"Add Event"}),$.jsx("input",{className:"w-full border p-2 mb-2",placeholder:"Title",value:r.summary,onChange:l=>i(c=>({...c,summary:l.target.value})),required:!0}),$.jsx("textarea",{className:"w-full border p-2 mb-2",placeholder:"Description",value:r.description,onChange:l=>i(c=>({...c,description:l.target.value}))}),$.jsx("label",{className:"block mb-1 text-xs",children:"Start"}),$.jsx("input",{className:"w-full border p-2 mb-2",type:"datetime-local",value:r.start,onChange:l=>i(c=>({...c,start:l.target.value})),required:!0}),$.jsx("label",{className:"block mb-1 text-xs",children:"End"}),$.jsx("input",{className:"w-full border p-2 mb-2",type:"datetime-local",value:r.end,onChange:l=>i(c=>({...c,end:l.target.value})),required:!0}),s&&$.jsx("div",{className:"text-red-600 mb-2",children:s}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Save"}),$.jsx("button",{type:"button",className:"bg-gray-300 px-3 py-1 rounded",onClick:e,children:"Cancel"})]})]})}):null}function ty({children:t,className:e=""}){return $.jsx("div",{className:`border rounded shadow p-4 bg-white ${e}`,children:t})}ty.propTypes={children:U.node.isRequired,className:U.string};function ny({children:t}){return $.jsx("div",{className:"text-gray-800",children:t})}ny.propTypes={children:U.node.isRequired};function lo({children:t,onClick:e,className:n="",disabled:r=!1,...i}){return $.jsx("button",{onClick:e,className:`button ${n}`,disabled:r,...i,children:t})}lo.propTypes={children:U.node.isRequired,onClick:U.func,className:U.string,disabled:U.bool};function $C({loading:t}){return t?$.jsxs("div",{className:"mb-2 text-blue-600 flex items-center gap-2",children:[$.jsx("span",{className:"animate-spin inline-block w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full"}),"Generating AI response..."]}):null}$C.propTypes={loading:U.bool.isRequired};function VC({projectName:t,setProjectName:e,clarification:n,setClarification:r,loading:i,breakdownToShow:s,selectedBullet:o,setSelectedBullet:a,handleAISuggestion:l,handleClarification:c,handleSelectBullet:d}){return $.jsxs("div",{className:"container ai-breakdown-card",children:[$.jsx("h2",{children:"AI Breakdown"}),!s&&$.jsx("input",{type:"text",placeholder:"Enter Project Idea",className:"input",value:t,onChange:f=>e(f.target.value)}),!s&&$.jsx(lo,{className:"button",onClick:l,children:"Generate AI Breakdown"}),s&&$.jsx(ty,{children:$.jsxs(ny,{children:[$.jsx($C,{loading:i}),$.jsx("ul",{className:"breakdown-list",children:s.split(`
`).filter(f=>f.trim()!=="").map((f,h)=>$.jsx("li",{className:"breakdown-item"+(o===f?" breakdown-item-selected":""),onClick:()=>a(f),title:"Click to select this bullet",children:f.replace(/^[\-\*\d\.\s]+/,"")},h))}),o&&$.jsx("div",{className:"selected-bullet-row",children:$.jsx(lo,{className:"button",onClick:()=>d(o),children:"Make Repo from This"})}),$.jsxs("div",{className:"clarification-row",children:[$.jsx("textarea",{className:"input",placeholder:"Add clarifications or modifications to your project idea...",value:n,onChange:f=>r(f.target.value),rows:3,disabled:i}),"              ",$.jsx(lo,{onClick:c,disabled:i||!n.trim(),children:"Submit Clarification"})]})]})})]})}VC.propTypes={projectName:U.string.isRequired,setProjectName:U.func.isRequired,clarification:U.string.isRequired,setClarification:U.func.isRequired,loading:U.bool.isRequired,breakdownToShow:U.string,selectedBullet:U.string.isRequired,setSelectedBullet:U.func.isRequired,handleAISuggestion:U.func.isRequired,handleClarification:U.func.isRequired,handleSelectBullet:U.func.isRequired};function Cr(t){"@babel/helpers - typeof";return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(t)}function i4(t,e){if(Cr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FC(t){var e=i4(t,"string");return Cr(e)=="symbol"?e:e+""}function Ui(t,e,n){return(e=FC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lh(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sr(t,e){if(t==null)return{};var n,r,i=Lh(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FC(r.key),r)}}function nt(t,e,n){return e&&VE(t.prototype,e),n&&VE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nd(t)}function UC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UC=function(){return!!t})()}function s4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o4(t,e){if(e&&(Cr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s4(t)}function Rt(t,e,n){return e=Nd(e),o4(t,UC()?Reflect.construct(e,n||[],Nd(t).constructor):e.apply(t,n))}function Md(t,e){return Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Md(t,e)}function kt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Md(t,e)}function jC(t){if(Array.isArray(t))return t}function a4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ry(t,e){if(t){if(typeof t=="string")return jm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jm(t,e):void 0}}function zC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function us(t,e){return jC(t)||a4(t,e)||ry(t,e)||zC()}function BC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=BC(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Fe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=BC(t))&&(r&&(r+=" "),r+=e);return r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ve.apply(null,arguments)}var l4=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},u4=l4;const Ll=Jt(u4);var c4=function(){};function d4(t,e){var n={};return Object.keys(t).forEach(function(r){n[Vc(r)]=c4}),n}function FE(t,e){return t[e]!==void 0}function Vc(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function h4(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function f4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Md(t,e)}function HC(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function WC(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function GC(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}HC.__suppressDeprecationWarning=!0;WC.__suppressDeprecationWarning=!0;GC.__suppressDeprecationWarning=!0;function p4(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=HC,e.componentWillReceiveProps=WC),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=GC;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,c,d,h)}}return t}var m4="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function qC(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=h4(t),s=Object.keys(e),o=s.map(Vc);i||!n.length||Ll(!1);var a=function(c){f4(d,c);function d(){for(var h,g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];h=c.call.apply(c,[this].concat(w))||this,h.handlers=Object.create(null),s.forEach(function(E){var y=e[E],I=function(O){if(h.props[y]){var x;h._notifying=!0;for(var T=arguments.length,_=new Array(T>1?T-1:0),S=1;S<T;S++)_[S-1]=arguments[S];(x=h.props)[y].apply(x,[O].concat(_)),h._notifying=!1}h.unmounted||h.setState(function(C){var k,D=C.values;return{values:Ve(Object.create(null),D,(k={},k[E]=O,k))}})};h.handlers[y]=I}),n.length&&(h.attachRef=function(E){h.inner=E});var b=Object.create(null);return s.forEach(function(E){b[E]=h.props[Vc(E)]}),h.state={values:b,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(g,w){var v=w.values,b=w.prevProps,E={values:Ve(Object.create(null),v),prevProps:{}};return s.forEach(function(y){E.prevProps[y]=g[y],!FE(g,y)&&FE(b,y)&&(E.values[y]=g[Vc(y)])}),E},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var g=this,w=this.props,v=w.innerRef,b=Lh(w,["innerRef"]);o.forEach(function(y){delete b[y]});var E={};return s.forEach(function(y){var I=g.props[y];E[y]=I!==void 0?I:g.state.values[y]}),N.createElement(t,Ve({},b,E,this.handlers,{ref:v||this.attachRef}))},d}(N.Component);p4(a),a.displayName="Uncontrolled("+r+")",a.propTypes=Ve({innerRef:function(){}},d4(e)),n.forEach(function(c){a.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=a;return N.forwardRef&&(l=N.forwardRef(function(c,d){return N.createElement(a,Ve({},c,{innerRef:d,__source:{fileName:m4,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,d,f){return d===void 0&&(d={}),qC(c,Ve({},e,d),f)},l}var Ld="milliseconds",$l="seconds",Vl="minutes",Fl="hours",cs="day",bo="week",Ul="month",ds="year",hs="decade",fs="century",KC={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},g4={month:1,year:12,decade:10*12,century:100*12};function v4(t){return[31,y4(t),31,30,31,30,31,31,30,31,30,31]}function y4(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Vn(t,e,n){switch(t=new Date(t),n){case Ld:case $l:case Vl:case Fl:case cs:case bo:return _4(t,e*KC[n]);case Ul:case ds:case hs:case fs:return w4(t,e*g4[n])}throw new TypeError('Invalid units: "'+n+'"')}function _4(t,e){var n=new Date(+t+e);return E4(t,n)}function w4(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),s=n*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(i,v4(o)[a]),c=new Date(t);return c.setFullYear(o),c.setDate(1),c.setMonth(a),c.setDate(l),c}function E4(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*KC.minutes)}function jl(t,e,n){return Vn(t,-e,n)}function gt(t,e,n){switch(t=new Date(t),e){case fs:case hs:case ds:t=Vd(t,0);case Ul:t=ZC(t,1);case bo:case cs:t=Hl(t,0);case Fl:t=Ao(t,0);case Vl:t=Bl(t,0);case $l:t=zl(t,0)}return e===hs&&(t=jl(t,ps(t)%10,"year")),e===fs&&(t=jl(t,ps(t)%100,"year")),e===bo&&(t=eP(t,0,n)),t}function $d(t,e,n){switch(t=new Date(t),t=gt(t,e,n),e){case fs:case hs:case ds:case Ul:case bo:t=Vn(t,1,e),t=jl(t,1,cs),t.setHours(23,59,59,999);break;case cs:t.setHours(23,59,59,999);break;case Fl:case Vl:case $l:t=Vn(t,1,e),t=jl(t,1,Ld)}return t}var zo=Ho(function(t,e){return t===e}),iy=Ho(function(t,e){return t!==e}),$h=Ho(function(t,e){return t>e}),hu=Ho(function(t,e){return t>=e}),sy=Ho(function(t,e){return t<e}),Bo=Ho(function(t,e){return t<=e});function YC(){return new Date(Math.min.apply(Math,arguments))}function QC(){return new Date(Math.max.apply(Math,arguments))}function XC(t,e,n,r){return r=r||"day",(!e||hu(t,e,r))&&(!n||Bo(t,n,r))}var zl=Ci("Milliseconds"),Bl=Ci("Seconds"),Ao=Ci("Minutes"),Hl=Ci("Hours"),JC=Ci("Day"),ZC=Ci("Date"),Vd=Ci("Month"),ps=Ci("FullYear");function T4(t,e){return e===void 0?ps(gt(t,hs)):Vn(t,e+10,ds)}function S4(t,e){return e===void 0?ps(gt(t,fs)):Vn(t,e+100,ds)}function eP(t,e,n){var r=(JC(t)+7-(n||0))%7;return e===void 0?r:Vn(t,e-r,cs)}function I4(t,e,n,r){var i,s,o;switch(n){case Ld:case $l:case Vl:case Fl:case cs:case bo:i=e.getTime()-t.getTime();break;case Ul:case ds:case hs:case fs:i=(ps(e)-ps(t))*12+Vd(e)-Vd(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Ld:s=1;break;case $l:s=1e3;break;case Vl:s=1e3*60;break;case Fl:s=1e3*60*60;break;case cs:s=1e3*60*60*24;break;case bo:s=1e3*60*60*24*7;break;case Ul:s=1;break;case ds:s=12;break;case hs:s=120;break;case fs:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Ci(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function Ho(t){return function(e,n,r){return t(+gt(e,r),+gt(n,r))}}const UE=Object.freeze(Object.defineProperty({__proto__:null,add:Vn,century:S4,date:ZC,day:JC,decade:T4,diff:I4,endOf:$d,eq:zo,gt:$h,gte:hu,hours:Hl,inRange:XC,lt:sy,lte:Bo,max:QC,milliseconds:zl,min:YC,minutes:Ao,month:Vd,neq:iy,seconds:Bl,startOf:gt,subtract:jl,weekday:eP,year:ps},Symbol.toStringTag,{value:"Module"}));function b4(t){if(Array.isArray(t))return jm(t)}function tP(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fc(t){return b4(t)||tP(t)||ry(t)||A4()}function C4(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var nP=C4;function P4(t,e){return t===e||t!==t&&e!==e}var fu=P4,R4=typeof kn=="object"&&kn&&kn.Object===Object&&kn,rP=R4,k4=rP,D4=typeof self=="object"&&self&&self.Object===Object&&self,O4=k4||D4||Function("return this")(),or=O4,x4=or,N4=x4.Symbol,Wo=N4,jE=Wo,iP=Object.prototype,M4=iP.hasOwnProperty,L4=iP.toString,Ra=jE?jE.toStringTag:void 0;function $4(t){var e=M4.call(t,Ra),n=t[Ra];try{t[Ra]=void 0;var r=!0}catch{}var i=L4.call(t);return r&&(e?t[Ra]=n:delete t[Ra]),i}var V4=$4,F4=Object.prototype,U4=F4.toString;function j4(t){return U4.call(t)}var z4=j4,zE=Wo,B4=V4,H4=z4,W4="[object Null]",G4="[object Undefined]",BE=zE?zE.toStringTag:void 0;function q4(t){return t==null?t===void 0?G4:W4:BE&&BE in Object(t)?B4(t):H4(t)}var Go=q4;function K4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Dr=K4,Y4=Go,Q4=Dr,X4="[object AsyncFunction]",J4="[object Function]",Z4="[object GeneratorFunction]",e3="[object Proxy]";function t3(t){if(!Q4(t))return!1;var e=Y4(t);return e==J4||e==Z4||e==X4||e==e3}var oy=t3,n3=9007199254740991;function r3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n3}var ay=r3,i3=oy,s3=ay;function o3(t){return t!=null&&s3(t.length)&&!i3(t)}var pu=o3,a3=9007199254740991,l3=/^(?:0|[1-9]\d*)$/;function u3(t,e){var n=typeof t;return e=e??a3,!!e&&(n=="number"||n!="symbol"&&l3.test(t))&&t>-1&&t%1==0&&t<e}var ly=u3,c3=fu,d3=pu,h3=ly,f3=Dr;function p3(t,e,n){if(!f3(n))return!1;var r=typeof e;return(r=="number"?d3(n)&&h3(e,n.length):r=="string"&&e in n)?c3(n[e],t):!1}var Vh=p3,m3=/\s/;function g3(t){for(var e=t.length;e--&&m3.test(t.charAt(e)););return e}var v3=g3,y3=v3,_3=/^\s+/;function w3(t){return t&&t.slice(0,y3(t)+1).replace(_3,"")}var E3=w3;function T3(t){return t!=null&&typeof t=="object"}var Pi=T3,S3=Go,I3=Pi,b3="[object Symbol]";function A3(t){return typeof t=="symbol"||I3(t)&&S3(t)==b3}var mu=A3,C3=E3,HE=Dr,P3=mu,WE=0/0,R3=/^[-+]0x[0-9a-f]+$/i,k3=/^0b[01]+$/i,D3=/^0o[0-7]+$/i,O3=parseInt;function x3(t){if(typeof t=="number")return t;if(P3(t))return WE;if(HE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=C3(t);var n=k3.test(t);return n||D3.test(t)?O3(t.slice(2),n?2:8):R3.test(t)?WE:+t}var N3=x3,M3=N3,GE=1/0,L3=17976931348623157e292;function $3(t){if(!t)return t===0?t:0;if(t=M3(t),t===GE||t===-GE){var e=t<0?-1:1;return e*L3}return t===t?t:0}var sP=$3,V3=sP;function F3(t){var e=V3(t),n=e%1;return e===e?n?e-n:e:0}var oP=F3,U3=nP,j3=Vh,z3=oP,B3=Math.ceil,H3=Math.max;function W3(t,e,n){(n?j3(t,e,n):e===void 0)?e=1:e=H3(z3(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(B3(r/e));i<r;)o[s++]=U3(t,i,i+=e);return o}var G3=W3;const q3=Jt(G3);function gu(t){return t&&t.ownerDocument||document}function K3(t){var e=gu(t);return e&&e.defaultView||window}function Y3(t,e){return K3(t).getComputedStyle(t,e)}var Q3=/([A-Z])/g;function X3(t){return t.replace(Q3,"-$1").toLowerCase()}var J3=/^ms-/;function dc(t){return X3(t).replace(J3,"-ms-")}var Z3=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function eU(t){return!!(t&&Z3.test(t))}function Fs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(dc(e))||Y3(t).getPropertyValue(dc(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(dc(i)):eU(i)?r+=i+"("+s+") ":n+=dc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Wl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function tU(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function uy(t){return"window"in t&&t.window===t?t:tU(t)&&t.defaultView||!1}function aP(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=uy(r);if(i===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],i):r[e]=i}return n}const lP=aP("pageXOffset"),uP=aP("pageYOffset");function Qi(t){var e=gu(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!Wl(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+uP(r)-(r.clientTop||0),left:n.left+lP(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var nU=function(e){return!!e&&"offsetParent"in e};function rU(t){for(var e=gu(t),n=t&&t.offsetParent;nU(n)&&n.nodeName!=="HTML"&&Fs(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var iU=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function cP(t,e){var n={top:0,left:0},r;if(Fs(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||rU(t);r=Qi(t),iU(i)!=="html"&&(n=Qi(i));var s=String(Fs(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-uP(i)||0;var o=String(Fs(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-lP(i)||0}var a=String(Fs(t,"marginTop")||0),l=String(Fs(t,"marginLeft")||0);return Ve({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const cy=!!(typeof window<"u"&&window.document&&window.document.createElement);var qE=new Date().getTime();function sU(t){var e=new Date().getTime(),n=Math.max(0,16-(e-qE)),r=setTimeout(t,n);return qE=e,r}var oU=["","webkit","moz","o","ms"],zm="clearTimeout",Bm=sU,KE=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};cy&&oU.some(function(t){var e=KE(t,"request");return e in window&&(zm=KE(t,"cancel"),Bm=function(r){return window[e](r)}),!!Bm});var YE=function(e){typeof window[zm]=="function"&&window[zm](e)},dP=Bm,lp;function aU(t,e){if(!lp){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;lp=function(s,o){return r.call(s,o)}}return lp(t,e)}var lU=Function.prototype.bind.call(Function.prototype.call,[].slice);function uU(t,e){return lU(t.querySelectorAll(e))}var Hm=!1,Wm=!1;try{var up={get passive(){return Hm=!0},get once(){return Wm=Hm=!0}};cy&&(window.addEventListener("test",up,up),window.removeEventListener("test",up,!0))}catch{}function cU(t,e,n,r){if(r&&typeof r!="boolean"&&!Wm){var i=r.once,s=r.capture,o=n;!Wm&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Hm?r:s)}t.addEventListener(e,n,r)}function dU(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t},[t]),e}function QE(t){const e=dU(t);return B.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function XE(){return B.useState(null)}function hU(){const t=B.useRef(!0),e=B.useRef(()=>t.current);return B.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function fU(t){const e=hU();return[t[0],B.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Yt="top",En="bottom",Tn="right",Qt="left",dy="auto",vu=[Yt,En,Tn,Qt],Co="start",Gl="end",pU="clippingParents",hP="viewport",ka="popper",mU="reference",JE=vu.reduce(function(t,e){return t.concat([e+"-"+Co,e+"-"+Gl])},[]),hy=[].concat(vu,[dy]).reduce(function(t,e){return t.concat([e,e+"-"+Co,e+"-"+Gl])},[]),gU="beforeRead",vU="read",yU="afterRead",_U="beforeMain",wU="main",EU="afterMain",TU="beforeWrite",SU="write",IU="afterWrite",bU=[gU,vU,yU,_U,wU,EU,TU,SU,IU];function er(t){return t.split("-")[0]}function an(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ms(t){var e=an(t).Element;return t instanceof e||t instanceof Element}function tr(t){var e=an(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fy(t){if(typeof ShadowRoot>"u")return!1;var e=an(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Xi=Math.max,Fd=Math.min,Po=Math.round;function Gm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fP(){return!/^((?!chrome|android).)*safari/i.test(Gm())}function Ro(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&tr(t)&&(i=t.offsetWidth>0&&Po(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Po(r.height)/t.offsetHeight||1);var o=ms(t)?an(t):window,a=o.visualViewport,l=!fP()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,h=r.height/s;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c,x:c,y:d}}function py(t){var e=Ro(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function pP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&fy(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yi(t){return t?(t.nodeName||"").toLowerCase():null}function Pr(t){return an(t).getComputedStyle(t)}function AU(t){return["table","td","th"].indexOf(yi(t))>=0}function Ri(t){return((ms(t)?t.ownerDocument:t.document)||window.document).documentElement}function Fh(t){return yi(t)==="html"?t:t.assignedSlot||t.parentNode||(fy(t)?t.host:null)||Ri(t)}function ZE(t){return!tr(t)||Pr(t).position==="fixed"?null:t.offsetParent}function CU(t){var e=/firefox/i.test(Gm()),n=/Trident/i.test(Gm());if(n&&tr(t)){var r=Pr(t);if(r.position==="fixed")return null}var i=Fh(t);for(fy(i)&&(i=i.host);tr(i)&&["html","body"].indexOf(yi(i))<0;){var s=Pr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function yu(t){for(var e=an(t),n=ZE(t);n&&AU(n)&&Pr(n).position==="static";)n=ZE(n);return n&&(yi(n)==="html"||yi(n)==="body"&&Pr(n).position==="static")?e:n||CU(t)||e}function my(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ol(t,e,n){return Xi(t,Fd(e,n))}function PU(t,e,n){var r=ol(t,e,n);return r>n?n:r}function mP(){return{top:0,right:0,bottom:0,left:0}}function gP(t){return Object.assign({},mP(),t)}function vP(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var RU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gP(typeof e!="number"?e:vP(e,vu))};function kU(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=er(n.placement),l=my(a),c=[Qt,Tn].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var f=RU(i.padding,n),h=py(s),g=l==="y"?Yt:Qt,w=l==="y"?En:Tn,v=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],b=o[l]-n.rects.reference[l],E=yu(s),y=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,I=v/2-b/2,R=f[g],O=y-h[d]-f[w],x=y/2-h[d]/2+I,T=ol(R,x,O),_=l;n.modifiersData[r]=(e={},e[_]=T,e.centerOffset=T-x,e)}}function DU(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||pP(e.elements.popper,i)&&(e.elements.arrow=i))}const OU={name:"arrow",enabled:!0,phase:"main",fn:kU,effect:DU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ko(t){return t.split("-")[1]}var xU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NU(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Po(n*i)/i||0,y:Po(r*i)/i||0}}function e1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,g=h===void 0?0:h,w=o.y,v=w===void 0?0:w,b=typeof d=="function"?d({x:g,y:v}):{x:g,y:v};g=b.x,v=b.y;var E=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),I=Qt,R=Yt,O=window;if(c){var x=yu(n),T="clientHeight",_="clientWidth";if(x===an(n)&&(x=Ri(n),Pr(x).position!=="static"&&a==="absolute"&&(T="scrollHeight",_="scrollWidth")),x=x,i===Yt||(i===Qt||i===Tn)&&s===Gl){R=En;var S=f&&x===O&&O.visualViewport?O.visualViewport.height:x[T];v-=S-r.height,v*=l?1:-1}if(i===Qt||(i===Yt||i===En)&&s===Gl){I=Tn;var C=f&&x===O&&O.visualViewport?O.visualViewport.width:x[_];g-=C-r.width,g*=l?1:-1}}var k=Object.assign({position:a},c&&xU),D=d===!0?NU({x:g,y:v},an(n)):{x:g,y:v};if(g=D.x,v=D.y,l){var P;return Object.assign({},k,(P={},P[R]=y?"0":"",P[I]=E?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",P))}return Object.assign({},k,(e={},e[R]=y?v+"px":"",e[I]=E?g+"px":"",e.transform="",e))}function MU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:er(e.placement),variation:ko(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,e1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,e1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const LU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:MU,data:{}};var hc={passive:!0};function $U(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=an(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,hc)}),a&&l.addEventListener("resize",n.update,hc),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,hc)}),a&&l.removeEventListener("resize",n.update,hc)}}const VU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$U,data:{}};var FU={left:"right",right:"left",bottom:"top",top:"bottom"};function Uc(t){return t.replace(/left|right|bottom|top/g,function(e){return FU[e]})}var UU={start:"end",end:"start"};function t1(t){return t.replace(/start|end/g,function(e){return UU[e]})}function gy(t){var e=an(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vy(t){return Ro(Ri(t)).left+gy(t).scrollLeft}function jU(t,e){var n=an(t),r=Ri(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=fP();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+vy(t),y:l}}function zU(t){var e,n=Ri(t),r=gy(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Xi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+vy(t),l=-r.scrollTop;return Pr(i||n).direction==="rtl"&&(a+=Xi(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function yy(t){var e=Pr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function yP(t){return["html","body","#document"].indexOf(yi(t))>=0?t.ownerDocument.body:tr(t)&&yy(t)?t:yP(Fh(t))}function al(t,e){var n;e===void 0&&(e=[]);var r=yP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=an(r),o=i?[s].concat(s.visualViewport||[],yy(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(al(Fh(o)))}function qm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function BU(t,e){var n=Ro(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function n1(t,e,n){return e===hP?qm(jU(t,n)):ms(e)?BU(e,n):qm(zU(Ri(t)))}function HU(t){var e=al(Fh(t)),n=["absolute","fixed"].indexOf(Pr(t).position)>=0,r=n&&tr(t)?yu(t):t;return ms(r)?e.filter(function(i){return ms(i)&&pP(i,r)&&yi(i)!=="body"}):[]}function WU(t,e,n,r){var i=e==="clippingParents"?HU(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var d=n1(t,c,r);return l.top=Xi(d.top,l.top),l.right=Fd(d.right,l.right),l.bottom=Fd(d.bottom,l.bottom),l.left=Xi(d.left,l.left),l},n1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function _P(t){var e=t.reference,n=t.element,r=t.placement,i=r?er(r):null,s=r?ko(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Yt:l={x:o,y:e.y-n.height};break;case En:l={x:o,y:e.y+e.height};break;case Tn:l={x:e.x+e.width,y:a};break;case Qt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?my(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Co:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Gl:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function ql(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?pU:a,c=n.rootBoundary,d=c===void 0?hP:c,f=n.elementContext,h=f===void 0?ka:f,g=n.altBoundary,w=g===void 0?!1:g,v=n.padding,b=v===void 0?0:v,E=gP(typeof b!="number"?b:vP(b,vu)),y=h===ka?mU:ka,I=t.rects.popper,R=t.elements[w?y:h],O=WU(ms(R)?R:R.contextElement||Ri(t.elements.popper),l,d,o),x=Ro(t.elements.reference),T=_P({reference:x,element:I,strategy:"absolute",placement:i}),_=qm(Object.assign({},I,T)),S=h===ka?_:x,C={top:O.top-S.top+E.top,bottom:S.bottom-O.bottom+E.bottom,left:O.left-S.left+E.left,right:S.right-O.right+E.right},k=t.modifiersData.offset;if(h===ka&&k){var D=k[i];Object.keys(C).forEach(function(P){var Q=[Tn,En].indexOf(P)>=0?1:-1,oe=[Yt,En].indexOf(P)>=0?"y":"x";C[P]+=D[oe]*Q})}return C}function GU(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?hy:l,d=ko(r),f=d?a?JE:JE.filter(function(w){return ko(w)===d}):vu,h=f.filter(function(w){return c.indexOf(w)>=0});h.length===0&&(h=f);var g=h.reduce(function(w,v){return w[v]=ql(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[er(v)],w},{});return Object.keys(g).sort(function(w,v){return g[w]-g[v]})}function qU(t){if(er(t)===dy)return[];var e=Uc(t);return[t1(t),e,t1(e)]}function KU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,w=g===void 0?!0:g,v=n.allowedAutoPlacements,b=e.options.placement,E=er(b),y=E===b,I=l||(y||!w?[Uc(b)]:qU(b)),R=[b].concat(I).reduce(function(vt,rt){return vt.concat(er(rt)===dy?GU(e,{placement:rt,boundary:d,rootBoundary:f,padding:c,flipVariations:w,allowedAutoPlacements:v}):rt)},[]),O=e.rects.reference,x=e.rects.popper,T=new Map,_=!0,S=R[0],C=0;C<R.length;C++){var k=R[C],D=er(k),P=ko(k)===Co,Q=[Yt,En].indexOf(D)>=0,oe=Q?"width":"height",te=ql(e,{placement:k,boundary:d,rootBoundary:f,altBoundary:h,padding:c}),ie=Q?P?Tn:Qt:P?En:Yt;O[oe]>x[oe]&&(ie=Uc(ie));var z=Uc(ie),q=[];if(s&&q.push(te[D]<=0),a&&q.push(te[ie]<=0,te[z]<=0),q.every(function(vt){return vt})){S=k,_=!1;break}T.set(k,q)}if(_)for(var X=w?3:1,ue=function(rt){var Dt=R.find(function(Ot){var ar=T.get(Ot);if(ar)return ar.slice(0,rt).every(function(ea){return ea})});if(Dt)return S=Dt,"break"},se=X;se>0;se--){var he=ue(se);if(he==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}const YU={name:"flip",enabled:!0,phase:"main",fn:KU,requiresIfExists:["offset"],data:{_skip:!1}};function r1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function i1(t){return[Yt,Tn,En,Qt].some(function(e){return t[e]>=0})}function QU(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=ql(e,{elementContext:"reference"}),a=ql(e,{altBoundary:!0}),l=r1(o,r),c=r1(a,i,s),d=i1(l),f=i1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const XU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QU};function JU(t,e,n){var r=er(t),i=[Qt,Yt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Qt,Tn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ZU(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=hy.reduce(function(d,f){return d[f]=JU(f,e.rects,s),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const ej={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ZU};function tj(t){var e=t.state,n=t.name;e.modifiersData[n]=_P({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const nj={name:"popperOffsets",enabled:!0,phase:"read",fn:tj,data:{}};function rj(t){return t==="x"?"y":"x"}function ij(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,g=h===void 0?!0:h,w=n.tetherOffset,v=w===void 0?0:w,b=ql(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),E=er(e.placement),y=ko(e.placement),I=!y,R=my(E),O=rj(R),x=e.modifiersData.popperOffsets,T=e.rects.reference,_=e.rects.popper,S=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,C=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(x){if(s){var P,Q=R==="y"?Yt:Qt,oe=R==="y"?En:Tn,te=R==="y"?"height":"width",ie=x[R],z=ie+b[Q],q=ie-b[oe],X=g?-_[te]/2:0,ue=y===Co?T[te]:_[te],se=y===Co?-_[te]:-T[te],he=e.elements.arrow,vt=g&&he?py(he):{width:0,height:0},rt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mP(),Dt=rt[Q],Ot=rt[oe],ar=ol(0,T[te],vt[te]),ea=I?T[te]/2-X-ar-Dt-C.mainAxis:ue-ar-Dt-C.mainAxis,Is=I?-T[te]/2+X+ar+Ot+C.mainAxis:se+ar+Ot+C.mainAxis,Or=e.elements.arrow&&yu(e.elements.arrow),ta=Or?R==="y"?Or.clientTop||0:Or.clientLeft||0:0,bs=(P=k==null?void 0:k[R])!=null?P:0,na=ie+ea-bs-ta,ra=ie+Is-bs,ia=ol(g?Fd(z,na):z,ie,g?Xi(q,ra):q);x[R]=ia,D[R]=ia-ie}if(a){var sa,sf=R==="x"?Yt:Qt,Su=R==="x"?En:Tn,Un=x[O],xr=O==="y"?"height":"width",oa=Un+b[sf],Iu=Un-b[Su],ki=[Yt,Qt].indexOf(E)!==-1,As=(sa=k==null?void 0:k[O])!=null?sa:0,Cs=ki?oa:Un-T[xr]-_[xr]-As+C.altAxis,Ye=ki?Un+T[xr]+_[xr]-As-C.altAxis:Iu,it=g&&ki?PU(Cs,Un,Ye):ol(g?Cs:oa,Un,g?Ye:Iu);x[O]=it,D[O]=it-Un}e.modifiersData[r]=D}}const sj={name:"preventOverflow",enabled:!0,phase:"main",fn:ij,requiresIfExists:["offset"]};function oj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function aj(t){return t===an(t)||!tr(t)?gy(t):oj(t)}function lj(t){var e=t.getBoundingClientRect(),n=Po(e.width)/t.offsetWidth||1,r=Po(e.height)/t.offsetHeight||1;return n!==1||r!==1}function uj(t,e,n){n===void 0&&(n=!1);var r=tr(e),i=tr(e)&&lj(e),s=Ri(e),o=Ro(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((yi(e)!=="body"||yy(s))&&(a=aj(e)),tr(e)?(l=Ro(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=vy(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function cj(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function dj(t){var e=cj(t);return bU.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function hj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function fj(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var s1={placement:"bottom",modifiers:[],strategy:"absolute"};function o1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function pj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?s1:i;return function(a,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},s1,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,g={state:d,setOptions:function(E){var y=typeof E=="function"?E(d.options):E;v(),d.options=Object.assign({},s,d.options,y),d.scrollParents={reference:ms(a)?al(a):a.contextElement?al(a.contextElement):[],popper:al(l)};var I=dj(fj([].concat(r,d.options.modifiers)));return d.orderedModifiers=I.filter(function(R){return R.enabled}),w(),g.update()},forceUpdate:function(){if(!h){var E=d.elements,y=E.reference,I=E.popper;if(o1(y,I)){d.rects={reference:uj(y,yu(I),d.options.strategy==="fixed"),popper:py(I)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(C){return d.modifiersData[C.name]=Object.assign({},C.data)});for(var R=0;R<d.orderedModifiers.length;R++){if(d.reset===!0){d.reset=!1,R=-1;continue}var O=d.orderedModifiers[R],x=O.fn,T=O.options,_=T===void 0?{}:T,S=O.name;typeof x=="function"&&(d=x({state:d,options:_,name:S,instance:g})||d)}}}},update:hj(function(){return new Promise(function(b){g.forceUpdate(),b(d)})}),destroy:function(){v(),h=!0}};if(!o1(a,l))return g;g.setOptions(c).then(function(b){!h&&c.onFirstUpdate&&c.onFirstUpdate(b)});function w(){d.orderedModifiers.forEach(function(b){var E=b.name,y=b.options,I=y===void 0?{}:y,R=b.effect;if(typeof R=="function"){var O=R({state:d,name:E,instance:g,options:I}),x=function(){};f.push(O||x)}})}function v(){f.forEach(function(b){return b()}),f=[]}return g}}var mj=pj({defaultModifiers:[XU,nj,LU,VU,ej,YU,sj,OU]}),a1=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},gj={name:"applyStyles",enabled:!1},vj={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},yj=[];function _j(t,e,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,c=l===void 0?"absolute":l,d=r.modifiers,f=d===void 0?yj:d,h=Lh(r,["enabled","placement","strategy","modifiers"]),g=B.useRef(),w=B.useCallback(function(){var R;(R=g.current)==null||R.update()},[]),v=B.useCallback(function(){var R;(R=g.current)==null||R.forceUpdate()},[]),b=fU(B.useState({placement:a,update:w,forceUpdate:v,attributes:{},styles:{popper:a1(c),arrow:{}}})),E=b[0],y=b[1],I=B.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(O){var x=O.state,T={},_={};Object.keys(x.elements).forEach(function(S){T[S]=x.styles[S],_[S]=x.attributes[S]}),y({state:x,styles:T,attributes:_,update:w,forceUpdate:v,placement:x.placement})}}},[w,v,y]);return B.useEffect(function(){!g.current||!s||g.current.setOptions({placement:a,strategy:c,modifiers:[].concat(f,[I,gj])})},[c,a,I,s]),B.useEffect(function(){if(!(!s||t==null||e==null))return g.current=mj(t,e,Ve({},h,{placement:a,strategy:c,modifiers:[].concat(f,[vj,I])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,y(function(R){return Ve({},R,{attributes:{},styles:{popper:a1(c)}})}))}},[s,t,e]),E}function wj(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function za(t,e,n,r){return cU(t,e,n,r),function(){wj(t,e,n,r)}}var Ej=function(){},Tj=Ej;const Sj=Jt(Tj);function Ij(t){return t&&"setState"in t?kI.findDOMNode(t):t??null}const bj=function(t){return gu(Ij(t))};var Aj=27,l1=function(){};function Cj(t){return t.button===0}function Pj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var u1=function(e){return e&&("current"in e?e.current:e)};function Rj(t,e,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=B.useRef(!1),l=e||l1,c=B.useCallback(function(h){var g,w=u1(t);Sj(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!w||Pj(h)||!Cj(h)||!!Wl(w,(g=h.composedPath==null?void 0:h.composedPath()[0])!=null?g:h.target)},[t]),d=QE(function(h){a.current||l(h)}),f=QE(function(h){h.keyCode===Aj&&l(h)});B.useEffect(function(){if(!(i||t==null)){var h=window.event,g=bj(u1(t)),w=za(g,o,c,!0),v=za(g,o,function(y){if(y===h){h=void 0;return}d(y)}),b=za(g,"keyup",function(y){if(y===h){h=void 0;return}f(y)}),E=[];return"ontouchstart"in g.documentElement&&(E=[].slice.call(g.body.children).map(function(y){return za(y,"mousemove",l1)})),function(){w(),v(),b(),E.forEach(function(y){return y()})}}},[t,i,o,c,d,f])}function kj(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function Dj(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function Oj(t){var e,n,r,i,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,c=t.offset,d=t.fixed,f=t.containerPadding,h=t.arrowElement,g=t.popperConfig,w=g===void 0?{}:g,v=kj(w.modifiers);return Ve({},w,{placement:a,enabled:s,strategy:d?"fixed":w.strategy,modifiers:Dj(Ve({},v,{eventListeners:{enabled:o},preventOverflow:Ve({},v.preventOverflow,{options:f?Ve({padding:f},(e=v.preventOverflow)==null?void 0:e.options):(n=v.preventOverflow)==null?void 0:n.options}),offset:{options:Ve({offset:c},(r=v.offset)==null?void 0:r.options)},arrow:Ve({},v.arrow,{enabled:!!h,options:Ve({},(i=v.arrow)==null?void 0:i.options,{element:h})}),flip:Ve({enabled:!!l},v.flip)}))})}function xj(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Nj(t,e){t.classList?t.classList.add(e):xj(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function c1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Mj(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=c1(t.className,e):t.setAttribute("class",c1(t.className&&t.className.baseVal||"",e))}var fc;function _y(t){if((!fc&&fc!==0||t)&&cy){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),fc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return fc}var cp=function(e){var n;return typeof document>"u"?null:e==null?gu().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function d1(t,e){var n=B.useState(function(){return cp(t)}),r=n[0],i=n[1];if(!r){var s=cp(t);s&&i(s)}return B.useEffect(function(){e&&r&&e(r)},[e,r]),B.useEffect(function(){var o=cp(t);o!==r&&i(o)},[t,r]),r}const h1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Lj(t,e){const n=h1(t),r=h1(e);return i=>{n&&n(i),r&&r(i)}}function $j(t,e){return B.useMemo(()=>Lj(t,e),[t,e])}var wy=N.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,c=t.transition,d=XE(),f=d[0],h=d[1],g=XE(),w=g[0],v=g[1],b=$j(h,e),E=d1(t.container),y=d1(t.target),I=B.useState(!t.show),R=I[0],O=I[1],x=_j(y,f,Oj({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:w,popperConfig:l})),T=x.styles,_=x.attributes,S=Lh(x,["styles","attributes"]);t.show?R&&O(!1):!t.transition&&!R&&O(!0);var C=function(){O(!0),t.onExited&&t.onExited.apply(t,arguments)},k=t.show||c&&!R;if(Rj(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!k)return null;var D=t.children(Ve({},S,{show:!!t.show,props:Ve({},_.popper,{style:T.popper,ref:b}),arrowProps:Ve({},_.arrow,{style:T.arrow,ref:v})}));if(c){var P=t.onExit,Q=t.onExiting,oe=t.onEnter,te=t.onEntering,ie=t.onEntered;D=N.createElement(c,{in:t.show,appear:!0,onExit:P,onExiting:Q,onExited:C,onEnter:oe,onEntering:te,onEntered:ie},D)}return E?kI.createPortal(D,E):null});wy.displayName="Overlay";wy.propTypes={show:U.bool,placement:U.oneOf(hy),target:U.any,container:U.any,flip:U.bool,children:U.func.isRequired,containerPadding:U.number,popperConfig:U.object,rootClose:U.bool,rootCloseEvent:U.oneOf(["click","mousedown"]),rootCloseDisabled:U.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var s;return(s=U.func).isRequired.apply(s,[e].concat(r))}return U.func.apply(U,[e].concat(r))},transition:U.elementType,onEnter:U.func,onEntering:U.func,onEntered:U.func,onExit:U.func,onExiting:U.func,onExited:U.func};const Vj=wy;function Fj(){this.__data__=[],this.size=0}var Uj=Fj,jj=fu;function zj(t,e){for(var n=t.length;n--;)if(jj(t[n][0],e))return n;return-1}var Uh=zj,Bj=Uh,Hj=Array.prototype,Wj=Hj.splice;function Gj(t){var e=this.__data__,n=Bj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Wj.call(e,n,1),--this.size,!0}var qj=Gj,Kj=Uh;function Yj(t){var e=this.__data__,n=Kj(e,t);return n<0?void 0:e[n][1]}var Qj=Yj,Xj=Uh;function Jj(t){return Xj(this.__data__,t)>-1}var Zj=Jj,e6=Uh;function t6(t,e){var n=this.__data__,r=e6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var n6=t6,r6=Uj,i6=qj,s6=Qj,o6=Zj,a6=n6;function qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qo.prototype.clear=r6;qo.prototype.delete=i6;qo.prototype.get=s6;qo.prototype.has=o6;qo.prototype.set=a6;var jh=qo,l6=jh;function u6(){this.__data__=new l6,this.size=0}var c6=u6;function d6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var h6=d6;function f6(t){return this.__data__.get(t)}var p6=f6;function m6(t){return this.__data__.has(t)}var g6=m6,v6=or,y6=v6["__core-js_shared__"],_6=y6,dp=_6,f1=function(){var t=/[^.]+$/.exec(dp&&dp.keys&&dp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function w6(t){return!!f1&&f1 in t}var E6=w6,T6=Function.prototype,S6=T6.toString;function I6(t){if(t!=null){try{return S6.call(t)}catch{}try{return t+""}catch{}}return""}var wP=I6,b6=oy,A6=E6,C6=Dr,P6=wP,R6=/[\\^$.*+?()[\]{}|]/g,k6=/^\[object .+?Constructor\]$/,D6=Function.prototype,O6=Object.prototype,x6=D6.toString,N6=O6.hasOwnProperty,M6=RegExp("^"+x6.call(N6).replace(R6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L6(t){if(!C6(t)||A6(t))return!1;var e=b6(t)?M6:k6;return e.test(P6(t))}var $6=L6;function V6(t,e){return t==null?void 0:t[e]}var F6=V6,U6=$6,j6=F6;function z6(t,e){var n=j6(t,e);return U6(n)?n:void 0}var Ss=z6,B6=Ss,H6=or,W6=B6(H6,"Map"),Ey=W6,G6=Ss,q6=G6(Object,"create"),zh=q6,p1=zh;function K6(){this.__data__=p1?p1(null):{},this.size=0}var Y6=K6;function Q6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var X6=Q6,J6=zh,Z6="__lodash_hash_undefined__",e9=Object.prototype,t9=e9.hasOwnProperty;function n9(t){var e=this.__data__;if(J6){var n=e[t];return n===Z6?void 0:n}return t9.call(e,t)?e[t]:void 0}var r9=n9,i9=zh,s9=Object.prototype,o9=s9.hasOwnProperty;function a9(t){var e=this.__data__;return i9?e[t]!==void 0:o9.call(e,t)}var l9=a9,u9=zh,c9="__lodash_hash_undefined__";function d9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=u9&&e===void 0?c9:e,this}var h9=d9,f9=Y6,p9=X6,m9=r9,g9=l9,v9=h9;function Ko(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ko.prototype.clear=f9;Ko.prototype.delete=p9;Ko.prototype.get=m9;Ko.prototype.has=g9;Ko.prototype.set=v9;var y9=Ko,m1=y9,_9=jh,w9=Ey;function E9(){this.size=0,this.__data__={hash:new m1,map:new(w9||_9),string:new m1}}var T9=E9;function S9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var I9=S9,b9=I9;function A9(t,e){var n=t.__data__;return b9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bh=A9,C9=Bh;function P9(t){var e=C9(this,t).delete(t);return this.size-=e?1:0,e}var R9=P9,k9=Bh;function D9(t){return k9(this,t).get(t)}var O9=D9,x9=Bh;function N9(t){return x9(this,t).has(t)}var M9=N9,L9=Bh;function $9(t,e){var n=L9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var V9=$9,F9=T9,U9=R9,j9=O9,z9=M9,B9=V9;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=F9;Yo.prototype.delete=U9;Yo.prototype.get=j9;Yo.prototype.has=z9;Yo.prototype.set=B9;var Ty=Yo,H9=jh,W9=Ey,G9=Ty,q9=200;function K9(t,e){var n=this.__data__;if(n instanceof H9){var r=n.__data__;if(!W9||r.length<q9-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new G9(r)}return n.set(t,e),this.size=n.size,this}var Y9=K9,Q9=jh,X9=c6,J9=h6,Z9=p6,ez=g6,tz=Y9;function Qo(t){var e=this.__data__=new Q9(t);this.size=e.size}Qo.prototype.clear=X9;Qo.prototype.delete=J9;Qo.prototype.get=Z9;Qo.prototype.has=ez;Qo.prototype.set=tz;var Sy=Qo,nz="__lodash_hash_undefined__";function rz(t){return this.__data__.set(t,nz),this}var iz=rz;function sz(t){return this.__data__.has(t)}var oz=sz,az=Ty,lz=iz,uz=oz;function Ud(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new az;++e<n;)this.add(t[e])}Ud.prototype.add=Ud.prototype.push=lz;Ud.prototype.has=uz;var cz=Ud;function dz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hz=dz;function fz(t,e){return t.has(e)}var pz=fz,mz=cz,gz=hz,vz=pz,yz=1,_z=2;function wz(t,e,n,r,i,s){var o=n&yz,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,g=n&_z?new mz:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var w=t[f],v=e[f];if(r)var b=o?r(v,w,f,e,t,s):r(w,v,f,t,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!gz(e,function(E,y){if(!vz(g,y)&&(w===E||i(w,E,n,r,s)))return g.push(y)})){h=!1;break}}else if(!(w===v||i(w,v,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var EP=wz,Ez=or,Tz=Ez.Uint8Array,TP=Tz;function Sz(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Iz=Sz;function bz(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Az=bz,g1=Wo,v1=TP,Cz=fu,Pz=EP,Rz=Iz,kz=Az,Dz=1,Oz=2,xz="[object Boolean]",Nz="[object Date]",Mz="[object Error]",Lz="[object Map]",$z="[object Number]",Vz="[object RegExp]",Fz="[object Set]",Uz="[object String]",jz="[object Symbol]",zz="[object ArrayBuffer]",Bz="[object DataView]",y1=g1?g1.prototype:void 0,hp=y1?y1.valueOf:void 0;function Hz(t,e,n,r,i,s,o){switch(n){case Bz:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zz:return!(t.byteLength!=e.byteLength||!s(new v1(t),new v1(e)));case xz:case Nz:case $z:return Cz(+t,+e);case Mz:return t.name==e.name&&t.message==e.message;case Vz:case Uz:return t==e+"";case Lz:var a=Rz;case Fz:var l=r&Dz;if(a||(a=kz),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Oz,o.set(t,e);var d=Pz(a(t),a(e),r,i,s,o);return o.delete(t),d;case jz:if(hp)return hp.call(t)==hp.call(e)}return!1}var Wz=Hz;function Gz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Iy=Gz,qz=Array.isArray,Sn=qz,Kz=Iy,Yz=Sn;function Qz(t,e,n){var r=e(t);return Yz(t)?r:Kz(r,n(t))}var SP=Qz;function Xz(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Jz=Xz;function Zz(){return[]}var IP=Zz,eB=Jz,tB=IP,nB=Object.prototype,rB=nB.propertyIsEnumerable,_1=Object.getOwnPropertySymbols,iB=_1?function(t){return t==null?[]:(t=Object(t),eB(_1(t),function(e){return rB.call(t,e)}))}:tB,by=iB;function sB(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var oB=sB,aB=Go,lB=Pi,uB="[object Arguments]";function cB(t){return lB(t)&&aB(t)==uB}var dB=cB,w1=dB,hB=Pi,bP=Object.prototype,fB=bP.hasOwnProperty,pB=bP.propertyIsEnumerable,mB=w1(function(){return arguments}())?w1:function(t){return hB(t)&&fB.call(t,"callee")&&!pB.call(t,"callee")},Ay=mB,jd={exports:{}};function gB(){return!1}var vB=gB;jd.exports;(function(t,e){var n=or,r=vB,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(jd,jd.exports);var Hh=jd.exports,yB=Go,_B=ay,wB=Pi,EB="[object Arguments]",TB="[object Array]",SB="[object Boolean]",IB="[object Date]",bB="[object Error]",AB="[object Function]",CB="[object Map]",PB="[object Number]",RB="[object Object]",kB="[object RegExp]",DB="[object Set]",OB="[object String]",xB="[object WeakMap]",NB="[object ArrayBuffer]",MB="[object DataView]",LB="[object Float32Array]",$B="[object Float64Array]",VB="[object Int8Array]",FB="[object Int16Array]",UB="[object Int32Array]",jB="[object Uint8Array]",zB="[object Uint8ClampedArray]",BB="[object Uint16Array]",HB="[object Uint32Array]",Ae={};Ae[LB]=Ae[$B]=Ae[VB]=Ae[FB]=Ae[UB]=Ae[jB]=Ae[zB]=Ae[BB]=Ae[HB]=!0;Ae[EB]=Ae[TB]=Ae[NB]=Ae[SB]=Ae[MB]=Ae[IB]=Ae[bB]=Ae[AB]=Ae[CB]=Ae[PB]=Ae[RB]=Ae[kB]=Ae[DB]=Ae[OB]=Ae[xB]=!1;function WB(t){return wB(t)&&_B(t.length)&&!!Ae[yB(t)]}var GB=WB;function qB(t){return function(e){return t(e)}}var Wh=qB,zd={exports:{}};zd.exports;(function(t,e){var n=rP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(zd,zd.exports);var Cy=zd.exports,KB=GB,YB=Wh,E1=Cy,T1=E1&&E1.isTypedArray,QB=T1?YB(T1):KB,Py=QB,XB=oB,JB=Ay,ZB=Sn,e5=Hh,t5=ly,n5=Py,r5=Object.prototype,i5=r5.hasOwnProperty;function s5(t,e){var n=ZB(t),r=!n&&JB(t),i=!n&&!r&&e5(t),s=!n&&!r&&!i&&n5(t),o=n||r||i||s,a=o?XB(t.length,String):[],l=a.length;for(var c in t)(e||i5.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||t5(c,l)))&&a.push(c);return a}var AP=s5,o5=Object.prototype;function a5(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||o5;return t===n}var Ry=a5;function l5(t,e){return function(n){return t(e(n))}}var CP=l5,u5=CP,c5=u5(Object.keys,Object),d5=c5,h5=Ry,f5=d5,p5=Object.prototype,m5=p5.hasOwnProperty;function g5(t){if(!h5(t))return f5(t);var e=[];for(var n in Object(t))m5.call(t,n)&&n!="constructor"&&e.push(n);return e}var v5=g5,y5=AP,_5=v5,w5=pu;function E5(t){return w5(t)?y5(t):_5(t)}var _u=E5,T5=SP,S5=by,I5=_u;function b5(t){return T5(t,I5,S5)}var PP=b5,S1=PP,A5=1,C5=Object.prototype,P5=C5.hasOwnProperty;function R5(t,e,n,r,i,s){var o=n&A5,a=S1(t),l=a.length,c=S1(e),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:P5.call(e,h)))return!1}var g=s.get(t),w=s.get(e);if(g&&w)return g==e&&w==t;var v=!0;s.set(t,e),s.set(e,t);for(var b=o;++f<l;){h=a[f];var E=t[h],y=e[h];if(r)var I=o?r(y,E,h,e,t,s):r(E,y,h,t,e,s);if(!(I===void 0?E===y||i(E,y,n,r,s):I)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var R=t.constructor,O=e.constructor;R!=O&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof O=="function"&&O instanceof O)&&(v=!1)}return s.delete(t),s.delete(e),v}var k5=R5,D5=Ss,O5=or,x5=D5(O5,"DataView"),N5=x5,M5=Ss,L5=or,$5=M5(L5,"Promise"),V5=$5,F5=Ss,U5=or,j5=F5(U5,"Set"),z5=j5,B5=Ss,H5=or,W5=B5(H5,"WeakMap"),G5=W5,Km=N5,Ym=Ey,Qm=V5,Xm=z5,Jm=G5,RP=Go,Xo=wP,I1="[object Map]",q5="[object Object]",b1="[object Promise]",A1="[object Set]",C1="[object WeakMap]",P1="[object DataView]",K5=Xo(Km),Y5=Xo(Ym),Q5=Xo(Qm),X5=Xo(Xm),J5=Xo(Jm),Vi=RP;(Km&&Vi(new Km(new ArrayBuffer(1)))!=P1||Ym&&Vi(new Ym)!=I1||Qm&&Vi(Qm.resolve())!=b1||Xm&&Vi(new Xm)!=A1||Jm&&Vi(new Jm)!=C1)&&(Vi=function(t){var e=RP(t),n=e==q5?t.constructor:void 0,r=n?Xo(n):"";if(r)switch(r){case K5:return P1;case Y5:return I1;case Q5:return b1;case X5:return A1;case J5:return C1}return e});var Gh=Vi,fp=Sy,Z5=EP,eH=Wz,tH=k5,R1=Gh,k1=Sn,D1=Hh,nH=Py,rH=1,O1="[object Arguments]",x1="[object Array]",pc="[object Object]",iH=Object.prototype,N1=iH.hasOwnProperty;function sH(t,e,n,r,i,s){var o=k1(t),a=k1(e),l=o?x1:R1(t),c=a?x1:R1(e);l=l==O1?pc:l,c=c==O1?pc:c;var d=l==pc,f=c==pc,h=l==c;if(h&&D1(t)){if(!D1(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new fp),o||nH(t)?Z5(t,e,n,r,i,s):eH(t,e,l,n,r,i,s);if(!(n&rH)){var g=d&&N1.call(t,"__wrapped__"),w=f&&N1.call(e,"__wrapped__");if(g||w){var v=g?t.value():t,b=w?e.value():e;return s||(s=new fp),i(v,b,n,r,s)}}return h?(s||(s=new fp),tH(t,e,n,r,i,s)):!1}var oH=sH,aH=oH,M1=Pi;function kP(t,e,n,r,i){return t===e?!0:t==null||e==null||!M1(t)&&!M1(e)?t!==t&&e!==e:aH(t,e,n,r,kP,i)}var ky=kP,lH=ky;function uH(t,e){return lH(t,e)}var cH=uH;const dH=Jt(cH);function pp(t,e){var n=uy(t);return n?n.innerHeight:e?t.clientHeight:Qi(t).height}function DP(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(aU(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function hH(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var fH=hH,pH=Sy,mH=ky,gH=1,vH=2;function yH(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],d=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new pH;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?mH(d,c,gH|vH,r,f):h))return!1}}return!0}var _H=yH,wH=Dr;function EH(t){return t===t&&!wH(t)}var OP=EH,TH=OP,SH=_u;function IH(t){for(var e=SH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,TH(i)]}return e}var bH=IH;function AH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var xP=AH,CH=_H,PH=bH,RH=xP;function kH(t){var e=PH(t);return e.length==1&&e[0][2]?RH(e[0][0],e[0][1]):function(n){return n===t||CH(n,t,e)}}var DH=kH,OH=Sn,xH=mu,NH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,MH=/^\w*$/;function LH(t,e){if(OH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xH(t)?!0:MH.test(t)||!NH.test(t)||e!=null&&t in Object(e)}var Dy=LH,NP=Ty,$H="Expected a function";function Oy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($H);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Oy.Cache||NP),n}Oy.Cache=NP;var VH=Oy,FH=VH,UH=500;function jH(t){var e=FH(t,function(r){return n.size===UH&&n.clear(),r}),n=e.cache;return e}var zH=jH,BH=zH,HH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WH=/\\(\\)?/g,GH=BH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HH,function(n,r,i,s){e.push(i?s.replace(WH,"$1"):r||n)}),e}),qH=GH;function KH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var xy=KH,L1=Wo,YH=xy,QH=Sn,XH=mu,JH=1/0,$1=L1?L1.prototype:void 0,V1=$1?$1.toString:void 0;function MP(t){if(typeof t=="string")return t;if(QH(t))return YH(t,MP)+"";if(XH(t))return V1?V1.call(t):"";var e=t+"";return e=="0"&&1/t==-JH?"-0":e}var ZH=MP,eW=ZH;function tW(t){return t==null?"":eW(t)}var nW=tW,rW=Sn,iW=Dy,sW=qH,oW=nW;function aW(t,e){return rW(t)?t:iW(t,e)?[t]:sW(oW(t))}var qh=aW,lW=mu,uW=1/0;function cW(t){if(typeof t=="string"||lW(t))return t;var e=t+"";return e=="0"&&1/t==-uW?"-0":e}var wu=cW,dW=qh,hW=wu;function fW(t,e){e=dW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[hW(e[n++])];return n&&n==r?t:void 0}var Kh=fW,pW=Kh;function mW(t,e,n){var r=t==null?void 0:pW(t,e);return r===void 0?n:r}var gW=mW;function vW(t,e){return t!=null&&e in Object(t)}var yW=vW,_W=qh,wW=Ay,EW=Sn,TW=ly,SW=ay,IW=wu;function bW(t,e,n){e=_W(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=IW(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&SW(i)&&TW(o,i)&&(EW(t)||wW(t)))}var AW=bW,CW=yW,PW=AW;function RW(t,e){return t!=null&&PW(t,e,CW)}var kW=RW,DW=ky,OW=gW,xW=kW,NW=Dy,MW=OP,LW=xP,$W=wu,VW=1,FW=2;function UW(t,e){return NW(t)&&MW(e)?LW($W(t),e):function(n){var r=OW(n,t);return r===void 0&&r===e?xW(n,t):DW(e,r,VW|FW)}}var jW=UW;function zW(t){return t}var Yh=zW;function BW(t){return function(e){return e==null?void 0:e[t]}}var HW=BW,WW=Kh;function GW(t){return function(e){return WW(e,t)}}var qW=GW,KW=HW,YW=qW,QW=Dy,XW=wu;function JW(t){return QW(t)?KW(XW(t)):YW(t)}var ZW=JW,eG=DH,tG=jW,nG=Yh,rG=Sn,iG=ZW;function sG(t){return typeof t=="function"?t:t==null?nG:typeof t=="object"?rG(t)?tG(t[0],t[1]):eG(t):iG(t)}var Qh=sG,oG=fH,aG=Qh,lG=oP,uG=Math.max;function cG(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:lG(n);return i<0&&(i=uG(r+i,0)),oG(t,aG(e),i)}var dG=cG;const hG=Jt(dG);var fG=Math.ceil,pG=Math.max;function mG(t,e,n,r){for(var i=-1,s=pG(fG((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var gG=mG,vG=gG,yG=Vh,mp=sP;function _G(t){return function(e,n,r){return r&&typeof r!="number"&&yG(e,n,r)&&(n=r=void 0),e=mp(e),n===void 0?(n=e,e=0):n=mp(n),r=r===void 0?e<n?1:-1:mp(r),vG(e,n,r,t)}}var wG=_G,EG=wG,TG=EG(),SG=TG;const IG=Jt(SG);var F1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function bG(t,e){return!!(t===e||F1(t)&&F1(e))}function AG(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!bG(t[n],e[n]))return!1;return!0}function LP(t,e){e===void 0&&(e=AG);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}function Zm(t,e){var n=uy(t);return n?n.innerWidth:e?t.clientWidth:Qi(t).width}var U1=Wo,CG=Ay,PG=Sn,j1=U1?U1.isConcatSpreadable:void 0;function RG(t){return PG(t)||CG(t)||!!(j1&&t&&t[j1])}var kG=RG,DG=Iy,OG=kG;function $P(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=OG),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?$P(a,e-1,n,r,i):DG(i,a):r||(i[i.length]=a)}return i}var VP=$P;function xG(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var NG=xG,MG=NG,LG=MG(),$G=LG,VG=$G,FG=_u;function UG(t,e){return t&&VG(t,e,FG)}var Ny=UG,jG=pu;function zG(t,e){return function(n,r){if(n==null)return n;if(!jG(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var BG=zG,HG=Ny,WG=BG,GG=WG(HG),qG=GG,KG=qG,YG=pu;function QG(t,e){var n=-1,r=YG(t)?Array(t.length):[];return KG(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var XG=QG;function JG(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ZG=JG,z1=mu;function eq(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=z1(t),o=e!==void 0,a=e===null,l=e===e,c=z1(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var tq=eq,nq=tq;function rq(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=nq(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var iq=rq,gp=xy,sq=Kh,oq=Qh,aq=XG,lq=ZG,uq=Wh,cq=iq,dq=Yh,hq=Sn;function fq(t,e,n){e.length?e=gp(e,function(s){return hq(s)?function(o){return sq(o,s.length===1?s[0]:s)}:s}):e=[dq];var r=-1;e=gp(e,uq(oq));var i=aq(t,function(s,o,a){var l=gp(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return lq(i,function(s,o){return cq(s,o,n)})}var pq=fq;function mq(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var gq=mq,vq=gq,B1=Math.max;function yq(t,e,n){return e=B1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=B1(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),vq(t,this,a)}}var FP=yq;function _q(t){return function(){return t}}var wq=_q,Eq=Ss,Tq=function(){try{var t=Eq(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UP=Tq,Sq=wq,H1=UP,Iq=Yh,bq=H1?function(t,e){return H1(t,"toString",{configurable:!0,enumerable:!1,value:Sq(e),writable:!0})}:Iq,Aq=bq,Cq=800,Pq=16,Rq=Date.now;function kq(t){var e=0,n=0;return function(){var r=Rq(),i=Pq-(r-n);if(n=r,i>0){if(++e>=Cq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Dq=kq,Oq=Aq,xq=Dq,Nq=xq(Oq),jP=Nq,Mq=Yh,Lq=FP,$q=jP;function Vq(t,e){return $q(Lq(t,e,Mq),t+"")}var zP=Vq,Fq=VP,Uq=pq,jq=zP,W1=Vh,zq=jq(function(t,e){if(t==null)return[];var n=e.length;return n>1&&W1(t,e[0],e[1])?e=[]:n>2&&W1(e[0],e[1],e[2])&&(e=[e[0]]),Uq(t,Fq(e,1),[])}),Bq=zq;const Hq=Jt(Bq);function BP(t){return jC(t)||tP(t)||ry(t)||zC()}function Wq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Gq=Wq,qq=Dr,Kq=Ry,Yq=Gq,Qq=Object.prototype,Xq=Qq.hasOwnProperty;function Jq(t){if(!qq(t))return Yq(t);var e=Kq(t),n=[];for(var r in t)r=="constructor"&&(e||!Xq.call(t,r))||n.push(r);return n}var Zq=Jq,e7=AP,t7=Zq,n7=pu;function r7(t){return n7(t)?e7(t,!0):t7(t)}var Xh=r7,i7=zP,s7=fu,o7=Vh,a7=Xh,HP=Object.prototype,l7=HP.hasOwnProperty,u7=i7(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&o7(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=a7(s),a=-1,l=o.length;++a<l;){var c=o[a],d=t[c];(d===void 0||s7(d,HP[c])&&!l7.call(t,c))&&(t[c]=s[c])}return t}),c7=u7;const d7=Jt(c7);var G1=UP;function h7(t,e,n){e=="__proto__"&&G1?G1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var My=h7,f7=My,p7=Ny,m7=Qh;function g7(t,e){var n={};return e=m7(e),p7(t,function(r,i,s){f7(n,i,e(r,i,s))}),n}var v7=g7;const y7=Jt(v7);function _7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var WP=_7,w7=My,E7=fu,T7=Object.prototype,S7=T7.hasOwnProperty;function I7(t,e,n){var r=t[e];(!(S7.call(t,e)&&E7(r,n))||n===void 0&&!(e in t))&&w7(t,e,n)}var GP=I7,b7=GP,A7=My;function C7(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?A7(n,a,l):b7(n,a,l)}return n}var Eu=C7,P7=Eu,R7=_u;function k7(t,e){return t&&P7(e,R7(e),t)}var D7=k7,O7=Eu,x7=Xh;function N7(t,e){return t&&O7(e,x7(e),t)}var M7=N7,Bd={exports:{}};Bd.exports;(function(t,e){var n=or,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(Bd,Bd.exports);var L7=Bd.exports;function $7(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var V7=$7,F7=Eu,U7=by;function j7(t,e){return F7(t,U7(t),e)}var z7=j7,B7=CP,H7=B7(Object.getPrototypeOf,Object),Jh=H7,W7=Iy,G7=Jh,q7=by,K7=IP,Y7=Object.getOwnPropertySymbols,Q7=Y7?function(t){for(var e=[];t;)W7(e,q7(t)),t=G7(t);return e}:K7,qP=Q7,X7=Eu,J7=qP;function Z7(t,e){return X7(t,J7(t),e)}var e8=Z7,t8=SP,n8=qP,r8=Xh;function i8(t){return t8(t,r8,n8)}var KP=i8,s8=Object.prototype,o8=s8.hasOwnProperty;function a8(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&o8.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var l8=a8,q1=TP;function u8(t){var e=new t.constructor(t.byteLength);return new q1(e).set(new q1(t)),e}var Ly=u8,c8=Ly;function d8(t,e){var n=e?c8(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var h8=d8,f8=/\w*$/;function p8(t){var e=new t.constructor(t.source,f8.exec(t));return e.lastIndex=t.lastIndex,e}var m8=p8,K1=Wo,Y1=K1?K1.prototype:void 0,Q1=Y1?Y1.valueOf:void 0;function g8(t){return Q1?Object(Q1.call(t)):{}}var v8=g8,y8=Ly;function _8(t,e){var n=e?y8(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var w8=_8,E8=Ly,T8=h8,S8=m8,I8=v8,b8=w8,A8="[object Boolean]",C8="[object Date]",P8="[object Map]",R8="[object Number]",k8="[object RegExp]",D8="[object Set]",O8="[object String]",x8="[object Symbol]",N8="[object ArrayBuffer]",M8="[object DataView]",L8="[object Float32Array]",$8="[object Float64Array]",V8="[object Int8Array]",F8="[object Int16Array]",U8="[object Int32Array]",j8="[object Uint8Array]",z8="[object Uint8ClampedArray]",B8="[object Uint16Array]",H8="[object Uint32Array]";function W8(t,e,n){var r=t.constructor;switch(e){case N8:return E8(t);case A8:case C8:return new r(+t);case M8:return T8(t,n);case L8:case $8:case V8:case F8:case U8:case j8:case z8:case B8:case H8:return b8(t,n);case P8:return new r;case R8:case O8:return new r(t);case k8:return S8(t);case D8:return new r;case x8:return I8(t)}}var G8=W8,q8=Dr,X1=Object.create,K8=function(){function t(){}return function(e){if(!q8(e))return{};if(X1)return X1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),YP=K8,Y8=YP,Q8=Jh,X8=Ry;function J8(t){return typeof t.constructor=="function"&&!X8(t)?Y8(Q8(t)):{}}var Z8=J8,eK=Gh,tK=Pi,nK="[object Map]";function rK(t){return tK(t)&&eK(t)==nK}var iK=rK,sK=iK,oK=Wh,J1=Cy,Z1=J1&&J1.isMap,aK=Z1?oK(Z1):sK,lK=aK,uK=Gh,cK=Pi,dK="[object Set]";function hK(t){return cK(t)&&uK(t)==dK}var fK=hK,pK=fK,mK=Wh,eT=Cy,tT=eT&&eT.isSet,gK=tT?mK(tT):pK,vK=gK,yK=Sy,_K=WP,wK=GP,EK=D7,TK=M7,SK=L7,IK=V7,bK=z7,AK=e8,CK=PP,PK=KP,RK=Gh,kK=l8,DK=G8,OK=Z8,xK=Sn,NK=Hh,MK=lK,LK=Dr,$K=vK,VK=_u,FK=Xh,UK=1,jK=2,zK=4,QP="[object Arguments]",BK="[object Array]",HK="[object Boolean]",WK="[object Date]",GK="[object Error]",XP="[object Function]",qK="[object GeneratorFunction]",KK="[object Map]",YK="[object Number]",JP="[object Object]",QK="[object RegExp]",XK="[object Set]",JK="[object String]",ZK="[object Symbol]",eY="[object WeakMap]",tY="[object ArrayBuffer]",nY="[object DataView]",rY="[object Float32Array]",iY="[object Float64Array]",sY="[object Int8Array]",oY="[object Int16Array]",aY="[object Int32Array]",lY="[object Uint8Array]",uY="[object Uint8ClampedArray]",cY="[object Uint16Array]",dY="[object Uint32Array]",Te={};Te[QP]=Te[BK]=Te[tY]=Te[nY]=Te[HK]=Te[WK]=Te[rY]=Te[iY]=Te[sY]=Te[oY]=Te[aY]=Te[KK]=Te[YK]=Te[JP]=Te[QK]=Te[XK]=Te[JK]=Te[ZK]=Te[lY]=Te[uY]=Te[cY]=Te[dY]=!0;Te[GK]=Te[XP]=Te[eY]=!1;function jc(t,e,n,r,i,s){var o,a=e&UK,l=e&jK,c=e&zK;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!LK(t))return t;var d=xK(t);if(d){if(o=kK(t),!a)return IK(t,o)}else{var f=RK(t),h=f==XP||f==qK;if(NK(t))return SK(t,a);if(f==JP||f==QP||h&&!i){if(o=l||h?{}:OK(t),!a)return l?AK(t,TK(o,t)):bK(t,EK(o,t))}else{if(!Te[f])return i?t:{};o=DK(t,f,a)}}s||(s=new yK);var g=s.get(t);if(g)return g;s.set(t,o),$K(t)?t.forEach(function(b){o.add(jc(b,e,n,b,t,s))}):MK(t)&&t.forEach(function(b,E){o.set(E,jc(b,e,n,E,t,s))});var w=c?l?PK:CK:l?FK:VK,v=d?void 0:w(t);return _K(v||t,function(b,E){v&&(E=b,b=t[E]),wK(o,E,jc(b,e,n,E,t,s))}),o}var hY=jc;function fY(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var pY=fY,mY=Kh,gY=nP;function vY(t,e){return e.length<2?t:mY(t,gY(e,0,-1))}var yY=vY,_Y=qh,wY=pY,EY=yY,TY=wu;function SY(t,e){return e=_Y(e,t),t=EY(t,e),t==null||delete t[TY(wY(e))]}var IY=SY,bY=Go,AY=Jh,CY=Pi,PY="[object Object]",RY=Function.prototype,kY=Object.prototype,ZP=RY.toString,DY=kY.hasOwnProperty,OY=ZP.call(Object);function xY(t){if(!CY(t)||bY(t)!=PY)return!1;var e=AY(t);if(e===null)return!0;var n=DY.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZP.call(n)==OY}var NY=xY,MY=NY;function LY(t){return MY(t)?void 0:t}var $Y=LY,VY=VP;function FY(t){var e=t==null?0:t.length;return e?VY(t,1):[]}var UY=FY,jY=UY,zY=FP,BY=jP;function HY(t){return BY(zY(t,void 0,jY),t+"")}var WY=HY,GY=xy,qY=hY,KY=IY,YY=qh,QY=Eu,XY=$Y,JY=WY,ZY=KP,eQ=1,tQ=2,nQ=4,rQ=JY(function(t,e){var n={};if(t==null)return n;var r=!1;e=GY(e,function(s){return s=YY(s,t),r||(r=s.length>1),s}),QY(t,ZY(t),n),r&&(n=qY(n,eQ|tQ|nQ,XY));for(var i=e.length;i--;)KY(n,e[i]);return n}),iQ=rQ;const sQ=Jt(iQ);var oQ=WP,aQ=YP,lQ=Ny,uQ=Qh,cQ=Jh,dQ=Sn,hQ=Hh,fQ=oy,pQ=Dr,mQ=Py;function gQ(t,e,n){var r=dQ(t),i=r||hQ(t)||mQ(t);if(e=uQ(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:pQ(t)?n=fQ(s)?aQ(cQ(t)):{}:n={}}return(i?oQ:lQ)(t,function(o,a,l){return e(n,o,a,l)}),n}var vQ=gQ;const yQ=Jt(vQ);var _Q={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var c=i(s),d=i(o),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,a):!this.isBefore(c,a))&&(h?this.isBefore(d,a):!this.isAfter(d,a))||(f?this.isBefore(c,a):!this.isAfter(c,a))&&(h?this.isAfter(d,a):!this.isBefore(d,a))}}})})(_Q);var wQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(wQ);var EQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(EQ);var TQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){return function(n,r,i){var s=r.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,h,g,w,v){var b=f.name?f:f.$locale(),E=o(b[h]),y=o(b[g]),I=E||y.map(function(O){return O.slice(0,w)});if(!v)return I;var R=b.weekStart;return I.map(function(O,x){return I[(x+(R||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(f,h){return f.formats[h]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,v,b){return v||b.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):a(f,"months")},monthsShort:function(h){return h?h.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(f){return a(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return a(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return a(l(),"weekdaysMin","weekdays",2,f)}}})})(TQ);var SQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,w,v){var b=v&&v.toUpperCase();return w||h[v]||n[v]||h[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,y,I){return y||I.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,d)}}})})(SQ);var IQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(d){return d}))[0];for(var c=1;c<a.length;c+=1)a[c].isValid()&&!a[c][o](l)||(l=a[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(IQ);var bQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(kn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(v){var b={date:v,utc:!0,args:arguments};return new o(b)},l.utc=function(v){var b=a(this.toDate(),{locale:this.$L,utc:!0});return v?b.add(this.utcOffset(),n):b},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),c.call(this,v)};var d=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(v,b){var E=this.$utils().u;if(E(v))return this.$u?0:E(this.$offset)?f.call(this):this.$offset;if(typeof v=="string"&&(v=function(O){O===void 0&&(O="");var x=O.match(r);if(!x)return null;var T=(""+x[0]).match(i)||["-",0,0],_=T[0],S=60*+T[1]+ +T[2];return S===0?0:_==="+"?S:-S}(v),v===null))return this;var y=Math.abs(v)<=16?60*v:v,I=this;if(b)return I.$offset=y,I.$u=v===0,I;if(v!==0){var R=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(y+R,n)).$offset=y,I.$x.$localOffset=R}else I=this.utc();return I};var h=l.format;l.format=function(v){var b=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,b)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=l.diff;l.diff=function(v,b,E){if(v&&this.$u===v.$u)return w.call(this,v,b,E);var y=this.local(),I=a(v).local();return w.call(y,I,b,E)}}})})(bQ);function hr(t){return t.children}var Xt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Mt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},nT=Object.keys(Mt).map(function(t){return Mt[t]});U.oneOfType([U.string,U.func]);U.any;U.func;U.oneOfType([U.arrayOf(U.oneOf(nT)),U.objectOf(function(t,e){var n=nT.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return U.elementType.apply(U,[t,e].concat(i))})]);U.oneOfType([U.oneOf(["overlap","no-overlap"]),U.func]);var rT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function eR(t,e){var n=gt(t,"month");return gt(n,"week",e.startOfWeek())}function tR(t,e){var n=$d(t,"month");return $d(n,"week",e.startOfWeek())}function AQ(t,e){for(var n=eR(t,e),r=tR(t,e),i=[];Bo(n,r,"day");)i.push(n),n=Vn(n,1,"day");return i}function CQ(t,e){var n=gt(t,e);return zo(n,t)?n:Vn(n,1,e)}function PQ(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];Bo(r,e,n);)i.push(r),r=Vn(r,1,n);return i}function RQ(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=gt(t,"day"),t=Hl(t,Hl(e)),t=Ao(t,Ao(e)),t=Bl(t,Bl(e)),zl(t,zl(e)))}function iT(t){return Hl(t)===0&&Ao(t)===0&&Bl(t)===0&&zl(t)===0}function kQ(t,e,n,r){return n==="day"&&(n="date"),Math.abs(UE[n](t,void 0,r)-UE[n](e,void 0,r))}function $y(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+gt(t,n)/rT[n]-+gt(e,n)/rT[n]))}var DQ=U.oneOfType([U.string,U.func]);function OQ(t,e,n,r,i){var s=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return Ll(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function xQ(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function Vy(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function NQ(t,e){return $y(t,e,"minutes")+Vy(t,e)}function MQ(t){var e=gt(t,"day");return $y(e,t,"minutes")+Vy(e,t)}function LQ(t,e){return sy(t,e,"day")}function $Q(t,e,n){var r=zo(t,e,"minutes");return r?hu(e,n,"minutes"):$h(e,n,"minutes")}function eg(t,e){return kQ(t,e,"day")}function VQ(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,c=+gt(n,"day")-+gt(o,"day"),d=eg(n,r),f=eg(o,a);return c||f-d||!!l-!!i||+n-+o||+r-+a}function FQ(t){var e=t.event,n=e.start,r=e.end,i=t.range,s=i.start,o=i.end,a=gt(n,"day"),l=Bo(a,o,"day"),c=iy(a,r,"minutes"),d=c?$h(r,s,"minutes"):hu(r,s,"minutes");return l&&d}function UQ(t,e){return zo(t,e,"day")}function jQ(t,e){return iT(t)&&iT(e)}var zQ=nt(function t(e){var n=this;tt(this,t),Ll(typeof e.format=="function","date localizer `format(..)` must be a function"),Ll(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||DQ,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return OQ.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||RQ,this.inRange=e.inRange||XC,this.lt=e.lt||sy,this.lte=e.lte||Bo,this.gt=e.gt||$h,this.gte=e.gte||hu,this.eq=e.eq||zo,this.neq=e.neq||iy,this.startOf=e.startOf||gt,this.endOf=e.endOf||$d,this.add=e.add||Vn,this.range=e.range||PQ,this.diff=e.diff||$y,this.ceil=e.ceil||CQ,this.min=e.min||YC,this.max=e.max||QC,this.minutes=e.minutes||Ao,this.daySpan=e.daySpan||eg,this.firstVisibleDay=e.firstVisibleDay||eR,this.lastVisibleDay=e.lastVisibleDay||tR,this.visibleDays=e.visibleDays||AQ,this.getSlotDate=e.getSlotDate||xQ,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Vy,this.getTotalMin=e.getTotalMin||NQ,this.getMinutesFromMidnight=e.getMinutesFromMidnight||MQ,this.continuesPrior=e.continuesPrior||LQ,this.continuesAfter=e.continuesAfter||$Q,this.sortEvents=e.sortEvents||VQ,this.inEventRange=e.inEventRange||FQ,this.isSameDate=e.isSameDate||UQ,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||jQ,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function BQ(t,e,n,r){var i=Ee(Ee({},t.formats),n);return Ee(Ee({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,i[a]||a,e)}})}var HQ=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return N.createElement("div",{className:"rbc-toolbar"},N.createElement("span",{className:"rbc-btn-group"},N.createElement("button",{type:"button",onClick:this.navigate.bind(null,Xt.TODAY)},i.today),N.createElement("button",{type:"button",onClick:this.navigate.bind(null,Xt.PREVIOUS)},i.previous),N.createElement("button",{type:"button",onClick:this.navigate.bind(null,Xt.NEXT)},i.next)),N.createElement("span",{className:"rbc-toolbar-label"},s),N.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return N.createElement("button",{type:"button",key:a,className:Fe({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])}(N.Component);function Ce(t,e){t&&t.apply(null,[].concat(e))}var WQ={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function GQ(t){return Ee(Ee({},WQ),t)}function qQ(t){var e=t.ref,n=t.callback;B.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var KQ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],nR=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,c=r.onSelect,d=r.onDoubleClick,f=r.onKeyPress,h=r.localizer,g=r.continuesPrior,w=r.continuesAfter,v=r.accessors,b=r.getters,E=r.children,y=r.components,I=y.event,R=y.eventWrapper,O=r.slotStart,x=r.slotEnd,T=sr(r,KQ);delete T.resizable;var _=v.title(o),S=v.tooltip(o),C=v.end(o),k=v.start(o),D=v.allDay(o),P=l||D||h.diff(k,h.ceil(C,"day"),"day")>1,Q=b.eventProp(o,k,C,a),oe=N.createElement("div",{className:"rbc-event-content",title:S||void 0},I?N.createElement(I,{event:o,continuesPrior:g,continuesAfter:w,title:_,isAllDay:D,localizer:h,slotStart:O,slotEnd:x}):_);return N.createElement(R,Object.assign({},this.props,{type:"date"}),N.createElement("div",Object.assign({},T,{style:Ee(Ee({},Q.style),i),className:Fe("rbc-event",s,Q.className,{"rbc-selected":a,"rbc-event-allday":P,"rbc-event-continues-prior":g,"rbc-event-continues-after":w}),onClick:function(ie){return c&&c(o,ie)},onDoubleClick:function(ie){return d&&d(o,ie)},onKeyDown:function(ie){return f&&f(o,ie)}}),typeof E=="function"?E(oe):oe))}}])}(N.Component);function Zh(t,e){return!t||e==null?!1:dH(t,e)}function rR(t,e){var n=t.right-t.left,r=n/e;return r}function iR(t,e,n,r){var i=rR(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function YQ(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function QQ(t,e,n,r,i){var s=-1,o=-1,a=r-1,l=rR(e,r),c=iR(e,n.x,i,r),d=e.top<n.y&&e.bottom>n.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,g=e.top>t.y,w=n.top<e.top&&n.bottom>e.bottom;return w&&(s=0,o=a),d&&(g?(s=0,o=c):h&&(s=c,o=a)),f&&(s=o=i?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),d?c<s?s=c:o=c:t.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function XQ(t){var e=t.target,n=t.offset,r=t.container,i=t.box,s=Qi(e),o=s.top,a=s.left,l=s.width,c=s.height,d=Qi(r),f=d.top,h=d.left,g=d.width,w=d.height,v=Qi(i),b=v.width,E=v.height,y=f+w,I=h+g,R=o+E,O=a+b,x=n.x,T=n.y,_=R>y?o-E-T:o+T+c,S=O>I?a+x-b+l:a+x;return{topOffset:_,leftOffset:S}}function JQ(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,c=t.events,d=t.slotStart,f=t.slotEnd,h=t.onSelect,g=t.onDoubleClick,w=t.onKeyPress,v=t.handleDragStart,b=t.popperRef,E=t.target,y=t.offset;qQ({ref:b,callback:l}),B.useLayoutEffect(function(){var O=XQ({target:E,offset:y,container:e.current,box:b.current}),x=O.topOffset,T=O.leftOffset;b.current.style.top="".concat(x,"px"),b.current.style.left="".concat(T,"px")},[y.x,y.y,E]);var I=a.width,R={minWidth:I+I/2};return N.createElement("div",{style:R,className:"rbc-overlay",ref:b},N.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),c.map(function(O,x){return N.createElement(nR,{key:x,type:"popup",localizer:o,event:O,getters:r,onSelect:h,accessors:n,components:s,onDoubleClick:g,onKeyPress:w,continuesPrior:o.lt(n.end(O),d,"day"),continuesAfter:o.gte(n.start(O),f,"day"),slotStart:d,slotEnd:f,selected:Zh(O,i),draggable:!0,onDragStart:function(){return v(O)},onDragEnd:function(){return l()}})}))}var sR=N.forwardRef(function(t,e){return N.createElement(JQ,Object.assign({},t,{popperRef:e}))});sR.propTypes={accessors:U.object.isRequired,getters:U.object.isRequired,selected:U.object,components:U.object.isRequired,localizer:U.object.isRequired,position:U.object.isRequired,show:U.func.isRequired,events:U.array.isRequired,slotStart:U.instanceOf(Date).isRequired,slotEnd:U.instanceOf(Date),onSelect:U.func,onDoubleClick:U.func,onKeyPress:U.func,handleDragStart:U.func,style:U.object,offset:U.shape({x:U.number,y:U.number})};function ZQ(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,c=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,g=t.handleDragStart,w=t.onHide,v=t.overlayDisplay,b=B.useRef(null);if(!i.position)return null;var E=r;isNaN(r)||(E={x:r,y:r});var y=i.position,I=i.events,R=i.date,O=i.end;return N.createElement(Vj,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(x){var T=x.props;return N.createElement(sR,Object.assign({},T,{containerRef:e,ref:b,target:i.target,offset:E,accessors:s,getters:l,selected:c,components:a,localizer:o,position:y,show:v,events:I,slotStart:R,slotEnd:O,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:g}))})}var Fy=N.forwardRef(function(t,e){return N.createElement(ZQ,Object.assign({},t,{containerRef:e}))});Fy.propTypes={popupOffset:U.oneOfType([U.number,U.shape({x:U.number,y:U.number})]),overlay:U.shape({position:U.object,events:U.array,date:U.instanceOf(Date),end:U.instanceOf(Date)}),accessors:U.object.isRequired,localizer:U.object.isRequired,components:U.object.isRequired,getters:U.object.isRequired,selected:U.object,handleSelectEvent:U.func,handleDoubleClickEvent:U.func,handleKeyPressEvent:U.func,handleDragStart:U.func,onHide:U.func,overlayDisplay:U.func};function St(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return za(n,t,e,{passive:!1})}function eX(t,e,n){return!t||Wl(t,document.elementFromPoint(e,n))}function tX(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return DP(i,".rbc-event",t)}function nX(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return DP(i,".rbc-show-more",t)}function Hd(t,e){return!!tX(t,e)}function rX(t,e){return!!nX(t,e)}function Da(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var sT=5,iX=250,oR=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;tt(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=St("touchmove",function(){},window),this._removeKeyDownListener=St("keydown",this._keyListener),this._removeKeyUpListener=St("keyup",this._keyListener),this._removeDropFromOutsideListener=St("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=St("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return nt(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:oT(r,gs(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){d(),n(h)},i.longPressThreshold),o=St("touchmove",function(){return d()}),a=St("touchend",function(){return d()})},c=St("touchstart",l),d=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){d(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=St("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=St("mousedown",n._handleInitialEvent)}),i=St("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Da(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Da(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Da(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),c,d;if(!(n.which===3||n.button===2||!eX(l,i,s))){if(!this.globalMouse&&l&&!Wl(l,n.target)){var f=sX(0),h=f.top,g=f.left,w=f.bottom,v=f.right;if(d=gs(l),c=oT({top:d.top-h,left:d.left-g,bottom:d.bottom+w,right:d.right+v},{top:a,left:o}),!c)return}var b=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(b!==!1)switch(n.type){case"mousedown":this._removeEndListener=St("mouseup",this._handleTerminatingEvent),this._onEscListener=St("keydown",this._handleTerminatingEvent),this._removeMoveListener=St("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=St("touchend",this._handleTerminatingEvent),this._removeMoveListener=St("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var s=!this.container||Wl(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Da(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<iX?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Da(n),a=o.pageX,l=o.pageY,c=Math.abs(i-a),d=Math.abs(s-l),f=Math.min(a,i),h=Math.min(l,s),g=this.selecting,w=this.isClick(a,l);w&&!g&&!(c||d)||(!g&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:h,left:f,x:a,y:l,right:f+c,bottom:h+d},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=sT&&Math.abs(r-o)<=sT}}])}();function sX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Cr(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function oT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=gs(t),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,c=l===void 0?i:l,d=gs(e),f=d.top,h=d.left,g=d.right,w=g===void 0?h:g,v=d.bottom,b=v===void 0?f:v;return!(c-n<f||i+n>b||a-n<h||s+n>w)}function gs(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+aT("left"),r=e.top+aT("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function aT(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var oX=function(t){function e(n,r){var i;return tt(this,e),i=Rt(this,e,[n,r]),i.state={selecting:!1},i.containerRef=B.createRef(),i}return kt(e,t),nt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,c=r.localizer,d=this.state,f=d.selecting,h=d.startIdx,g=d.endIdx,w=s();return N.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(v,b){var E=f&&b>=h&&b<=g,y=o.dayProp(v),I=y.className,R=y.style;return N.createElement(l,{key:b,value:v,range:i},N.createElement("div",{style:R,className:Fe("rbc-day-bg",I,E&&"rbc-selected-cell",c.isSameDate(v,w)&&"rbc-today",a&&c.neq(a,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new oR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!Hd(i,l)&&!rX(i,l)){var d=gs(i),f=r.props,h=f.range,g=f.rtl;if(YQ(d,l)){var w=iR(d,l.x,g,h.length);r._selectSlot({startIdx:w,endIdx:w,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,c=l.range,d=l.rtl,f=-1,h=-1;if(r.state.selecting||(Ce(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var g=gs(i),w=QQ(r._initial,g,a,c.length,d);f=w.startIdx,h=w.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Hd(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Ee(Ee({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),Ce(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])}(N.Component),Gn={propTypes:{slotMetrics:U.object.isRequired,selected:U.object,isAllDay:U.bool,accessors:U.object.isRequired,localizer:U.object.isRequired,components:U.object.isRequired,getters:U.object.isRequired,onSelect:U.func,onDoubleClick:U.func,onKeyPress:U.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,d=e.slotMetrics,f=e.components,h=e.resizable,g=d.continuesPrior(n),w=d.continuesAfter(n);return N.createElement(nR,{event:n,getters:s,localizer:c,accessors:i,components:f,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:g,continuesAfter:w,slotStart:d.first,slotEnd:d.last,selected:Zh(n,r),resizable:h})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/e*100+"%";return N.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},aR=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return N.createElement("div",{className:Fe(a,"rbc-row")},s.reduce(function(c,d,f){var h=d.event,g=d.left,w=d.right,v=d.span,b="_lvl_"+f,E=g-l,y=Gn.renderEvent(r.props,h);return E&&c.push(Gn.renderSpan(o,E,"".concat(b,"_gap"))),c.push(Gn.renderSpan(o,v,b,y)),l=w+1,c},[]))}}])}(N.Component);aR.defaultProps=Ee({},Gn.defaultProps);function lR(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function aX(t,e,n,r){var i=lR({dateRange:e,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(t),"day"),s),c=r.min(r.ceil(n.end(t),"day"),o),d=hG(e,function(h){return r.isSameDate(h,l)}),f=r.diff(l,c,"day");return f=Math.min(f,a),f=Math.max(f-r.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function uR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<s.length&&lX(i,s[r]);r++);r>=e?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function Kl(t,e,n,r,i){var s={start:r.start(t),end:r.end(t)},o={start:e,end:n};return i.inEventRange({event:s,range:o})}function lX(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function uX(t,e,n){var r=Fc(t),i=[],s=[];r.forEach(function(l){var c=e.start(l),d=e.end(l);n.daySpan(c,d)>1?i.push(l):s.push(l)});var o=i.sort(function(l,c){return tg(l,c,e,n)}),a=s.sort(function(l,c){return tg(l,c,e,n)});return[].concat(Fc(o),Fc(a))}function tg(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},s={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:s})}var cR=function(e,n){return e.left<=n&&e.right>=n},lT=function(e,n){return e.filter(function(r){return cR(r,n)}).map(function(r){return r.event})},dR=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=uR(i).levels[0],a=1,l=1,c=[];a<=s;){var d="_lvl_"+a,f=o.filter(function(y){return cR(y,a)})[0]||{},h=f.event,g=f.left,w=f.right,v=f.span;if(!h){a++;continue}var b=Math.max(0,g-l);if(this.canRenderSlotEvent(g,v)){var E=Gn.renderEvent(this.props,h);b&&c.push(Gn.renderSpan(s,b,d+"_gap")),c.push(Gn.renderSpan(s,v,d,E)),l=a=w+1}else b&&c.push(Gn.renderSpan(s,b,d+"_gap")),c.push(Gn.renderSpan(s,1,d,this.renderShowMore(i,a))),l=a=a+1}return N.createElement("div",{className:"rbc-row"},c)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return IG(r,r+i).every(function(o){var a=lT(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,c=o.components,d=l.getEventsForSlot(i),f=lT(r,i),h=f.length;if(c!=null&&c.showMore){var g=c.showMore,w=l.getDateForSlot(i-1);return h?N.createElement(g,{localizer:a,slotDate:w,slot:i,count:h,events:d,remainingEvents:f}):!1}return h?N.createElement("button",{type:"button",key:"sm_"+i,className:Fe("rbc-button-link","rbc-show-more"),onClick:function(b){return s.showMore(i,b)}},a.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(N.Component);dR.defaultProps=Ee({},Gn.defaultProps);var cX=function(e){var n=e.children;return N.createElement("div",{className:"rbc-row-content-scroll-container"},n)},dX=function(e,n){return e.left<=n&&e.right>=n},hX=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function hR(){return LP(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,s=t.accessors,o=t.localizer,a=lR({dateRange:e,localizer:o}),l=a.first,c=a.last,d=n.map(function(v){return aX(v,e,s,o)}),f=uR(d,Math.max(r-1,1)),h=f.levels,g=f.extra,w=g.length>0?i-1:i;h.length<w;)h.push([]);return{first:l,last:c,levels:h,extra:g,range:e,slots:e.length,clone:function(b){var E=hR();return E(Ee(Ee({},t),b))},getDateForSlot:function(b){return e[b]},getSlotForDate:function(b){return e.find(function(E){return o.isSameDate(E,b)})},getEventsForSlot:function(b){return d.filter(function(E){return dX(E,b)}).map(function(E){return E.event})},continuesPrior:function(b){return o.continuesPrior(s.start(b),l)},continuesAfter:function(b){var E=s.start(b),y=s.end(b);return o.continuesAfter(E,y,c)}}},hX)}var Yl=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,c=a.onSelectSlot;c(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,c=l.range,d=l.onShowMore,f=n.slotMetrics(n.props),h=uU(n.containerRef.current,".rbc-row-bg")[0],g;h&&(g=h.children[o-1]);var w=f.getEventsForSlot(o);d(w,c[o-1],g,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,c=l.renderHeader,d=l.getNow,f=l.localizer;return c({date:o,key:"header_".concat(a),className:Fe("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,c=o.renderHeader,d=o.showAllEvents;return N.createElement("div",{className:a,ref:n.containerRef},N.createElement("div",{className:Fe("rbc-row-content",d&&"rbc-row-content-scrollable")},c&&N.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),N.createElement("div",{className:"rbc-row",ref:n.eventRowRef},N.createElement("div",{className:"rbc-row-segment"},N.createElement("div",{className:"rbc-event"},N.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=B.createRef(),n.headingRowRef=B.createRef(),n.eventRowRef=B.createRef(),n.slotMetrics=hR(),n}return kt(e,t),nt(e,[{key:"getRowLimit",value:function(){var r,i=pp(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?pp(this.headingRowRef.current):0,o=pp(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,c=r.selectable,d=r.renderForMeasure,f=r.accessors,h=r.getters,g=r.components,w=r.getNow,v=r.renderHeader,b=r.onSelect,E=r.localizer,y=r.onSelectStart,I=r.onSelectEnd,R=r.onDoubleClick,O=r.onKeyPress,x=r.resourceId,T=r.longPressThreshold,_=r.isAllDay,S=r.resizable,C=r.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),D=k.levels,P=k.extra,Q=C?cX:hr,oe=g.weekWrapper,te={selected:l,accessors:f,getters:h,localizer:E,components:g,onSelect:b,onDoubleClick:R,onKeyPress:O,resourceId:x,slotMetrics:k,resizable:S};return N.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},N.createElement(oX,{localizer:E,date:i,getNow:w,rtl:s,range:o,selectable:c,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:I,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:T,resourceId:x}),N.createElement("div",{className:Fe("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},v&&N.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),N.createElement(Q,null,N.createElement(oe,Object.assign({isAllDay:_},te,{rtl:this.props.rtl}),D.map(function(ie,z){return N.createElement(aR,Object.assign({key:z,segments:ie},te))}),!!P.length&&N.createElement(dR,Object.assign({segments:P,onShowMore:this.handleShowMore},te))))))}}])}(N.Component);Yl.defaultProps={minRows:0,maxRows:1/0};var Uy=function(e){var n=e.label;return N.createElement("span",{role:"columnheader","aria-sort":"none"},n)},fX=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?N.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):N.createElement("span",null,n)},pX=["date","className"],mX=function(e,n,r,i,s){return e.filter(function(o){return Kl(o,n,r,i,s)})},ef=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,c=l.events,d=l.components,f=l.selectable,h=l.getNow,g=l.selected,w=l.date,v=l.localizer,b=l.longPressThreshold,E=l.accessors,y=l.getters,I=l.showAllEvents,R=n.state,O=R.needLimitMeasure,x=R.rowLimit,T=mX(Fc(c),o[0],o[o.length-1],E,v),_=uX(T,E,v);return N.createElement(Yl,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:h,date:w,range:o,events:_,maxRows:I?1/0:x,selected:g,selectable:f,components:d,accessors:E,getters:y,localizer:v,renderHeader:n.readerDateHeading,renderForMeasure:O,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:b,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:I})},n.readerDateHeading=function(o){var a=o.date,l=o.className,c=sr(o,pX),d=n.props,f=d.date,h=d.getDrilldownView,g=d.localizer,w=g.neq(a,f,"month"),v=g.isSameDate(a,f),b=h(a),E=g.format(a,"dateFormat"),y=n.props.components.dateHeader||fX;return N.createElement("div",Object.assign({},c,{className:Fe(l,w&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),N.createElement(y,{label:E,date:a,drilldownView:b,isOffRange:w,onDrillDown:function(R){return n.handleHeadingClick(a,b,R)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),Ce(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,c,d){var f=n.props,h=f.popup,g=f.onDrillDown,w=f.onShowMore,v=f.getDrilldownView,b=f.doShowMoreDrillDown;if(n.clearSelection(),h){var E=cP(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:E,target:d}})}else b&&Ce(g,[a,v(a)||Mt.DAY]);Ce(w,[o,a,c])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=B.createRef(),n.slotRowRef=B.createRef(),n._bgRows=[],n._pendingSelection=[],n}return kt(e,t),nt(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||dP(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=q3(a,7);return this._weekCount=l.length,N.createElement("div",{className:Fe("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},N.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],c=o.header||Uy;return s.range(a,l,"day").map(function(d,f){return N.createElement("div",{key:"header_"+f,className:"rbc-header"},N.createElement(c,{date:d,localizer:s,label:s.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,d=a.components,f=a.getters,h=a.selected,g=a.popupOffset,w=a.handleDragStart,v=function(){return s.setState({overlay:null})};return N.createElement(Fy,{overlay:o,accessors:l,localizer:c,components:d,getters:f,selected:h,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),Ce(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(N.Component);ef.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};ef.navigate=function(t,e,n){var r=n.localizer;switch(e){case Xt.PREVIOUS:return r.add(t,-1,"month");case Xt.NEXT:return r.add(t,1,"month");default:return t}};ef.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var uT=function(e){var n=e.min,r=e.max,i=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function jy(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,s=t.localizer,o=uT({start:e,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(e,n),l=s.getMinutesFromMidnight(e),c=Math.ceil((a-1)/(r*i)),d=c*i,f=new Array(c),h=new Array(d),g=0;g<c;g++){f[g]=new Array(i);for(var w=0;w<i;w++){var v=g*i+w,b=v*r;h[v]=f[g][w]=s.getSlotDate(e,l,b)}}var E=h.length*r;h.push(s.getSlotDate(e,l,E));function y(I){var R=s.diff(e,I,"minutes")+s.getDstOffset(e,I);return Math.min(R,a)}return{groups:f,update:function(R){return uT(R)!==o?jy(R):this},dateIsInGroup:function(R,O){var x=f[O+1];return s.inRange(R,f[O][0],x?x[0]:n,"minutes")},nextSlot:function(R){var O=h[Math.min(h.findIndex(function(x){return x===R||s.eq(x,R)})+1,h.length-1)];return s.eq(O,R)&&(O=s.add(R,r,"minutes")),O},closestSlotToPosition:function(R){var O=Math.min(h.length-1,Math.max(0,Math.floor(R*d)));return h[O]},closestSlotFromPoint:function(R,O){var x=Math.abs(O.top-O.bottom);return this.closestSlotToPosition((R.y-O.top)/x)},closestSlotFromDate:function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(R,e,"minutes"))return h[0];if(s.gt(R,n,"minutes"))return h[h.length-1];var x=s.diff(e,R,"minutes");return h[(x-x%r)/r+O]},startsBeforeDay:function(R){return s.lt(R,e,"day")},startsAfterDay:function(R){return s.gt(R,n,"day")},startsBefore:function(R){return s.lt(s.merge(e,R),e,"minutes")},startsAfter:function(R){return s.gt(s.merge(n,R),n,"minutes")},getRange:function(R,O,x,T){x||(R=s.min(n,s.max(e,R))),T||(O=s.min(n,s.max(e,O)));var _=y(R),S=y(O),C=S>r*d&&!s.eq(n,O)?(_-r)/(r*d)*100:_/(r*d)*100;return{top:C,height:S/(r*d)*100-C,start:y(R),startDate:R,end:y(O),endDate:O}},getCurrentTimePosition:function(R){var O=y(R),x=O/(r*d)*100;return x}}}var gX=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;tt(this,t);var s=i.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,c=s.endDate,d=s.top,f=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+c,this.top=d,this.height=f,this.data=e}return nt(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}])}();function vX(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function yX(t){for(var e=Hq(t,["startMs",function(a){return-a.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var s=e[i];if(!(r.endMs>s.startMs)){if(i>0){var o=e.splice(i,1)[0];n.push(o)}break}}}return n}function fR(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=e.map(function(d){return new gX(d,{slotMetrics:r,accessors:i})}),o=yX(s),a=[],l=function(){var f=o[c],h=a.find(function(v){return v.end>f.start||Math.abs(f.start-v.start)<n});if(!h)return f.rows=[],a.push(f),1;f.container=h;for(var g=null,w=h.rows.length-1;!g&&w>=0;w--)vX(h.rows[w],f,n)&&(g=h.rows[w]);g?(g.leaves.push(f),f.row=g):(f.leaves=[],h.rows.push(f))},c=0;c<o.length;c++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function pR(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=pR(t.friends[r],e,n);e=e>i?e:i}return e}function _X(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=fR({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(oe,te){return oe=oe.style,te=te.style,oe.top!==te.top?oe.top>te.top?1:-1:oe.height!==te.height?oe.top+oe.height<te.top+te.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],c=l.style.top,d=l.style.top+l.style.height,f=a+1;f<s.length;++f){var h=s[f],g=h.style.top,w=h.style.top+h.style.height;(g>=c&&w<=d||w>c&&w<=d||g>=c&&g<d)&&(l.friends.push(h),h.friends.push(l))}for(var v=0;v<s.length;++v){for(var b=s[v],E=[],y=0;y<100;++y)E.push(1);for(var I=0;I<b.friends.length;++I)b.friends[I].idx!==void 0&&(E[b.friends[I].idx]=0);b.idx=E.indexOf(1)}for(var R=0;R<s.length;++R){var O=0;if(!s[R].size){var x=[],T=pR(s[R],0,x);O=100/(T+1),s[R].size=O;for(var _=0;_<x.length;++_)x[_].size=O}}for(var S=0;S<s.length;++S){var C=s[S];C.style.left=C.idx*C.size;for(var k=0,D=0;D<C.friends.length;++D){var P=C.friends[D].idx;k=k>P?k:P}k<=C.idx&&(C.size=100-C.idx*C.size);var Q=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(Q,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(Q,"px)")}return s}var cT={overlap:fR,"no-overlap":_X};function wX(t){return!!(t&&t.constructor&&t.call&&t.apply)}function EX(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in cT&&(n=cT[e]),wX(n)?n.apply(this,arguments):[]}var mR=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,c=l===void 0?{}:l,d=c.timeSlotWrapper,f=d===void 0?hr:d,h=a?a.slotGroupProp(o):{};return N.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(g,w){var v=a?a.slotProp(g,s):{};return N.createElement(f,{key:w,value:g,resource:s},N.createElement("div",Object.assign({},v,{className:Fe("rbc-time-slot",v.className)}),i&&i(g,w)))}))}}])}(B.Component);function mc(t){return typeof t=="string"?t:t+"%"}function TX(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,c=t.continuesAfter,d=t.getters,f=t.onClick,h=t.onDoubleClick,g=t.isBackgroundEvent,w=t.onKeyPress,v=t.components,b=v.event,E=v.eventWrapper,y=i.title(r),I=i.tooltip(r),R=i.end(r),O=i.start(r),x=d.eventProp(r,O,R,o),T=[N.createElement("div",{key:"1",className:"rbc-event-label"},a),N.createElement("div",{key:"2",className:"rbc-event-content"},b?N.createElement(b,{event:r,title:y}):y)],_=e.height,S=e.top,C=e.width,k=e.xOffset,D=Ee(Ee({},x.style),{},Ui({top:mc(S),height:mc(_),width:mc(C)},s?"right":"left",mc(k)));return N.createElement(E,Object.assign({type:"time"},t),N.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:D,onKeyDown:w,title:I?(typeof a=="string"?a+": ":"")+I:void 0,className:Fe(g?"rbc-background-event":"rbc-event",n,x.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},T))}var SX=function(e){var n=e.children,r=e.className,i=e.style,s=e.innerRef;return N.createElement("div",{className:r,style:i,ref:s},n)},IX=N.forwardRef(function(t,e){return N.createElement(SX,Object.assign({},t,{innerRef:e}))}),bX=["dayProp"],AX=["eventContainerWrapper"],gR=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,c=n.props,d=c.rtl,f=c.selected,h=c.accessors,g=c.localizer,w=c.getters,v=c.components,b=c.step,E=c.timeslots,y=c.dayLayoutAlgorithm,I=c.resizable,R=n,O=R.slotMetrics,x=g.messages,T=EX({events:a,accessors:h,slotMetrics:O,minimumStartDifference:Math.ceil(b*E/2),dayLayoutAlgorithm:y});return T.map(function(_,S){var C,k=_.event,D=_.style,P=h.end(k),Q=h.start(k),oe=(C=h.eventId(k))!==null&&C!==void 0?C:"evt_"+S,te="eventTimeRangeFormat",ie,z=O.startsBeforeDay(Q),q=O.startsAfterDay(P);z?te="eventTimeRangeEndFormat":q&&(te="eventTimeRangeStartFormat"),z&&q?ie=x.allDay:ie=g.format({start:Q,end:P},te);var X=z||O.startsBefore(Q),ue=q||O.startsAfter(P);return N.createElement(TX,{style:D,event:k,label:ie,key:oe,getters:w,rtl:d,components:v,continuesPrior:X,continuesAfter:ue,accessors:h,resource:n.props.resource,selected:Zh(k,f),onClick:function(he){return n._select(Ee(Ee(Ee({},k),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),he)},onDoubleClick:function(he){return n._doubleClick(k,he)},isBackgroundEvent:l,onKeyPress:function(he){return n._keyPress(k,he)},resizable:I})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,c=a.localizer,d=n._selector=new oR(function(){return o},{longPressThreshold:l}),f=function(v){var b=n.props.onSelecting,E=n.state||{},y=h(v),I=y.startDate,R=y.endDate;b&&(c.eq(E.startDate,I,"minutes")&&c.eq(E.endDate,R,"minutes")||b({start:I,end:R,resourceId:n.props.resource})===!1)||(n.state.start!==y.start||n.state.end!==y.end||n.state.selecting!==y.selecting)&&n.setState(y)},h=function(v){var b=n.slotMetrics.closestSlotFromPoint(v,gs(o));n.state.selecting||(n._initialSlot=b);var E=n._initialSlot;c.lte(E,b)?b=n.slotMetrics.nextSlot(b):c.gt(E,b)&&(E=n.slotMetrics.nextSlot(E));var y=n.slotMetrics.getRange(c.min(E,b),c.max(E,b));return Ee(Ee({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},g=function(v,b){if(!Hd(n.containerRef.current,v)){var E=h(v),y=E.startDate,I=E.endDate;n._selectSlot({startDate:y,endDate:I,action:b,box:v})}n.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(w){if(n.props.selectable==="ignoreEvents")return!Hd(n.containerRef.current,w)}),d.on("click",function(w){return g(w,"click")}),d.on("doubleClick",function(w){return g(w,"doubleClick")}),d.on("select",function(w){n.state.selecting&&(n._selectSlot(Ee(Ee({},n.state),{},{action:"select",bounds:w})),n.setState({selecting:!1}))}),d.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,c=o.action,d=o.bounds,f=o.box,h=a,g=[];n.props.localizer.lte(h,l);)g.push(h),h=new Date(+h+n.props.step*60*1e3);Ce(n.props.onSelectSlot,{slots:g,start:a,end:l,resourceId:n.props.resource,action:c,bounds:d,box:f})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onKeyPressEvent,a)},n.slotMetrics=jy(n.props),n.containerRef=B.createRef(),n}return kt(e,t),nt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,c=s.date,d=s.min,f=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var g=!h&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else a&&(l.neq(r.min,d,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,c=r.accessors,d=r.localizer,f=r.getters,h=f.dayProp,g=sr(f,bX),w=r.components,v=w.eventContainerWrapper,b=sr(w,AX);this.slotMetrics=this.slotMetrics.update(this.props);var E=this.slotMetrics,y=this.state,I=y.selecting,R=y.top,O=y.height,x=y.startDate,T=y.endDate,_={start:x,end:T},S=h(s,l),C=S.className,k=S.style,D=b.dayColumnWrapper||IX;return N.createElement(D,{ref:this.containerRef,date:i,style:k,className:Fe(C,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",I&&"rbc-slot-selecting"),slotMetrics:E,resource:l},E.groups.map(function(P,Q){return N.createElement(mR,{key:Q,group:P,resource:l,getters:g,components:b})}),N.createElement(v,{localizer:d,resource:l,accessors:c,getters:g,components:b,slotMetrics:E},N.createElement("div",{className:Fe("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),I&&N.createElement("div",{className:"rbc-slot-selection",style:{top:R,height:O}},N.createElement("span",null,d.format(_,"selectRangeFormat"))),a&&this.intervalTriggered&&N.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(N.Component);gR.defaultProps={dragThroughEvents:!0,timeslots:2};var vR=function(e){var n=e.label;return N.createElement(N.Fragment,null,n)},CX=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Ce(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,c=a.rtl,d=a.selectable,f=a.getNow,h=a.range,g=a.getters,w=a.localizer,v=a.accessors,b=a.components,E=a.resizable,y=v.resourceId(o),I=o?l.filter(function(R){return v.resource(R)===y}):l;return N.createElement(Yl,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:I,resourceId:y,className:"rbc-allday-cell",selectable:d,selected:n.props.selected,components:b,accessors:v,getters:g,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E})},n}return kt(e,t),nt(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,d=s.components.header,f=d===void 0?Uy:d,h=l();return r.map(function(g,w){var v=a(g),b=o.format(g,"dayFormat"),E=c(g),y=E.className,I=E.style,R=N.createElement(f,{date:g,label:b,localizer:o});return N.createElement("div",{key:w,style:I,className:Fe("rbc-header",y,o.isSameDate(g,h)&&"rbc-today")},v?N.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(x){return i.handleHeaderClick(g,v,x)}},R):N.createElement("span",null,R))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,c=i.events,d=i.getNow,f=i.accessors,h=i.selectable,g=i.components,w=i.getters,v=i.scrollRef,b=i.localizer,E=i.isOverflowing,y=i.components,I=y.timeGutterHeader,R=y.resourceHeader,O=R===void 0?vR:R,x=i.resizable,T={};E&&(T[o?"marginLeft":"marginRight"]="".concat(_y()-1,"px"));var _=a.groupEvents(c);return N.createElement("div",{style:T,ref:v,className:Fe("rbc-time-header",E&&"rbc-overflowing")},N.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},I&&N.createElement(I,null)),a.map(function(S,C){var k=us(S,2),D=k[0],P=k[1];return N.createElement("div",{className:"rbc-time-header-content",key:D||C},P&&N.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},N.createElement("div",{className:"rbc-header"},N.createElement(O,{index:C,label:f.resourceTitle(P),resource:P}))),N.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),N.createElement(Yl,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:_.get(D)||[],resourceId:P&&D,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:g,accessors:f,getters:w,localizer:b,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x}))}))}}])}(N.Component),PX=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Ce(n.props.onDrillDown,[o,a])},n}return kt(e,t),nt(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,d=s.components,f=d.header,h=f===void 0?Uy:f,g=d.resourceHeader,w=g===void 0?vR:g,v=s.resources,b=s.accessors,E=s.events,y=s.rtl,I=s.selectable,R=s.components,O=s.getters,x=s.resizable,T=l(),_=v.groupEvents(E);return r.map(function(S,C){var k=a(S),D=o.format(S,"dayFormat"),P=c(S),Q=P.className,oe=P.style,te=N.createElement(h,{date:S,label:D,localizer:o});return N.createElement("div",{key:C,className:"rbc-time-header-content rbc-resource-grouping"},N.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},N.createElement("div",{style:oe,className:Fe("rbc-header",Q,o.isSameDate(S,T)&&"rbc-today")},k?N.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(S,k,z)}},te):N.createElement("span",null,te))),N.createElement("div",{className:"rbc-row"},v.map(function(ie,z){var q=us(ie,2),X=q[0],ue=q[1];return N.createElement("div",{key:"resource_".concat(X,"_").concat(z),className:Fe("rbc-header",Q,o.isSameDate(S,T)&&"rbc-today")},N.createElement(w,{index:z,label:b.resourceTitle(ue),resource:ue}))})),N.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},v.map(function(ie,z){var q=us(ie,2),X=q[0],ue=q[1],se=(_.get(X)||[]).filter(function(he){return o.isSameDate(he.start,S)||o.isSameDate(he.end,S)});return N.createElement(Yl,{key:"resource_".concat(X,"_").concat(z),isAllDay:!0,rtl:y,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[S],events:se,resourceId:ue&&X,className:"rbc-allday-cell",selectable:I,selected:i.props.selected,components:R,accessors:b,getters:O,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:x})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,d={};return l&&(d[s?"marginLeft":"marginRight"]="".concat(_y()-1,"px")),N.createElement("div",{style:d,ref:a,className:Fe("rbc-time-header",l&&"rbc-overflowing")},N.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&N.createElement(c,null)),this.renderHeaderCells(o))}}])}(N.Component);function RX(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var kX=function(e){var n=e.min,r=e.max,i=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,c=e.components,d=e.getters,f=e.gutterRef,h=c.timeGutterWrapper,g=B.useMemo(function(){return RX({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),w=g.start,v=g.end,b=B.useState(jy({min:w,max:v,timeslots:i,step:s,localizer:o})),E=us(b,2),y=E[0],I=E[1];B.useEffect(function(){y&&I(y.update({min:w,max:v,timeslots:i,step:s,localizer:o}))},[w==null?void 0:w.toISOString(),v==null?void 0:v.toISOString(),i,s]);var R=B.useCallback(function(O,x){if(x)return null;var T=y.dateIsInGroup(a(),x);return N.createElement("span",{className:Fe("rbc-label",T&&"rbc-now")},o.format(O,"timeGutterFormat"))},[y,o,a]);return N.createElement(h,{slotMetrics:y},N.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(O,x){return N.createElement(mR,{key:x,group:O,resource:l,components:c,renderSlot:R,getters:d})})))},DX=N.forwardRef(function(t,e){return N.createElement(kX,Object.assign({gutterRef:e},t))}),vp={};function OX(t,e){return{map:function(r){return t?t.map(function(i,s){return r([e.resourceId(i),i],s)}):[r([vp,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||vp;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(s),i.set(l,c)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(vp,r),i)}}}var Jo=function(t){function e(n){var r;return tt(this,e),r=Rt(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){YE(r.rafHandle),r.rafHandle=dP(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ce(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ce(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ce(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var c=r.props,d=c.popup,f=c.onDrillDown,h=c.onShowMore,g=c.getDrilldownView,w=c.doShowMoreDrillDown;if(r.clearSelection(),d){var v=cP(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Ee(Ee({},v),{},{width:"200px"}),target:l}})}else w&&Ce(f,[s,g(s)||Mt.DAY]);Ce(h,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Ce(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=LP(function(i,s){return OX(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=N.createRef(),r.contentRef=N.createRef(),r.containerRef=N.createRef(),r._scrollRatio=null,r.gutterRef=B.createRef(),r}return kt(e,t),nt(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),YE(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,c,d,f,h){var g=this.props,w=g.min,v=g.max,b=(o.get(i)||[]).filter(function(y){return l.inRange(r,c.start(y),c.end(y),"day")}),E=(a.get(i)||[]).filter(function(y){return l.inRange(r,c.start(y),c.end(y),"day")});return N.createElement(gR,Object.assign({},this.props,{localizer:l,min:l.merge(r,w),max:l.merge(r,v),resource:s&&i,components:d,isNow:l.isSameDate(r,h),key:"".concat(i,"-").concat(r),date:r,events:b,backgroundEvents:E,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,c,d,f){var h=this;return i.map(function(g){var w=us(g,2),v=w[0],b=w[1];return r.map(function(E){return h.renderDayColumn(E,v,b,s,o,a,l,d,f,c)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,c,d,f){var h=this;return r.map(function(g){return N.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},i.map(function(w){var v=us(w,2),b=v[0],E=v[1];return N.createElement("div",{style:{flex:1},key:l.resourceId(E)},h.renderDayColumn(g,b,E,s,o,a,l,d,f,c))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,c=a.localizer,d=a.resourceGroupingLayout,f=a.components,h=a.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,l),w=g.groupEvents(i),v=g.groupEvents(s);return d?this.renderRangeFirst(r,g,w,v,c,l,o,f,h):this.renderResourcesFirst(r,g,w,v,c,l,o,f,h)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,c=i.rtl,d=i.selected,f=i.getNow,h=i.resources,g=i.components,w=i.accessors,v=i.getters,b=i.localizer,E=i.min,y=i.max,I=i.showMultiDayTimes,R=i.longPressThreshold,O=i.resizable,x=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var T=a[0],_=a[a.length-1];this.slots=a.length;var S=[],C=[],k=[];s.forEach(function(P){if(Kl(P,T,_,w,b)){var Q=w.start(P),oe=w.end(P);w.allDay(P)||b.startAndEndAreDateOnly(Q,oe)||!I&&!b.isSameDate(Q,oe)?S.push(P):C.push(P)}}),o.forEach(function(P){Kl(P,T,_,w,b)&&k.push(P)}),S.sort(function(P,Q){return tg(P,Q,w,b)});var D={range:a,events:S,width:l,rtl:c,getNow:f,localizer:b,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,w),selectable:this.props.selectable,accessors:w,getters:v,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:R,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:O};return N.createElement("div",{className:Fe("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&x?N.createElement(PX,D):N.createElement(CX,D),this.props.popup&&this.renderOverlay(),N.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},N.createElement(DX,{date:T,ref:this.gutterRef,localizer:b,min:b.merge(T,E),max:b.merge(T,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:v}),this.renderEvents(a,C,k,f())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,d=a.components,f=a.getters,h=a.selected,g=a.popupOffset,w=a.handleDragStart,v=function(){return s.setState({overlay:null})};return N.createElement(Fy,{overlay:o,accessors:l,localizer:c,components:d,getters:f,selected:h,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Zm(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),c=a.diff(i,s,"milliseconds");this._scrollRatio=l/c}}])}(B.Component);Jo.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var xX=["date","localizer","min","max","scrollToTime","enableAutoScroll"],tf=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,h=r.enableAutoScroll,g=h===void 0?!0:h,w=sr(r,xX),v=e.range(i,{localizer:s});return N.createElement(Jo,Object.assign({},w,{range:v,eventOffset:10,localizer:s,min:a,max:c,scrollToTime:f,enableAutoScroll:g}))}}])}(N.Component);tf.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};tf.navigate=function(t,e,n){var r=n.localizer;switch(e){case Xt.PREVIOUS:return r.add(t,-1,"day");case Xt.NEXT:return r.add(t,1,"day");default:return t}};tf.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var NX=["date","localizer","min","max","scrollToTime","enableAutoScroll"],_i=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,h=r.enableAutoScroll,g=h===void 0?!0:h,w=sr(r,NX),v=e.range(i,this.props);return N.createElement(Jo,Object.assign({},w,{range:v,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:f,enableAutoScroll:g}))}}])}(N.Component);_i.defaultProps=Jo.defaultProps;_i.navigate=function(t,e,n){var r=n.localizer;switch(e){case Xt.PREVIOUS:return r.add(t,-1,"week");case Xt.NEXT:return r.add(t,1,"week");default:return t}};_i.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),s=n.endOf(t,"week",r);return n.range(i,s)};_i.title=function(t,e){var n=e.localizer,r=_i.range(t,{localizer:n}),i=BP(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var MX=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function zy(t,e){return _i.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Tu=function(t){function e(){return tt(this,e),Rt(this,e,arguments)}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,h=r.enableAutoScroll,g=h===void 0?!0:h,w=sr(r,MX),v=zy(i,this.props);return N.createElement(Jo,Object.assign({},w,{range:v,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:f,enableAutoScroll:g}))}}])}(N.Component);Tu.defaultProps=Jo.defaultProps;Tu.range=zy;Tu.navigate=_i.navigate;Tu.title=function(t,e){var n=e.localizer,r=zy(t,{localizer:n}),i=BP(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var nf=30;function rf(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,s=t.getters,o=t.length,a=o===void 0?nf:o,l=t.localizer,c=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,h=B.useRef(null),g=B.useRef(null),w=B.useRef(null),v=B.useRef(null),b=B.useRef(null);B.useEffect(function(){I()});var E=function(_,S,C){var k=n.event,D=n.date;return S=S.filter(function(P){return Kl(P,l.startOf(_,"day"),l.endOf(_,"day"),e,l)}),S.map(function(P,Q){var oe=e.title(P),te=e.end(P),ie=e.start(P),z=s.eventProp(P,ie,te,Zh(P,f)),q=Q===0&&l.format(_,"agendaDateFormat"),X=Q===0?N.createElement("td",{rowSpan:S.length,className:"rbc-agenda-date-cell"},D?N.createElement(D,{day:_,label:q}):q):!1;return N.createElement("tr",{key:C+"_"+Q,className:z.className,style:z.style},X,N.createElement("td",{className:"rbc-agenda-time-cell"},y(_,P)),N.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(se){return d&&d(P,se)},onDoubleClick:function(se){return c&&c(P,se)}},k?N.createElement(k,{event:P,title:oe}):oe))},[])},y=function(_,S){var C="",k=n.time,D=l.messages.allDay,P=e.end(S),Q=e.start(S);return e.allDay(S)||(l.eq(Q,P)?D=l.format(Q,"agendaTimeFormat"):l.isSameDate(Q,P)?D=l.format({start:Q,end:P},"agendaTimeRangeFormat"):l.isSameDate(_,Q)?D=l.format(Q,"agendaTimeFormat"):l.isSameDate(_,P)&&(D=l.format(P,"agendaTimeFormat"))),l.gt(_,Q,"day")&&(C="rbc-continues-prior"),l.lt(_,P,"day")&&(C+=" rbc-continues-after"),N.createElement("span",{className:C.trim()},k?N.createElement(k,{event:S,day:_,label:D}):D)},I=function(){if(b.current){var _=h.current,S=b.current.firstChild;if(S){var C=v.current.scrollHeight>v.current.clientHeight,k=[],D=k;k=[Zm(S.children[0]),Zm(S.children[1])],(D[0]!==k[0]||D[1]!==k[1])&&(g.current.style.width=k[0]+"px",w.current.style.width=k[1]+"px"),C?(Nj(_,"rbc-header-overflowing"),_.style.marginRight=_y()+"px"):Mj(_,"rbc-header-overflowing")}}},R=l.messages,O=l.add(r,a,"day"),x=l.range(r,O,"day");return i=i.filter(function(T){return Kl(T,l.startOf(r,"day"),l.endOf(O,"day"),e,l)}),i.sort(function(T,_){return+e.start(T)-+e.start(_)}),N.createElement("div",{className:"rbc-agenda-view"},i.length!==0?N.createElement(N.Fragment,null,N.createElement("table",{ref:h,className:"rbc-agenda-table"},N.createElement("thead",null,N.createElement("tr",null,N.createElement("th",{className:"rbc-header",ref:g},R.date),N.createElement("th",{className:"rbc-header",ref:w},R.time),N.createElement("th",{className:"rbc-header"},R.event)))),N.createElement("div",{className:"rbc-agenda-content",ref:v},N.createElement("table",{className:"rbc-agenda-table"},N.createElement("tbody",{ref:b},x.map(function(T,_){return E(T,i,_)}))))):N.createElement("span",{className:"rbc-agenda-empty"},R.noEventsInRange))}rf.range=function(t,e){var n=e.length,r=n===void 0?nf:n,i=e.localizer,s=i.add(t,r,"day");return{start:t,end:s}};rf.navigate=function(t,e,n){var r=n.length,i=r===void 0?nf:r,s=n.localizer;switch(e){case Xt.PREVIOUS:return s.add(t,-i,"day");case Xt.NEXT:return s.add(t,i,"day");default:return t}};rf.title=function(t,e){var n=e.length,r=n===void 0?nf:n,i=e.localizer,s=i.add(t,r,"day");return i.format({start:t,end:s},"agendaHeaderFormat")};var zc=Ui(Ui(Ui(Ui(Ui({},Mt.MONTH,ef),Mt.WEEK,_i),Mt.WORK_WEEK,Tu),Mt.DAY,tf),Mt.AGENDA,rf),LX=["action","date","today"];function $X(t,e){var n=e.action,r=e.date,i=e.today,s=sr(e,LX);switch(t=typeof t=="string"?zc[t]:t,n){case Xt.TODAY:r=i||new Date;break;case Xt.DATE:break;default:Ll(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,s)}return r}function VX(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&Cr(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var cr=function(e){return function(n){return VX(n,e)}},FX=["view","date","getNow","onNavigate"],UX=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function yR(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=us(r[n],2),s=i[0],o=i[1];o&&e.push(s)}return e}function jX(t,e){var n=e.views,r=yR(n);return r.indexOf(t)!==-1}var _R=function(t){function e(){var n;tt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Rt(this,e,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?yQ(o,function(a,l){return a[l]=zc[l]},{}):Cr(o)==="object"?y7(o,function(a,l){return a===!0?zc[l]:a}):zc},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,c=a.drilldownView,d=a.getDrilldownView;return d?d(o,l,Object.keys(n.getViews())):c},n.handleRangeChange=function(o,a,l){var c=n.props,d=c.onRangeChange,f=c.localizer;d&&a.range&&d(a.range(o,{localizer:f}),l)},n.handleNavigate=function(o,a){var l=n.props,c=l.view,d=l.date,f=l.getNow,h=l.onNavigate,g=sr(l,FX),w=n.getView(),v=f();d=$X(w,Ee(Ee({},g),{},{action:o,date:a||d||v,today:v})),h(d,c,o),n.handleRangeChange(d,w)},n.handleViewChange=function(o){o!==n.props.view&&jX(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){Ce(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(Xt.DATE,o)},n.state={context:e.getContext(n.props)},n}return kt(e,t),nt(e,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,d=r.className,f=r.elementProps,h=r.date,g=r.getNow,w=r.length,v=r.showMultiDayTimes,b=r.onShowMore,E=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var y=sr(r,UX);h=h||g();var I=this.getView(),R=this.state.context,O=R.accessors,x=R.components,T=R.getters,_=R.localizer,S=R.viewNames,C=x.toolbar||HQ,k=I.title(h,{localizer:_,length:w});return N.createElement("div",Object.assign({},f,{className:Fe(d,"rbc-calendar",y.rtl&&"rbc-rtl"),style:c}),s&&N.createElement(C,{date:h,view:i,views:S,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),N.createElement(I,Object.assign({},y,{events:o,backgroundEvents:a,date:h,getNow:g,length:w,localizer:_,getters:T,components:x,accessors:O,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:b,doShowMoreDrillDown:E,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,d=r.resourceIdAccessor,f=r.resourceTitleAccessor,h=r.eventIdAccessor,g=r.eventPropGetter,w=r.backgroundEventPropGetter,v=r.slotPropGetter,b=r.slotGroupPropGetter,E=r.dayPropGetter,y=r.view,I=r.views,R=r.localizer,O=r.culture,x=r.messages,T=x===void 0?{}:x,_=r.components,S=_===void 0?{}:_,C=r.formats,k=C===void 0?{}:C,D=yR(I),P=GQ(T);return{viewNames:D,localizer:BQ(R,O,k,P),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return b&&b.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:d7(S[y]||{},sQ(S,D),{eventWrapper:hr,backgroundEventWrapper:hr,eventContainerWrapper:hr,dateCellWrapper:hr,weekWrapper:hr,timeSlotWrapper:hr,timeGutterWrapper:hr}),accessors:{start:cr(i),end:cr(s),allDay:cr(o),tooltip:cr(a),title:cr(l),resource:cr(c),resourceId:cr(d),resourceTitle:cr(f),eventId:cr(h)}}}}])}(N.Component);_R.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Mt.MONTH,views:[Mt.MONTH,Mt.WEEK,Mt.DAY,Mt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Mt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var zX=qC(_R,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),BX=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"P",n)," – ").concat(r.format(s,"P",n))},yp=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"p",n)," – ").concat(r.format(s,"p",n))},HX=function(e,n,r){var i=e.start;return"".concat(r.format(i,"h:mma",n)," – ")},WX=function(e,n,r){var i=e.end;return" – ".concat(r.format(i,"h:mma",n))},GX=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"MMMM dd",n)," – ").concat(r.format(s,zo(i,s,"month")?"dd":"MMMM dd",n))},qX={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:yp,eventTimeRangeFormat:yp,eventTimeRangeStartFormat:HX,eventTimeRangeEndFormat:WX,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:GX,agendaHeaderFormat:BX,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:yp},KX=function(e){var n=e.startOfWeek,r=e.getDay,i=e.format,s=e.locales;return new zQ({formats:qX,firstOfWeek:function(a){return r(n(new Date,{locale:s[a]}))},format:function(a,l,c){return i(new Date(a),l,{locale:s[c]})}})};const YX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QX=(t,e,n)=>{let r;const i=YX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _p(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const XX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eJ={date:_p({formats:XX,defaultWidth:"full"}),time:_p({formats:JX,defaultWidth:"full"}),dateTime:_p({formats:ZX,defaultWidth:"full"})},tJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nJ=(t,e,n,r)=>tJ[t];function Oa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const rJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cJ={ordinalNumber:uJ,era:Oa({values:rJ,defaultWidth:"wide"}),quarter:Oa({values:iJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Oa({values:sJ,defaultWidth:"wide"}),day:Oa({values:oJ,defaultWidth:"wide"}),dayPeriod:Oa({values:aJ,defaultWidth:"wide",formattingValues:lJ,defaultFormattingWidth:"wide"})};function xa(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?hJ(a,f=>f.test(o)):dJ(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function dJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const pJ=/^(\d+)(th|st|nd|rd)?/i,mJ=/\d+/i,gJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vJ={any:[/^b/i,/^(a|c)/i]},yJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_J={any:[/1/i,/2/i,/3/i,/4/i]},wJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AJ={ordinalNumber:fJ({matchPattern:pJ,parsePattern:mJ,valueCallback:t=>parseInt(t,10)}),era:xa({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any"}),quarter:xa({matchPatterns:yJ,defaultMatchWidth:"wide",parsePatterns:_J,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xa({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:EJ,defaultParseWidth:"any"}),day:xa({matchPatterns:TJ,defaultMatchWidth:"wide",parsePatterns:SJ,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:IJ,defaultMatchWidth:"any",parsePatterns:bJ,defaultParseWidth:"any"})},By={code:"en-US",formatDistance:QX,formatLong:eJ,formatRelative:nJ,localize:cJ,match:AJ,options:{weekStartsOn:0,firstWeekContainsDate:1}},CJ=By;let PJ={};function Zo(){return PJ}const wR=6048e5,RJ=864e5,kJ=6e4,DJ=36e5,OJ=1e3,dT=Symbol.for("constructDateFrom");function lt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&dT in t?t[dT](e):t instanceof Date?new t.constructor(e):new Date(e)}function We(t,e){return lt(e||t,t)}function Wd(t){const e=We(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function xJ(t,...e){const n=lt.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function hT(t,e){const n=We(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function NJ(t,e,n){const[r,i]=xJ(n==null?void 0:n.in,t,e),s=hT(r),o=hT(i),a=+s-Wd(s),l=+o-Wd(o);return Math.round((a-l)/RJ)}function MJ(t,e){const n=We(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LJ(t,e){const n=We(t,e==null?void 0:e.in);return NJ(n,MJ(n))+1}function Rr(t,e){var a,l,c,d;const n=Zo(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=We(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Do(t,e){return Rr(t,{...e,weekStartsOn:1})}function ER(t,e){const n=We(t,e==null?void 0:e.in),r=n.getFullYear(),i=lt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Do(i),o=lt(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Do(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function $J(t,e){const n=ER(t,e),r=lt((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Do(r)}function TR(t,e){const n=We(t,e==null?void 0:e.in),r=+Do(n)-+$J(n);return Math.round(r/wR)+1}function Hy(t,e){var d,f,h,g;const n=We(t,e==null?void 0:e.in),r=n.getFullYear(),i=Zo(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(h=i.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=lt((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Rr(o,e),l=lt((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Rr(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function VJ(t,e){var a,l,c,d;const n=Zo(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=Hy(t,e),s=lt((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Rr(s,e)}function SR(t,e){const n=We(t,e==null?void 0:e.in),r=+Rr(n,e)-+VJ(n,e);return Math.round(r/wR)+1}function ye(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ye(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ye(n+1,2)},d(t,e){return ye(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ye(t.getHours()%12||12,e.length)},H(t,e){return ye(t.getHours(),e.length)},m(t,e){return ye(t.getMinutes(),e.length)},s(t,e){return ye(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ye(i,e.length)}},xs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fr.y(t,e)},Y:function(t,e,n,r){const i=Hy(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ye(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ye(s,e.length)},R:function(t,e){const n=ER(t);return ye(n,e.length)},u:function(t,e){const n=t.getFullYear();return ye(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=SR(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ye(i,e.length)},I:function(t,e,n){const r=TR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ye(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fr.d(t,e)},D:function(t,e,n){const r=LJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ye(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ye(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ye(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ye(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xs.noon:r===0?i=xs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xs.evening:r>=12?i=xs.afternoon:r>=4?i=xs.morning:i=xs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ye(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ye(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fr.s(t,e)},S:function(t,e){return Fr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mT(r);case"XXXX":case"XX":return Fi(r);case"XXXXX":case"XXX":default:return Fi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return mT(r);case"xxxx":case"xx":return Fi(r);case"xxxxx":case"xxx":default:return Fi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pT(r,":");case"OOOO":default:return"GMT"+Fi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pT(r,":");case"zzzz":default:return"GMT"+Fi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ye(r,e.length)},T:function(t,e,n){return ye(+t,e.length)}};function pT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ye(s,2)}function mT(t,e){return t%60===0?(t>0?"-":"+")+ye(Math.abs(t)/60,2):Fi(t,e)}function Fi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ye(Math.trunc(r/60),2),s=ye(r%60,2);return n+i+e+s}const gT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},IR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",gT(r,e)).replace("{{time}}",IR(i,e))},ng={p:IR,P:FJ},UJ=/^D+$/,jJ=/^Y+$/,zJ=["D","DD","YY","YYYY"];function bR(t){return UJ.test(t)}function AR(t){return jJ.test(t)}function rg(t,e,n){const r=BJ(t,e,n);if(console.warn(r),zJ.includes(t))throw new RangeError(r)}function BJ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function HJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function WJ(t){return!(!HJ(t)&&typeof t!="number"||isNaN(+We(t)))}const GJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KJ=/^'([^]*?)'?$/,YJ=/''/g,QJ=/[a-zA-Z]/;function XJ(t,e,n){var d,f,h,g,w,v,b,E;const r=Zo(),i=(n==null?void 0:n.locale)??r.locale??By,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((E=(b=r.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,a=We(t,n==null?void 0:n.in);if(!WJ(a))throw new RangeError("Invalid time value");let l=e.match(qJ).map(y=>{const I=y[0];if(I==="p"||I==="P"){const R=ng[I];return R(y,i.formatLong)}return y}).join("").match(GJ).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const I=y[0];if(I==="'")return{isToken:!1,value:JJ(y)};if(fT[I])return{isToken:!0,value:y};if(I.match(QJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const I=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&AR(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&bR(I))&&rg(I,e,String(t));const R=fT[I[0]];return R(a,I,i.localize,c)}).join("")}function JJ(t){const e=t.match(KJ);return e?e[1].replace(YJ,"'"):t}function ZJ(){return Object.assign({},Zo())}function eZ(t,e){const n=tZ(e)?new e(0):lt(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function tZ(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const nZ=10;class CR{constructor(){W(this,"subPriority",0)}validate(e,n){return!0}}class rZ extends CR{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class iZ extends CR{constructor(n,r){super();W(this,"priority",nZ);W(this,"subPriority",-1);this.context=n||(i=>lt(r,i))}set(n,r){return r.timestampIsSet?n:lt(n,eZ(n,this.context))}}class ge{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new rZ(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class sZ extends ge{constructor(){super(...arguments);W(this,"priority",140);W(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Be={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},qn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function He(t,e){return t&&{value:e(t.value),rest:t.rest}}function Oe(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Kn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*DJ+s*kJ+o*OJ),rest:e.slice(n[0].length)}}function PR(t){return Oe(Be.anyDigitsSigned,t)}function Ue(t,e){switch(t){case 1:return Oe(Be.singleDigit,e);case 2:return Oe(Be.twoDigits,e);case 3:return Oe(Be.threeDigits,e);case 4:return Oe(Be.fourDigits,e);default:return Oe(new RegExp("^\\d{1,"+t+"}"),e)}}function Gd(t,e){switch(t){case 1:return Oe(Be.singleDigitSigned,e);case 2:return Oe(Be.twoDigitsSigned,e);case 3:return Oe(Be.threeDigitsSigned,e);case 4:return Oe(Be.fourDigitsSigned,e);default:return Oe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Wy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function RR(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function kR(t){return t%400===0||t%4===0&&t%100!==0}class oZ extends ge{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return He(Ue(4,n),s);case"yo":return He(i.ordinalNumber(n,{unit:"year"}),s);default:return He(Ue(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=RR(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class aZ extends ge{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return He(Ue(4,n),s);case"Yo":return He(i.ordinalNumber(n,{unit:"year"}),s);default:return He(Ue(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Hy(n,s);if(i.isTwoDigitYear){const l=RR(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Rr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Rr(n,s)}}class lZ extends ge{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Gd(r==="R"?4:r.length,n)}set(n,r,i){const s=lt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Do(s)}}class uZ extends ge{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Gd(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class cZ extends ge{constructor(){super(...arguments);W(this,"priority",120);W(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Ue(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class dZ extends ge{constructor(){super(...arguments);W(this,"priority",120);W(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Ue(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class hZ extends ge{constructor(){super(...arguments);W(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);W(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return He(Oe(Be.month,n),s);case"MM":return He(Ue(2,n),s);case"Mo":return He(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class fZ extends ge{constructor(){super(...arguments);W(this,"priority",110);W(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return He(Oe(Be.month,n),s);case"LL":return He(Ue(2,n),s);case"Lo":return He(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function pZ(t,e,n){const r=We(t,n==null?void 0:n.in),i=SR(r,n)-e;return r.setDate(r.getDate()-i*7),We(r,n==null?void 0:n.in)}class mZ extends ge{constructor(){super(...arguments);W(this,"priority",100);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Oe(Be.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Rr(pZ(n,i,s),s)}}function gZ(t,e,n){const r=We(t,n==null?void 0:n.in),i=TR(r,n)-e;return r.setDate(r.getDate()-i*7),r}class vZ extends ge{constructor(){super(...arguments);W(this,"priority",100);W(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Oe(Be.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Do(gZ(n,i))}}const yZ=[31,28,31,30,31,30,31,31,30,31,30,31],_Z=[31,29,31,30,31,30,31,31,30,31,30,31];class wZ extends ge{constructor(){super(...arguments);W(this,"priority",90);W(this,"subPriority",1);W(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Oe(Be.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Ue(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=kR(i),o=n.getMonth();return s?r>=1&&r<=_Z[o]:r>=1&&r<=yZ[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class EZ extends ge{constructor(){super(...arguments);W(this,"priority",90);W(this,"subpriority",1);W(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Oe(Be.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Ue(r.length,n)}}validate(n,r){const i=n.getFullYear();return kR(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function DR(t,e,n){const r=We(t,n==null?void 0:n.in);return isNaN(e)?lt((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Gy(t,e,n){var f,h,g,w;const r=Zo(),i=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,s=We(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return DR(s,d,n)}class TZ extends ge{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Gy(n,i,s),n.setHours(0,0,0,0),n}}class SZ extends ge{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return He(Ue(r.length,n),o);case"eo":return He(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Gy(n,i,s),n.setHours(0,0,0,0),n}}class IZ extends ge{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return He(Ue(r.length,n),o);case"co":return He(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Gy(n,i,s),n.setHours(0,0,0,0),n}}function bZ(t,e){const n=We(t,e==null?void 0:e.in).getDay();return n===0?7:n}function AZ(t,e,n){const r=We(t,n==null?void 0:n.in),i=bZ(r,n),s=e-i;return DR(r,s,n)}class CZ extends ge{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Ue(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return He(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return He(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return He(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return He(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=AZ(n,i),n.setHours(0,0,0,0),n}}class PZ extends ge{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Wy(i),0,0,0),n}}class RZ extends ge{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Wy(i),0,0,0),n}}class kZ extends ge{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Wy(i),0,0,0),n}}class DZ extends ge{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Oe(Be.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class OZ extends ge{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Oe(Be.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class xZ extends ge{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Oe(Be.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class NZ extends ge{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Oe(Be.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class MZ extends ge{constructor(){super(...arguments);W(this,"priority",60);W(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Oe(Be.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class LZ extends ge{constructor(){super(...arguments);W(this,"priority",50);W(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Oe(Be.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class $Z extends ge{constructor(){super(...arguments);W(this,"priority",30);W(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return He(Ue(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class VZ extends ge{constructor(){super(...arguments);W(this,"priority",10);W(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Kn(qn.basicOptionalMinutes,n);case"XX":return Kn(qn.basic,n);case"XXXX":return Kn(qn.basicOptionalSeconds,n);case"XXXXX":return Kn(qn.extendedOptionalSeconds,n);case"XXX":default:return Kn(qn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:lt(n,n.getTime()-Wd(n)-i)}}class FZ extends ge{constructor(){super(...arguments);W(this,"priority",10);W(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Kn(qn.basicOptionalMinutes,n);case"xx":return Kn(qn.basic,n);case"xxxx":return Kn(qn.basicOptionalSeconds,n);case"xxxxx":return Kn(qn.extendedOptionalSeconds,n);case"xxx":default:return Kn(qn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:lt(n,n.getTime()-Wd(n)-i)}}class UZ extends ge{constructor(){super(...arguments);W(this,"priority",40);W(this,"incompatibleTokens","*")}parse(n){return PR(n)}set(n,r,i){return[lt(n,i*1e3),{timestampIsSet:!0}]}}class jZ extends ge{constructor(){super(...arguments);W(this,"priority",20);W(this,"incompatibleTokens","*")}parse(n){return PR(n)}set(n,r,i){return[lt(n,i),{timestampIsSet:!0}]}}const zZ={G:new sZ,y:new oZ,Y:new aZ,R:new lZ,u:new uZ,Q:new cZ,q:new dZ,M:new hZ,L:new fZ,w:new mZ,I:new vZ,d:new wZ,D:new EZ,E:new TZ,e:new SZ,c:new IZ,i:new CZ,a:new PZ,b:new RZ,B:new kZ,h:new DZ,H:new OZ,K:new xZ,k:new NZ,m:new MZ,s:new LZ,S:new $Z,X:new VZ,x:new FZ,t:new UZ,T:new jZ},BZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WZ=/^'([^]*?)'?$/,GZ=/''/g,qZ=/\S/,KZ=/[a-zA-Z]/;function YZ(t,e,n,r){var b,E,y,I,R,O,x,T;const i=()=>lt((r==null?void 0:r.in)||n,NaN),s=ZJ(),o=(r==null?void 0:r.locale)??s.locale??By,a=(r==null?void 0:r.firstWeekContainsDate)??((E=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(y=s.locale)==null?void 0:y.options)==null?void 0:I.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((O=(R=r==null?void 0:r.locale)==null?void 0:R.options)==null?void 0:O.weekStartsOn)??s.weekStartsOn??((T=(x=s.locale)==null?void 0:x.options)==null?void 0:T.weekStartsOn)??0;if(!e)return t?i():We(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new iZ(r==null?void 0:r.in,n)],f=e.match(HZ).map(_=>{const S=_[0];if(S in ng){const C=ng[S];return C(_,o.formatLong)}return _}).join("").match(BZ),h=[];for(let _ of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&AR(_)&&rg(_,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&bR(_)&&rg(_,e,t);const S=_[0],C=zZ[S];if(C){const{incompatibleTokens:k}=C;if(Array.isArray(k)){const P=h.find(Q=>k.includes(Q.token)||Q.token===S);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${_}\` at the same time`)}else if(C.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);h.push({token:S,fullToken:_});const D=C.run(t,_,o.match,c);if(!D)return i();d.push(D.setter),t=D.rest}else{if(S.match(KZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(_==="''"?_="'":S==="'"&&(_=QZ(_)),t.indexOf(_)===0)t=t.slice(_.length);else return i()}}if(t.length>0&&qZ.test(t))return i();const g=d.map(_=>_.priority).sort((_,S)=>S-_).filter((_,S,C)=>C.indexOf(_)===S).map(_=>d.filter(S=>S.priority===_).sort((S,C)=>C.subPriority-S.subPriority)).map(_=>_[0]);let w=We(n,r==null?void 0:r.in);if(isNaN(+w))return i();const v={};for(const _ of g){if(!_.validate(w,c))return i();const S=_.set(w,v,c);Array.isArray(S)?(w=S[0],Object.assign(v,S[1])):w=S}return w}function QZ(t){return t.match(WZ)[1].replace(GZ,"'")}function XZ(t,e){return We(t,e==null?void 0:e.in).getDay()}const JZ={"en-US":CJ},ZZ=KX({format:XJ,parse:YZ,startOfWeek:Rr,getDay:XZ,locales:JZ});function eee(t){return t?t.map(e=>{var n,r;return{id:e.id,title:e.summary||"(No Title)",start:new Date(e.start.dateTime||e.start.date),end:new Date(((n=e.end)==null?void 0:n.dateTime)||((r=e.end)==null?void 0:r.date)||e.start.dateTime||e.start.date),allDay:!e.start.dateTime}}):[]}function tee({events:t}){const e=eee(t);return $.jsx("div",{style:{height:500},children:$.jsx(zX,{localizer:ZZ,events:e,startAccessor:"start",endAccessor:"end",titleAccessor:"title",allDayAccessor:"allDay",style:{height:500}})})}function nee({calendarEvents:t,showAddEvent:e,setShowAddEvent:n,fetchCalendar:r}){return $.jsx(ty,{className:"container",children:$.jsxs(ny,{children:[$.jsx("h2",{children:"Google Calendar:"}),t&&t.length>0?$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"calendar-header",children:[$.jsx("h3",{className:"calendar-title",children:"Upcoming Events"}),$.jsx(lo,{onClick:()=>n(!0),children:"Add Event"})]}),$.jsx(tee,{events:t})]}):$.jsxs("div",{children:[$.jsx("p",{children:"No calendar events found"}),$.jsx(lo,{onClick:()=>n(!0),children:"Add Event"})]})]})})}function ree({task:t,onClose:e}){const[n,r]=B.useState(t!=null&&t.active?"Active":"Inactive"),[i,s]=B.useState(null);B.useEffect(()=>{const h=Ai.onAuthStateChanged(g=>s(g));return()=>h()},[]);const o=h=>{if(!h)return"";const[g,w,v]=h.split("-");return`${w}/${v}`};if(!t)return null;const a=async()=>{await CE(Vs(Hn,"tasks",t.id)),e()},l=async()=>{const h=Vs(Hn,"tasks",t.id),g=!t.active;await AE(h,{active:g}),t.active=g,r(g?"Active":"Inactive")},c=async()=>{const h=Vs(Hn,"tasks",t.id),g=Vs(Hn,"CompletedTasks",t.id),w={...t,completedAt:new Date().toISOString()};await TV(g,w),await CE(h),e()},d=async()=>{if(t.repoName){if(!i){alert("Please log in to access your repositories.");return}const h=kd(il(Hn,"repos"),Dd("uid","==",i.uid)),w=(await EV(h)).docs.find(v=>v.data().name===t.repoName);if(w){const v=w.data();console.log("Repository data found:",v);let b;if(v.html_url)b=v.html_url;else if(v.htmlUrl)b=v.htmlUrl;else if(v.full_name)b=`https://github.com/${v.full_name}`;else if(v.fullName)b=`https://github.com/${v.fullName}`;else if(v.owner&&v.name)b=`https://github.com/${v.owner}/${v.name}`;else if(v.owner)b=`https://github.com/${v.owner}/${t.repoName}`;else{console.log("Repository URL data missing, available fields:",Object.keys(v));const E=localStorage.getItem("github_access_token");if(!E){alert("GitHub authentication required to access repository. Please log in to GitHub and try again.");return}try{console.log("Attempting to link repository with GitHub API...");const I=await(await fetch("/api/github-create-repo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({name:v.name,description:`Repository for task: ${t.task}`,private:!0,autoInit:!1,uid:i==null?void 0:i.uid})})).json();if(I.success&&I.repository&&I.repository.html_url){console.log("Successfully linked repository:",I.repository.html_url),window.open(I.repository.html_url,"_blank");return}else console.error("Failed to link repository:",I)}catch(y){console.error("Error linking repository:",y)}try{const y=await fetch("/api/github-files",{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(y.ok){const I=await y.json();I.user&&I.user.login&&(b=`https://github.com/${I.user.login}/${v.name}`,console.log("Constructed repository URL from user info:",b))}}catch(y){console.error("Failed to get GitHub user info:",y)}if(!b){alert(`Repository "${v.name}" found in database but lacks URL information.

This might be an older repository entry. Please try:
1. Make sure you're logged into GitHub
2. Click "Create Repository" to properly link it
3. Or visit your GitHub profile manually to find the repository`);return}}console.log("Opening repository URL:",b),window.open(b,"_blank")}else alert("Repository not found in database.")}else{const h=prompt("Enter a name for the new repository:");if(h){const g=localStorage.getItem("github_access_token");if(!g){alert("Please authenticate with GitHub first.");return}try{const v=await(await fetch("/api/github-create-repo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({name:h,description:`Repository for task: ${t.task}`,private:!0,autoInit:!0,taskId:t.id,uid:i==null?void 0:i.uid})})).json();if(v.success){alert(`Repository '${h}' ${v.action==="created"?"created":"linked"} successfully!`);const b=Vs(Hn,"tasks",t.id);await AE(b,{repoName:h}),v.repository&&v.repository.html_url&&window.open(v.repository.html_url,"_blank")}else alert(`Failed to create repository: ${v.error||"Unknown error"}`)}catch(w){console.error("Repository creation error:",w),alert("Failed to create repository. Please try again.")}}}},f=async()=>{if(!t.repoName){alert("No repository name associated with this task.");return}const h=localStorage.getItem("github_access_token");if(!h){alert("Please authenticate with GitHub first.");return}try{const w=await(await fetch("/api/github-create-repo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({name:t.repoName,description:`Repository for task: ${t.task}`,private:!0,autoInit:!1,uid:i==null?void 0:i.uid})})).json();w.success?(alert(`Repository '${t.repoName}' ${w.action==="created"?"created":"relinked"} successfully!`),w.repository&&w.repository.html_url&&window.open(w.repository.html_url,"_blank")):alert(`Failed to relink repository: ${w.error||"Unknown error"}`)}catch(g){console.error("Repository relink error:",g),alert("Failed to relink repository. Please try again.")}};return $.jsxs($.Fragment,{children:[$.jsx("div",{className:"blur-overlay"}),$.jsx("div",{className:`container popup-overlay${t.active?" active-task":""}`,onClick:e,children:$.jsxs("div",{className:"popup-content",onClick:h=>h.stopPropagation(),children:[$.jsx("h2",{children:"Task Options"}),$.jsxs("div",{className:"popup-items",children:[$.jsxs("div",{className:"popup-details",children:[$.jsxs("p",{children:[$.jsx("strong",{children:"Task:"})," ",t.task]}),$.jsxs("p",{children:[$.jsx("strong",{children:"Priority:"})," ",t.priority]}),$.jsxs("p",{children:[$.jsx("strong",{children:"Due:"})," ",o(t.dueDate)]})]}),$.jsxs("div",{className:"popup-options",children:[$.jsx("button",{className:`button ${n==="Active"?"taskActive":""}`,onClick:l,children:n}),$.jsx("button",{className:"button",onClick:c,children:"Complete"}),$.jsx("button",{className:"button",children:"Edit"}),$.jsx("button",{className:"button",onClick:a,children:"Delete"}),$.jsx("button",{className:"button",onClick:e,children:"Close"}),"              ",$.jsx("button",{className:"button",onClick:d,children:t.repoName?"Go to Repository":"Create Repository"}),t.repoName&&$.jsx("button",{className:"button",onClick:f,style:{fontSize:"0.9rem"},children:"Relink Repository"})]})]})]})})]})}function iee(){const[t,e]=B.useState(""),[n,r]=B.useState(1),[i,s]=B.useState(""),[o,a]=B.useState(!1),[l,c]=B.useState(""),[d,f]=B.useState(null),[h,g]=B.useState([]),[w,v]=B.useState("dueDate"),[b,E]=B.useState(null),y=()=>{v(T=>T==="priority"?"dueDate":"priority")},I=async()=>{if(!d){alert("You must be signed in to add a task.");return}if(!t||!i){alert("Please enter a task name and due date.");return}try{await SV(il(Hn,"tasks"),{uid:d.uid,task:t,priority:n,dueDate:i,created:Date.now(),active:!1,repoName:""}),e(""),r(1),s(""),a(!1),c("")}catch(T){alert("Failed to add task: "+T.message)}},R=T=>{E(T)};B.useEffect(()=>{const T=Ai.onAuthStateChanged(_=>f(_));return()=>T()},[]),B.useEffect(()=>{if(!d){g([]);return}let T;w==="dueDate"?T=kd(il(Hn,"tasks"),Dd("uid","==",d.uid),cc("dueDate","desc"),cc("priority")):T=kd(il(Hn,"tasks"),Dd("uid","==",d.uid),cc("priority"),cc("dueDate","desc"));const _=lC(T,S=>{g(S.docs.map(C=>({id:C.id,...C.data()})))});return()=>_()},[d,w]),console.log("tasks from Firestore:",h);const O=T=>{if(!T)return"";const[_,S,C]=T.split("-");return!_||!S||!C?T:`${S}/${C}`},x=h.map(T=>[T.task,T.priority,O(T.dueDate)]);return $.jsxs("div",{className:"container submissions task",children:[$.jsx("h2",{children:"Tasks"}),$.jsxs("div",{className:"task-inputs",children:[$.jsx("input",{type:"text",placeholder:"Enter New Task",className:"input",value:t,onChange:T=>e(T.target.value)}),$.jsx("select",{className:"button input num-selector",value:n,onChange:T=>r(Number(T.target.value)),children:[1,2,3,4,5].map(T=>$.jsx("option",{value:T,children:T},T))}),$.jsxs("div",{className:"date-wrapper",children:[$.jsx("input",{type:"date",className:"button input date",value:i,onChange:T=>s(T.target.value)}),$.jsx("img",{src:"/img/calendar-icon.png",alt:"Open calendar",className:"calendar-icon",onClick:()=>{var T,_;return(_=(T=document.querySelector(".date")).showPicker)==null?void 0:_.call(T)}})]})]}),$.jsxs("div",{className:"task-options",children:[$.jsx("button",{className:"button",onClick:I,children:"Add Task"}),$.jsx("button",{className:"button",onClick:y,children:w.toUpperCase()})]}),$.jsx("div",{className:"submissions-body",children:x.length>0?h.map(T=>$.jsxs("div",{className:`submission-row-container task-container ${T.active?"taskActive":""}`,onClick:()=>R(T),children:[$.jsx("div",{className:"task-cell",children:T.task}),$.jsx("div",{className:"task-cell",children:T.priority}),$.jsx("div",{className:"task-cell",children:O(T.dueDate)})]},T.id)):$.jsx("div",{className:"no-submissions-message",children:"No Tasks"})}),$.jsx(ree,{task:b,onClose:()=>E(null)})]})}async function see(t){const e=hn.credential(null,t);await eM(Ai,e)}function oee(){const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,s]=B.useState(""),[o,a]=B.useState(""),[l,c]=B.useState(""),[d,f]=B.useState(!1),h=B.useCallback(async()=>{if(!t.trim())return;f(!0),c(""),a("");const v=LE.PROJECT_IDEAS(t);try{const E=await(await fetch(ls.AI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:v})})).json();r(E.response),s(E.response)}catch(b){console.error("Failed to get AI suggestion:",b)}finally{f(!1)}},[t]),g=B.useCallback(async()=>{if(!o.trim())return;f(!0),c("");const v=LE.CLARIFICATION(t,i,o);try{const E=await(await fetch(ls.AI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:v})})).json();s(E.response),a("")}catch(b){console.error("Failed to get clarified suggestion:",b)}finally{f(!1)}},[o,t,i]);return{projectName:t,setProjectName:e,clarification:o,setClarification:a,selectedBullet:l,setSelectedBullet:c,loading:d,breakdownToShow:i||n,handleAISuggestion:h,handleClarification:g}}function aee(){const[t,e]=B.useState([]),[n,r]=B.useState(!1),i=B.useCallback(async()=>{const s=localStorage.getItem(zt.GOOGLE_ACCESS_TOKEN);if(!s){console.warn("No access token available for Google Calendar");return}try{const o=await fetch(ls.GOOGLE_CALENDAR,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const a=await o.json();e(a.items||[])}else console.error("Failed to fetch calendar events")}catch(o){console.error("Error fetching calendar events:",o)}},[]);return{calendarEvents:t,showAddEvent:n,setShowAddEvent:r,fetchCalendar:i}}function lee(t){if(!t||typeof t!="string")return Pa.DEFAULT_NAME;let e=t.trim().replace(/\s+/g,"_").replace(Pa.NAME_REGEX,"").replace(Pa.CLEANUP_REGEX,"").substring(0,Pa.MAX_NAME_LENGTH);return e||Pa.DEFAULT_NAME}function uee(t){return!t||typeof t!="string"?"":t.split(":")[0].trim()}function cee(t){return`Repository for project: ${t}`}function dee(t){const e=B.useCallback(async()=>{if(t)try{const r=localStorage.getItem(zt.GITHUB_ACCESS_TOKEN);if(!r)return;const i=await fetch(ls.GITHUB_SYNC,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({uid:t.uid})});if(i.ok){const s=await i.json();return console.log("GitHub sync completed:",s),s}else console.error("GitHub sync failed:",i.status)}catch(r){console.error("Error syncing GitHub repositories:",r)}},[t]),n=B.useCallback(async r=>{const i=uee(r),s=lee(i);try{const o=localStorage.getItem(zt.GITHUB_ACCESS_TOKEN),a={"Content-Type":"application/json"};o&&(a.Authorization=`Bearer ${o}`);const c=await(await fetch(ls.GITHUB_CREATE_REPO,{method:"POST",headers:a,body:JSON.stringify({name:s,description:cee(r),private:!0,autoInit:!0,uid:t==null?void 0:t.uid})})).json();if(c.success){const d=c.action==="created"?"created":"linked to existing";alert(`GitHub repository "${s}" ${d} successfully!`),await e(),c.repository&&c.repository.html_url&&window.open(c.repository.html_url,"_blank")}else{console.error("Repository creation failed:",c);const d=c.error||"Unknown error occurred";alert(`Failed to create repository: ${d}`),c.error&&c.error.includes("Unauthorized")&&alert("Please re-authenticate with GitHub and try again.")}}catch(o){console.error("Error creating repository:",o),alert("Failed to create repository. Please try again.")}},[e,t]);return{syncGitHubRepositories:e,handleSelectBullet:n}}function hee(){const[t,e]=B.useState(null),n=B.useCallback(async()=>{try{let r=ls.GOOGLE_FORM_RESPONSES;const i=await fetch(r);if(i.ok){const s=await i.json();e(s.values)}else console.error("Failed to fetch form responses")}catch(r){console.error("Error fetching form responses:",r)}},[]);return{formResponses:t,fetchFormResponses:n}}function fee(){const[t,e]=B.useState(null),n=oee(),r=aee(),i=dee(t),s=hee();return B.useEffect(()=>{const o=Ai.onAuthStateChanged(a=>e(a));return()=>o()},[]),B.useEffect(()=>{const o=new URL(window.location.href),a=o.searchParams.get("access_token"),l=o.searchParams.get("github_access_token");a?(localStorage.setItem(zt.GOOGLE_ACCESS_TOKEN,a),setTimeout(()=>{window.history.replaceState({},document.title,window.location.pathname)},100),see(a).then(()=>{window.history.replaceState({},document.title,window.location.pathname)}).catch(d=>{alert("Firebase sign-in failed: "+d.message)}),r.fetchCalendar()):l?(localStorage.setItem(zt.GITHUB_ACCESS_TOKEN,l),setTimeout(()=>{window.history.replaceState({},document.title,window.location.pathname)},100)):localStorage.getItem(zt.GOOGLE_ACCESS_TOKEN)&&r.fetchCalendar(),s.fetchFormResponses();const c=setInterval(()=>{s.fetchFormResponses(),console.log((t==null?void 0:t.uid)||"No Firebase user logged in")},DC.FORM_RESPONSES);return()=>clearInterval(c)},[r.fetchCalendar,s.fetchFormResponses]),$.jsxs("main",{children:[$.jsxs("div",{className:"header",children:[$.jsx(QF,{}),$.jsx("h1",{className:"main-title",children:"Fuller Tracking"})]}),$.jsxs("div",{className:"main-container",children:[$.jsxs("div",{className:"row1-container",children:[$.jsx(iee,{}),$.jsx(LC,{formResponses:s.formResponses})]}),$.jsxs("div",{className:"row2-container",children:[$.jsx(VC,{projectName:n.projectName,setProjectName:n.setProjectName,clarification:n.clarification,setClarification:n.setClarification,loading:n.loading,breakdownToShow:n.breakdownToShow,selectedBullet:n.selectedBullet,setSelectedBullet:n.setSelectedBullet,handleAISuggestion:n.handleAISuggestion,handleClarification:n.handleClarification,handleSelectBullet:i.handleSelectBullet}),$.jsx(XF,{}),$.jsx(nee,{calendarEvents:r.calendarEvents,showAddEvent:r.showAddEvent,setShowAddEvent:r.setShowAddEvent,fetchCalendar:r.fetchCalendar}),$.jsx(r4,{open:r.showAddEvent,onClose:()=>r.setShowAddEvent(!1),onEventAdded:r.fetchCalendar})]})]})]})}wp.createRoot(document.getElementById("root")).render($.jsx(fee,{}));
